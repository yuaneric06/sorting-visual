(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&r(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=o(u);fetch(u.href,f)}})();var Qu={exports:{}},Ol={};var rm;function zy(){if(rm)return Ol;rm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(r,u,f){var m=null;if(f!==void 0&&(m=""+f),u.key!==void 0&&(m=""+u.key),"key"in u){f={};for(var v in u)v!=="key"&&(f[v]=u[v])}else f=u;return u=f.ref,{$$typeof:i,type:r,key:m,ref:u!==void 0?u:null,props:f}}return Ol.Fragment=t,Ol.jsx=o,Ol.jsxs=o,Ol}var am;function Oy(){return am||(am=1,Qu.exports=zy()),Qu.exports}var We=Oy(),Zu={exports:{}},Yl={},$u={exports:{}},Wu={};var sm;function Yy(){return sm||(sm=1,(function(i){function t(z,j){var me=z.length;z.push(j);e:for(;0<me;){var he=me-1>>>1,De=z[he];if(0<u(De,j))z[he]=j,z[me]=De,me=he;else break e}}function o(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],me=z.pop();if(me!==j){z[0]=me;e:for(var he=0,De=z.length,b=De>>>1;he<b;){var X=2*(he+1)-1,le=z[X],re=X+1,Se=z[re];if(0>u(le,me))re<De&&0>u(Se,le)?(z[he]=Se,z[re]=me,he=re):(z[he]=le,z[X]=me,he=X);else if(re<De&&0>u(Se,me))z[he]=Se,z[re]=me,he=re;else break e}}return j}function u(z,j){var me=z.sortIndex-j.sortIndex;return me!==0?me:z.id-j.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,v=m.now();i.unstable_now=function(){return m.now()-v}}var y=[],g=[],_=1,T=null,C=3,w=!1,k=!1,Y=!1,q=!1,Z=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function se(z){for(var j=o(g);j!==null;){if(j.callback===null)r(g);else if(j.startTime<=z)r(g),j.sortIndex=j.expirationTime,t(y,j);else break;j=o(g)}}function pe(z){if(Y=!1,se(z),!k)if(o(y)!==null)k=!0,$||($=!0,oe());else{var j=o(g);j!==null&&$e(pe,j.startTime-z)}}var $=!1,J=-1,ce=5,W=-1;function ie(){return q?!0:!(i.unstable_now()-W<ce)}function ge(){if(q=!1,$){var z=i.unstable_now();W=z;var j=!0;try{e:{k=!1,Y&&(Y=!1,ne(J),J=-1),w=!0;var me=C;try{t:{for(se(z),T=o(y);T!==null&&!(T.expirationTime>z&&ie());){var he=T.callback;if(typeof he=="function"){T.callback=null,C=T.priorityLevel;var De=he(T.expirationTime<=z);if(z=i.unstable_now(),typeof De=="function"){T.callback=De,se(z),j=!0;break t}T===o(y)&&r(y),se(z)}else r(y);T=o(y)}if(T!==null)j=!0;else{var b=o(g);b!==null&&$e(pe,b.startTime-z),j=!1}}break e}finally{T=null,C=me,w=!1}j=void 0}}finally{j?oe():$=!1}}}var oe;if(typeof ee=="function")oe=function(){ee(ge)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ie=de.port2;de.port1.onmessage=ge,oe=function(){Ie.postMessage(null)}}else oe=function(){Z(ge,0)};function $e(z,j){J=Z(function(){z(i.unstable_now())},j)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(z){z.callback=null},i.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<z?Math.floor(1e3/z):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(z){switch(C){case 1:case 2:case 3:var j=3;break;default:j=C}var me=C;C=j;try{return z()}finally{C=me}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var me=C;C=z;try{return j()}finally{C=me}},i.unstable_scheduleCallback=function(z,j,me){var he=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?he+me:he):me=he,z){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=me+De,z={id:_++,callback:j,priorityLevel:z,startTime:me,expirationTime:De,sortIndex:-1},me>he?(z.sortIndex=me,t(g,z),o(y)===null&&z===o(g)&&(Y?(ne(J),J=-1):Y=!0,$e(pe,me-he))):(z.sortIndex=De,t(y,z),k||w||(k=!0,$||($=!0,oe()))),z},i.unstable_shouldYield=ie,i.unstable_wrapCallback=function(z){var j=C;return function(){var me=C;C=j;try{return z.apply(this,arguments)}finally{C=me}}}})(Wu)),Wu}var um;function Jy(){return um||(um=1,$u.exports=Yy()),$u.exports}var ju={exports:{}},Ae={};var cm;function Ky(){if(cm)return Ae;cm=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function w(b){return b===null||typeof b!="object"?null:(b=C&&b[C]||b["@@iterator"],typeof b=="function"?b:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,q={};function Z(b,X,le){this.props=b,this.context=X,this.refs=q,this.updater=le||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(b,X){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,X,"setState")},Z.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function ne(){}ne.prototype=Z.prototype;function ee(b,X,le){this.props=b,this.context=X,this.refs=q,this.updater=le||k}var se=ee.prototype=new ne;se.constructor=ee,Y(se,Z.prototype),se.isPureReactComponent=!0;var pe=Array.isArray;function $(){}var J={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function W(b,X,le){var re=le.ref;return{$$typeof:i,type:b,key:X,ref:re!==void 0?re:null,props:le}}function ie(b,X){return W(b.type,X,b.props)}function ge(b){return typeof b=="object"&&b!==null&&b.$$typeof===i}function oe(b){var X={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(le){return X[le]})}var de=/\/+/g;function Ie(b,X){return typeof b=="object"&&b!==null&&b.key!=null?oe(""+b.key):X.toString(36)}function $e(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then($,$):(b.status="pending",b.then(function(X){b.status==="pending"&&(b.status="fulfilled",b.value=X)},function(X){b.status==="pending"&&(b.status="rejected",b.reason=X)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function z(b,X,le,re,Se){var we=typeof b;(we==="undefined"||we==="boolean")&&(b=null);var He=!1;if(b===null)He=!0;else switch(we){case"bigint":case"string":case"number":He=!0;break;case"object":switch(b.$$typeof){case i:case t:He=!0;break;case _:return He=b._init,z(He(b._payload),X,le,re,Se)}}if(He)return Se=Se(b),He=re===""?"."+Ie(b,0):re,pe(Se)?(le="",He!=null&&(le=He.replace(de,"$&/")+"/"),z(Se,X,le,"",function(ti){return ti})):Se!=null&&(ge(Se)&&(Se=ie(Se,le+(Se.key==null||b&&b.key===Se.key?"":(""+Se.key).replace(de,"$&/")+"/")+He)),X.push(Se)),1;He=0;var Tt=re===""?".":re+":";if(pe(b))for(var tt=0;tt<b.length;tt++)re=b[tt],we=Tt+Ie(re,tt),He+=z(re,X,le,we,Se);else if(tt=w(b),typeof tt=="function")for(b=tt.call(b),tt=0;!(re=b.next()).done;)re=re.value,we=Tt+Ie(re,tt++),He+=z(re,X,le,we,Se);else if(we==="object"){if(typeof b.then=="function")return z($e(b),X,le,re,Se);throw X=String(b),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return He}function j(b,X,le){if(b==null)return b;var re=[],Se=0;return z(b,re,"","",function(we){return X.call(le,we,Se++)}),re}function me(b){if(b._status===-1){var X=b._result;X=X(),X.then(function(le){(b._status===0||b._status===-1)&&(b._status=1,b._result=le)},function(le){(b._status===0||b._status===-1)&&(b._status=2,b._result=le)}),b._status===-1&&(b._status=0,b._result=X)}if(b._status===1)return b._result.default;throw b._result}var he=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},De={map:j,forEach:function(b,X,le){j(b,function(){X.apply(this,arguments)},le)},count:function(b){var X=0;return j(b,function(){X++}),X},toArray:function(b){return j(b,function(X){return X})||[]},only:function(b){if(!ge(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return Ae.Activity=T,Ae.Children=De,Ae.Component=Z,Ae.Fragment=o,Ae.Profiler=u,Ae.PureComponent=ee,Ae.StrictMode=r,Ae.Suspense=y,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(b){return J.H.useMemoCache(b)}},Ae.cache=function(b){return function(){return b.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(b,X,le){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var re=Y({},b.props),Se=b.key;if(X!=null)for(we in X.key!==void 0&&(Se=""+X.key),X)!ce.call(X,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&X.ref===void 0||(re[we]=X[we]);var we=arguments.length-2;if(we===1)re.children=le;else if(1<we){for(var He=Array(we),Tt=0;Tt<we;Tt++)He[Tt]=arguments[Tt+2];re.children=He}return W(b.type,Se,re)},Ae.createContext=function(b){return b={$$typeof:m,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:f,_context:b},b},Ae.createElement=function(b,X,le){var re,Se={},we=null;if(X!=null)for(re in X.key!==void 0&&(we=""+X.key),X)ce.call(X,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Se[re]=X[re]);var He=arguments.length-2;if(He===1)Se.children=le;else if(1<He){for(var Tt=Array(He),tt=0;tt<He;tt++)Tt[tt]=arguments[tt+2];Se.children=Tt}if(b&&b.defaultProps)for(re in He=b.defaultProps,He)Se[re]===void 0&&(Se[re]=He[re]);return W(b,we,Se)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(b){return{$$typeof:v,render:b}},Ae.isValidElement=ge,Ae.lazy=function(b){return{$$typeof:_,_payload:{_status:-1,_result:b},_init:me}},Ae.memo=function(b,X){return{$$typeof:g,type:b,compare:X===void 0?null:X}},Ae.startTransition=function(b){var X=J.T,le={};J.T=le;try{var re=b(),Se=J.S;Se!==null&&Se(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then($,he)}catch(we){he(we)}finally{X!==null&&le.types!==null&&(X.types=le.types),J.T=X}},Ae.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ae.use=function(b){return J.H.use(b)},Ae.useActionState=function(b,X,le){return J.H.useActionState(b,X,le)},Ae.useCallback=function(b,X){return J.H.useCallback(b,X)},Ae.useContext=function(b){return J.H.useContext(b)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(b,X){return J.H.useDeferredValue(b,X)},Ae.useEffect=function(b,X){return J.H.useEffect(b,X)},Ae.useEffectEvent=function(b){return J.H.useEffectEvent(b)},Ae.useId=function(){return J.H.useId()},Ae.useImperativeHandle=function(b,X,le){return J.H.useImperativeHandle(b,X,le)},Ae.useInsertionEffect=function(b,X){return J.H.useInsertionEffect(b,X)},Ae.useLayoutEffect=function(b,X){return J.H.useLayoutEffect(b,X)},Ae.useMemo=function(b,X){return J.H.useMemo(b,X)},Ae.useOptimistic=function(b,X){return J.H.useOptimistic(b,X)},Ae.useReducer=function(b,X,le){return J.H.useReducer(b,X,le)},Ae.useRef=function(b){return J.H.useRef(b)},Ae.useState=function(b){return J.H.useState(b)},Ae.useSyncExternalStore=function(b,X,le){return J.H.useSyncExternalStore(b,X,le)},Ae.useTransition=function(){return J.H.useTransition()},Ae.version="19.2.3",Ae}var fm;function yc(){return fm||(fm=1,ju.exports=Ky()),ju.exports}var ec={exports:{}},bt={};var dm;function Xy(){if(dm)return bt;dm=1;var i=yc();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var r={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(y,g,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:y,containerInfo:g,implementation:_}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,bt.createPortal=function(y,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(y,g,null,_)},bt.flushSync=function(y){var g=m.T,_=r.p;try{if(m.T=null,r.p=2,y)return y()}finally{m.T=g,r.p=_,r.d.f()}},bt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(y,g))},bt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},bt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var _=g.as,T=v(_,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?r.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:w}):_==="script"&&r.d.X(y,{crossOrigin:T,integrity:C,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=v(g.as,g.crossOrigin);r.d.M(y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(y)},bt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,T=v(_,g.crossOrigin);r.d.L(y,_,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(y,g){if(typeof y=="string")if(g){var _=v(g.as,g.crossOrigin);r.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(y)},bt.requestFormReset=function(y){r.d.r(y)},bt.unstable_batchedUpdates=function(y,g){return y(g)},bt.useFormState=function(y,g,_){return m.H.useFormState(y,g,_)},bt.useFormStatus=function(){return m.H.useHostTransitionStatus()},bt.version="19.2.3",bt}var pm;function Qy(){if(pm)return ec.exports;pm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ec.exports=Xy(),ec.exports}var mm;function Zy(){if(mm)return Yl;mm=1;var i=Jy(),t=yc(),o=Qy();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(r(188));return n!==e?null:e}for(var l=e,a=n;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(a=d.return,a!==null){l=a;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return y(d),e;if(p===a)return y(d),n;p=p.sibling}throw Error(r(188))}if(l.return!==a.return)l=d,a=p;else{for(var S=!1,M=d.child;M;){if(M===l){S=!0,l=d,a=p;break}if(M===a){S=!0,a=d,l=p;break}M=M.sibling}if(!S){for(M=p.child;M;){if(M===l){S=!0,l=p,a=d;break}if(M===a){S=!0,a=p,l=d;break}M=M.sibling}if(!S)throw Error(r(189))}}if(l.alternate!==a)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),se=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),ie=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var de=Symbol.for("react.client.reference");function Ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===de?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case Z:return"Profiler";case q:return"StrictMode";case pe:return"Suspense";case $:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case k:return"Portal";case ee:return e.displayName||"Context";case ne:return(e._context.displayName||"Context")+".Consumer";case se:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:Ie(e.type)||"Memo";case ce:n=e._payload,e=e._init;try{return Ie(e(n))}catch{}}return null}var $e=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},he=[],De=-1;function b(e){return{current:e}}function X(e){0>De||(e.current=he[De],he[De]=null,De--)}function le(e,n){De++,he[De]=e.current,e.current=n}var re=b(null),Se=b(null),we=b(null),He=b(null);function Tt(e,n){switch(le(we,n),le(Se,e),le(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Ip(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Ip(n),e=Dp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(re),le(re,e)}function tt(){X(re),X(Se),X(we)}function ti(e){e.memoizedState!==null&&le(He,e);var n=re.current,l=Dp(n,e.type);n!==l&&(le(Se,e),le(re,l))}function to(e){Se.current===e&&(X(re),X(Se)),He.current===e&&(X(He),ql._currentValue=me)}var no,Zl;function Yt(e){if(no===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);no=n&&n[1]||"",Zl=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+no+e+Zl}var Dn=!1;function Zo(e,n){if(!e||Dn)return"";Dn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(V){var H=V}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(V){H=V}e.call(Q.prototype)}}else{try{throw Error()}catch(V){H=V}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(V){if(V&&H&&typeof V.stack=="string")return[V.stack,H.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),S=p[0],M=p[1];if(S&&M){var D=S.split(`
`),F=M.split(`
`);for(d=a=0;a<D.length&&!D[a].includes("DetermineComponentFrameRoot");)a++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(a===D.length||d===F.length)for(a=D.length-1,d=F.length-1;1<=a&&0<=d&&D[a]!==F[d];)d--;for(;1<=a&&0<=d;a--,d--)if(D[a]!==F[d]){if(a!==1||d!==1)do if(a--,d--,0>d||D[a]!==F[d]){var O=`
`+D[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=d);break}}}finally{Dn=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Yt(l):""}function Fa(e,n){switch(e.tag){case 26:case 27:case 5:return Yt(e.type);case 16:return Yt("Lazy");case 13:return e.child!==n&&n!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Zo(e.type,!1);case 11:return Zo(e.type.render,!1);case 1:return Zo(e.type,!0);case 31:return Yt("Activity");default:return""}}function $l(e){try{var n="",l=null;do n+=Fa(e,l),l=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var io=Object.prototype.hasOwnProperty,Un=i.unstable_scheduleCallback,ni=i.unstable_cancelCallback,Pa=i.unstable_shouldYield,Ha=i.unstable_requestPaint,Dt=i.unstable_now,ka=i.unstable_getCurrentPriorityLevel,Wl=i.unstable_ImmediatePriority,jl=i.unstable_UserBlockingPriority,oo=i.unstable_NormalPriority,qa=i.unstable_LowPriority,er=i.unstable_IdlePriority,Va=i.log,Ba=i.unstable_setDisableYieldValue,bi=null,At=null;function Tn(e){if(typeof Va=="function"&&Ba(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(bi,e)}catch{}}var ht=Math.clz32?Math.clz32:Oe,za=Math.log,Oa=Math.LN2;function Oe(e){return e>>>=0,e===0?32:31-(za(e)/Oa|0)|0}var lo=256,xi=262144,hn=4194304;function An(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ro(e,n,l){var a=e.pendingLanes;if(a===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var M=a&134217727;return M!==0?(a=M&~p,a!==0?d=An(a):(S&=M,S!==0?d=An(S):l||(l=M&~e,l!==0&&(d=An(l))))):(M=a&~p,M!==0?d=An(M):S!==0?d=An(S):l||(l=a&~e,l!==0&&(d=An(l)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,l=n&-n,p>=l||p===32&&(l&4194048)!==0)?n:d}function en(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $o(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),e}function Wo(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function Jt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function tr(e,n,l,a,d,p){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var M=e.entanglements,D=e.expirationTimes,F=e.hiddenUpdates;for(l=S&~l;0<l;){var O=31-ht(l),Q=1<<O;M[O]=0,D[O]=-1;var H=F[O];if(H!==null)for(F[O]=null,O=0;O<H.length;O++){var V=H[O];V!==null&&(V.lane&=-536870913)}l&=~Q}a!==0&&Ce(e,a,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function Ce(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-ht(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function nr(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var a=31-ht(l),d=1<<a;d&n|e[a]&n&&(e[a]|=n),l&=~d}}function so(e,n){var l=n&-n;return l=(l&42)!==0?1:uo(l),(l&(e.suspendedLanes|n))!==0?0:l}function uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function jo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function el(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:jp(e.type))}function ir(e,n){var l=j.p;try{return j.p=e,n()}finally{j.p=l}}var Cn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Cn,ot="__reactProps$"+Cn,tn="__reactContainer$"+Cn,Rn="__reactEvents$"+Cn,bn="__reactListeners$"+Cn,Ya="__reactHandles$"+Cn,or="__reactResources$"+Cn,ii="__reactMarker$"+Cn;function tl(e){delete e[gt],delete e[ot],delete e[Rn],delete e[bn],delete e[Ya]}function xn(e){var n=e[gt];if(n)return n;for(var l=e.parentNode;l;){if(n=l[tn]||l[gt]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Pp(e);e!==null;){if(l=e[gt])return l;e=Pp(e)}return n}e=l,l=e.parentNode}return null}function oi(e){if(e=e[gt]||e[tn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function R(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function nn(e){var n=e[or];return n||(n=e[or]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ct(e){e[ii]=!0}var lr=new Set,rr={};function Ln(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(rr[e]=n,e=0;e<n.length;e++)lr.add(n[e])}var Ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ar={},sr={};function Ka(e){return io.call(sr,e)?!0:io.call(ar,e)?!1:Ja.test(e)?sr[e]=!0:(ar[e]=!0,!1)}function Li(e,n,l){if(Ka(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function Gi(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function on(e,n,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+a)}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Xa(e,n,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function co(e){if(!e._valueTracker){var n=Fi(e)?"checked":"value";e._valueTracker=Xa(e,n,""+e[n])}}function nl(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),a="";return e&&(a=Fi(e)?e.checked?"true":"false":e.value),e=a,e!==l?(n.setValue(e),!0):!1}function fo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var il=/[\n"\\]/g;function vt(e){return e.replace(il,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function h(e,n,l,a,d,p,S,M){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ut(n)):e.value!==""+Ut(n)&&(e.value=""+Ut(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?A(e,S,Ut(n)):l!=null?A(e,S,Ut(l)):a!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?e.name=""+Ut(M):e.removeAttribute("name")}function E(e,n,l,a,d,p,S,M){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){co(e);return}l=l!=null?""+Ut(l):"",n=n!=null?""+Ut(n):l,M||n===e.value||(e.value=n),e.defaultValue=n}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=M?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),co(e)}function A(e,n,l){n==="number"&&fo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function N(e,n,l,a){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Ut(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function I(e,n,l){if(n!=null&&(n=""+Ut(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+Ut(l):""}function L(e,n,l,a){if(n==null){if(a!=null){if(l!=null)throw Error(r(92));if($e(a)){if(1<a.length)throw Error(r(93));a=a[0]}l=a}l==null&&(l=""),n=l}l=Ut(n),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),co(e)}function P(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var B=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function te(e,n,l){var a=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,l):typeof l!="number"||l===0||B.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function ye(e,n,l){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in n)a=n[d],n.hasOwnProperty(d)&&l[d]!==a&&te(e,d,a)}else for(var p in n)n.hasOwnProperty(p)&&te(e,p,n[p])}function Ue(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pe=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ee=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Re(e){return Ee.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ke(){}var Ct=null;function Rt(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var at=null,_t=null;function ri(e){var n=oi(e);if(n&&(e=n.stateNode)){var l=e[ot]||null;e:switch(e=n.stateNode,n.type){case"input":if(h(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+vt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var a=l[n];if(a!==e&&a.form===e.form){var d=a[ot]||null;if(!d)throw Error(r(90));h(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)a=l[n],a.form===e.form&&nl(a)}break e;case"textarea":I(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&N(e,!!l.multiple,n,!1)}}}var Ht=!1;function Gn(e,n,l){if(Ht)return e(n,l);Ht=!0;try{var a=e(n);return a}finally{if(Ht=!1,(at!==null||_t!==null)&&(Qr(),at&&(n=at,e=_t,_t=at=null,ri(n),e)))for(n=0;n<e.length;n++)ri(e[n])}}function it(e,n){var l=e.stateNode;if(l===null)return null;var a=l[ot]||null;if(a===null)return null;l=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(r(231,n,typeof l));return l}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=!1;if(Fn)try{var ol={};Object.defineProperty(ol,"passive",{get:function(){Qa=!0}}),window.addEventListener("test",ol,ol),window.removeEventListener("test",ol,ol)}catch{Qa=!1}var ai=null,Za=null,ur=null;function Ic(){if(ur)return ur;var e,n=Za,l=n.length,a,d="value"in ai?ai.value:ai.textContent,p=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(a=1;a<=S&&n[l-a]===d[p-a];a++);return ur=d.slice(e,1<a?1-a:void 0)}function cr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function Dc(){return!1}function kt(e){function n(l,a,d,p,S){this._reactName=l,this._targetInst=d,this.type=a,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var M in e)e.hasOwnProperty(M)&&(l=e[M],this[M]=l?l(p):p[M]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?fr:Dc,this.isPropagationStopped=Dc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=kt(Pi),ll=T({},Pi,{view:0,detail:0}),Vg=kt(ll),$a,Wa,rl,pr=T({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rl&&(rl&&e.type==="mousemove"?($a=e.screenX-rl.screenX,Wa=e.screenY-rl.screenY):Wa=$a=0,rl=e),$a)},movementY:function(e){return"movementY"in e?e.movementY:Wa}}),Uc=kt(pr),Bg=T({},pr,{dataTransfer:0}),zg=kt(Bg),Og=T({},ll,{relatedTarget:0}),ja=kt(Og),Yg=T({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),Jg=kt(Yg),Kg=T({},Pi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xg=kt(Kg),Qg=T({},Pi,{data:0}),bc=kt(Qg),Zg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jg(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Wg[e])?!!n[e]:!1}function es(){return jg}var ev=T({},ll,{key:function(e){if(e.key){var n=Zg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$g[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:es,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tv=kt(ev),nv=T({},pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xc=kt(nv),iv=T({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:es}),ov=kt(iv),lv=T({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=kt(lv),av=T({},pr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sv=kt(av),uv=T({},Pi,{newState:0,oldState:0}),cv=kt(uv),fv=[9,13,27,32],ts=Fn&&"CompositionEvent"in window,al=null;Fn&&"documentMode"in document&&(al=document.documentMode);var dv=Fn&&"TextEvent"in window&&!al,Lc=Fn&&(!ts||al&&8<al&&11>=al),Gc=" ",Fc=!1;function Pc(e,n){switch(e){case"keyup":return fv.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var po=!1;function pv(e,n){switch(e){case"compositionend":return Hc(n);case"keypress":return n.which!==32?null:(Fc=!0,Gc);case"textInput":return e=n.data,e===Gc&&Fc?null:e;default:return null}}function mv(e,n){if(po)return e==="compositionend"||!ts&&Pc(e,n)?(e=Ic(),ur=Za=ai=null,po=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Lc&&n.locale!=="ko"?null:n.data;default:return null}}var hv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!hv[e.type]:n==="textarea"}function qc(e,n,l,a){at?_t?_t.push(a):_t=[a]:at=a,n=na(n,"onChange"),0<n.length&&(l=new dr("onChange","change",null,l,a),e.push({event:l,listeners:n}))}var sl=null,ul=null;function gv(e){Ap(e,0)}function mr(e){var n=R(e);if(nl(n))return e}function Vc(e,n){if(e==="change")return n}var Bc=!1;if(Fn){var ns;if(Fn){var is="oninput"in document;if(!is){var zc=document.createElement("div");zc.setAttribute("oninput","return;"),is=typeof zc.oninput=="function"}ns=is}else ns=!1;Bc=ns&&(!document.documentMode||9<document.documentMode)}function Oc(){sl&&(sl.detachEvent("onpropertychange",Yc),ul=sl=null)}function Yc(e){if(e.propertyName==="value"&&mr(ul)){var n=[];qc(n,ul,e,Rt(e)),Gn(gv,n)}}function vv(e,n,l){e==="focusin"?(Oc(),sl=n,ul=l,sl.attachEvent("onpropertychange",Yc)):e==="focusout"&&Oc()}function yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mr(ul)}function _v(e,n){if(e==="click")return mr(n)}function Ev(e,n){if(e==="input"||e==="change")return mr(n)}function Sv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Kt=typeof Object.is=="function"?Object.is:Sv;function cl(e,n){if(Kt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),a=Object.keys(n);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var d=l[a];if(!io.call(n,d)||!Kt(e[d],n[d]))return!1}return!0}function Jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Kc(e,n){var l=Jc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=n&&a>=n)return{node:l,offset:n-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Jc(l)}}function Xc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Xc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Qc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fo(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=fo(e.document)}return n}function os(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Tv=Fn&&"documentMode"in document&&11>=document.documentMode,mo=null,ls=null,fl=null,rs=!1;function Zc(e,n,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;rs||mo==null||mo!==fo(a)||(a=mo,"selectionStart"in a&&os(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),fl&&cl(fl,a)||(fl=a,a=na(ls,"onSelect"),0<a.length&&(n=new dr("onSelect","select",null,n,l),e.push({event:n,listeners:a}),n.target=mo)))}function Hi(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var ho={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},as={},$c={};Fn&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function ki(e){if(as[e])return as[e];if(!ho[e])return e;var n=ho[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in $c)return as[e]=n[l];return e}var Wc=ki("animationend"),jc=ki("animationiteration"),ef=ki("animationstart"),Av=ki("transitionrun"),Cv=ki("transitionstart"),Rv=ki("transitioncancel"),tf=ki("transitionend"),nf=new Map,ss="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ss.push("scrollEnd");function gn(e,n){nf.set(e,n),Ln(n,[e])}var hr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ln=[],go=0,us=0;function gr(){for(var e=go,n=us=go=0;n<e;){var l=ln[n];ln[n++]=null;var a=ln[n];ln[n++]=null;var d=ln[n];ln[n++]=null;var p=ln[n];if(ln[n++]=null,a!==null&&d!==null){var S=a.pending;S===null?d.next=d:(d.next=S.next,S.next=d),a.pending=d}p!==0&&of(l,d,p)}}function vr(e,n,l,a){ln[go++]=e,ln[go++]=n,ln[go++]=l,ln[go++]=a,us|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function cs(e,n,l,a){return vr(e,n,l,a),yr(e)}function qi(e,n){return vr(e,null,null,n),yr(e)}function of(e,n,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var d=!1,p=e.return;p!==null;)p.childLanes|=l,a=p.alternate,a!==null&&(a.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-ht(l),e=p.hiddenUpdates,a=e[d],a===null?e[d]=[n]:a.push(n),n.lane=l|536870912),p):null}function yr(e){if(50<xl)throw xl=0,_u=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var vo={};function Mv(e,n,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,n,l,a){return new Mv(e,n,l,a)}function fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pn(e,n){var l=e.alternate;return l===null?(l=Xt(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function lf(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function _r(e,n,l,a,d,p){var S=0;if(a=e,typeof e=="function")fs(e)&&(S=1);else if(typeof e=="string")S=Uy(e,l,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=Xt(31,l,n,d),e.elementType=W,e.lanes=p,e;case Y:return Vi(l.children,d,p,n);case q:S=8,d|=24;break;case Z:return e=Xt(12,l,n,d|2),e.elementType=Z,e.lanes=p,e;case pe:return e=Xt(13,l,n,d),e.elementType=pe,e.lanes=p,e;case $:return e=Xt(19,l,n,d),e.elementType=$,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:S=10;break e;case ne:S=9;break e;case se:S=11;break e;case J:S=14;break e;case ce:S=16,a=null;break e}S=29,l=Error(r(130,e===null?"null":typeof e,"")),a=null}return n=Xt(S,l,n,d),n.elementType=e,n.type=a,n.lanes=p,n}function Vi(e,n,l,a){return e=Xt(7,e,a,n),e.lanes=l,e}function ds(e,n,l){return e=Xt(6,e,null,n),e.lanes=l,e}function rf(e){var n=Xt(18,null,null,0);return n.stateNode=e,n}function ps(e,n,l){return n=Xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var af=new WeakMap;function rn(e,n){if(typeof e=="object"&&e!==null){var l=af.get(e);return l!==void 0?l:(n={value:e,source:n,stack:$l(n)},af.set(e,n),n)}return{value:e,source:n,stack:$l(n)}}var yo=[],_o=0,Er=null,dl=0,an=[],sn=0,si=null,Mn=1,Nn="";function Hn(e,n){yo[_o++]=dl,yo[_o++]=Er,Er=e,dl=n}function sf(e,n,l){an[sn++]=Mn,an[sn++]=Nn,an[sn++]=si,si=e;var a=Mn;e=Nn;var d=32-ht(a)-1;a&=~(1<<d),l+=1;var p=32-ht(n)+d;if(30<p){var S=d-d%5;p=(a&(1<<S)-1).toString(32),a>>=S,d-=S,Mn=1<<32-ht(n)+d|l<<d|a,Nn=p+e}else Mn=1<<p|l<<d|a,Nn=e}function ms(e){e.return!==null&&(Hn(e,1),sf(e,1,0))}function hs(e){for(;e===Er;)Er=yo[--_o],yo[_o]=null,dl=yo[--_o],yo[_o]=null;for(;e===si;)si=an[--sn],an[sn]=null,Nn=an[--sn],an[sn]=null,Mn=an[--sn],an[sn]=null}function uf(e,n){an[sn++]=Mn,an[sn++]=Nn,an[sn++]=si,Mn=n.id,Nn=n.overflow,si=e}var Mt=null,je=null,Fe=!1,ui=null,un=!1,gs=Error(r(519));function ci(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pl(rn(n,e)),gs}function cf(e){var n=e.stateNode,l=e.type,a=e.memoizedProps;switch(n[gt]=e,n[ot]=a,l){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(l=0;l<Gl.length;l++)xe(Gl[l],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),E(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),L(n,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||a.suppressHydrationWarning===!0||Np(n.textContent,l)?(a.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),a.onScroll!=null&&xe("scroll",n),a.onScrollEnd!=null&&xe("scrollend",n),a.onClick!=null&&(n.onclick=ke),n=!0):n=!1,n||ci(e,!0)}function ff(e){for(Mt=e.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:Mt=Mt.return}}function Eo(e){if(e!==Mt)return!1;if(!Fe)return ff(e),Fe=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Lu(e.type,e.memoizedProps)),l=!l),l&&je&&ci(e),ff(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));je=Fp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));je=Fp(e)}else n===27?(n=je,Ci(e.type)?(e=ku,ku=null,je=e):je=n):je=Mt?fn(e.stateNode.nextSibling):null;return!0}function Bi(){je=Mt=null,Fe=!1}function vs(){var e=ui;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),ui=null),e}function pl(e){ui===null?ui=[e]:ui.push(e)}var ys=b(null),zi=null,kn=null;function fi(e,n,l){le(ys,n._currentValue),n._currentValue=l}function qn(e){e._currentValue=ys.current,X(ys)}function _s(e,n,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===l)break;e=e.return}}function Es(e,n,l,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var M=p;p=d;for(var D=0;D<n.length;D++)if(M.context===n[D]){p.lanes|=l,M=p.alternate,M!==null&&(M.lanes|=l),_s(p.return,l,e),a||(S=null);break e}p=M.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(r(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),_s(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function So(e,n,l,a){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var M=d.type;Kt(d.pendingProps.value,S.value)||(e!==null?e.push(M):e=[M])}}else if(d===He.current){if(S=d.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(ql):e=[ql])}d=d.return}e!==null&&Es(n,e,l,a),n.flags|=262144}function Sr(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oi(e){zi=e,kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return df(zi,e)}function Tr(e,n){return zi===null&&Oi(e),df(e,n)}function df(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},kn===null){if(e===null)throw Error(r(308));kn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else kn=kn.next=n;return l}var Nv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},wv=i.unstable_scheduleCallback,Iv=i.unstable_NormalPriority,ft={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ss(){return{controller:new Nv,data:new Map,refCount:0}}function ml(e){e.refCount--,e.refCount===0&&wv(Iv,function(){e.controller.abort()})}var hl=null,Ts=0,To=0,Ao=null;function Dv(e,n){if(hl===null){var l=hl=[];Ts=0,To=Ru(),Ao={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ts++,n.then(pf,pf),n}function pf(){if(--Ts===0&&hl!==null){Ao!==null&&(Ao.status="fulfilled");var e=hl;hl=null,To=0,Ao=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Uv(e,n){var l=[],a={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(a.status="rejected",a.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),a}var mf=z.S;z.S=function(e,n){$d=Dt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Dv(e,n),mf!==null&&mf(e,n)};var Yi=b(null);function As(){var e=Yi.current;return e!==null?e:Ze.pooledCache}function Ar(e,n){n===null?le(Yi,Yi.current):le(Yi,n.pool)}function hf(){var e=As();return e===null?null:{parent:ft._currentValue,pool:e}}var Co=Error(r(460)),Cs=Error(r(474)),Cr=Error(r(542)),Rr={then:function(){}};function gf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function vf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(ke,ke),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_f(e),e;default:if(typeof n.status=="string")n.then(ke,ke);else{if(e=Ze,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=a}},function(a){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,_f(e),e}throw Ki=n,Co}}function Ji(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Ki=l,Co):l}}var Ki=null;function yf(){if(Ki===null)throw Error(r(459));var e=Ki;return Ki=null,e}function _f(e){if(e===Co||e===Cr)throw Error(r(483))}var Ro=null,gl=0;function Mr(e){var n=gl;return gl+=1,Ro===null&&(Ro=[]),vf(Ro,e,n)}function vl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nr(e,n){throw n.$$typeof===C?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ef(e){function n(x,U){if(e){var G=x.deletions;G===null?(x.deletions=[U],x.flags|=16):G.push(U)}}function l(x,U){if(!e)return null;for(;U!==null;)n(x,U),U=U.sibling;return null}function a(x){for(var U=new Map;x!==null;)x.key!==null?U.set(x.key,x):U.set(x.index,x),x=x.sibling;return U}function d(x,U){return x=Pn(x,U),x.index=0,x.sibling=null,x}function p(x,U,G){return x.index=G,e?(G=x.alternate,G!==null?(G=G.index,G<U?(x.flags|=67108866,U):G):(x.flags|=67108866,U)):(x.flags|=1048576,U)}function S(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function M(x,U,G,K){return U===null||U.tag!==6?(U=ds(G,x.mode,K),U.return=x,U):(U=d(U,G),U.return=x,U)}function D(x,U,G,K){var ve=G.type;return ve===Y?O(x,U,G.props.children,K,G.key):U!==null&&(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ce&&Ji(ve)===U.type)?(U=d(U,G.props),vl(U,G),U.return=x,U):(U=_r(G.type,G.key,G.props,null,x.mode,K),vl(U,G),U.return=x,U)}function F(x,U,G,K){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=ps(G,x.mode,K),U.return=x,U):(U=d(U,G.children||[]),U.return=x,U)}function O(x,U,G,K,ve){return U===null||U.tag!==7?(U=Vi(G,x.mode,K,ve),U.return=x,U):(U=d(U,G),U.return=x,U)}function Q(x,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=ds(""+U,x.mode,G),U.return=x,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return G=_r(U.type,U.key,U.props,null,x.mode,G),vl(G,U),G.return=x,G;case k:return U=ps(U,x.mode,G),U.return=x,U;case ce:return U=Ji(U),Q(x,U,G)}if($e(U)||oe(U))return U=Vi(U,x.mode,G,null),U.return=x,U;if(typeof U.then=="function")return Q(x,Mr(U),G);if(U.$$typeof===ee)return Q(x,Tr(x,U),G);Nr(x,U)}return null}function H(x,U,G,K){var ve=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ve!==null?null:M(x,U,""+G,K);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===ve?D(x,U,G,K):null;case k:return G.key===ve?F(x,U,G,K):null;case ce:return G=Ji(G),H(x,U,G,K)}if($e(G)||oe(G))return ve!==null?null:O(x,U,G,K,null);if(typeof G.then=="function")return H(x,U,Mr(G),K);if(G.$$typeof===ee)return H(x,U,Tr(x,G),K);Nr(x,G)}return null}function V(x,U,G,K,ve){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return x=x.get(G)||null,M(U,x,""+K,ve);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case w:return x=x.get(K.key===null?G:K.key)||null,D(U,x,K,ve);case k:return x=x.get(K.key===null?G:K.key)||null,F(U,x,K,ve);case ce:return K=Ji(K),V(x,U,G,K,ve)}if($e(K)||oe(K))return x=x.get(G)||null,O(U,x,K,ve,null);if(typeof K.then=="function")return V(x,U,G,Mr(K),ve);if(K.$$typeof===ee)return V(x,U,G,Tr(U,K),ve);Nr(U,K)}return null}function ue(x,U,G,K){for(var ve=null,qe=null,fe=U,Ne=U=0,Ge=null;fe!==null&&Ne<G.length;Ne++){fe.index>Ne?(Ge=fe,fe=null):Ge=fe.sibling;var Ve=H(x,fe,G[Ne],K);if(Ve===null){fe===null&&(fe=Ge);break}e&&fe&&Ve.alternate===null&&n(x,fe),U=p(Ve,U,Ne),qe===null?ve=Ve:qe.sibling=Ve,qe=Ve,fe=Ge}if(Ne===G.length)return l(x,fe),Fe&&Hn(x,Ne),ve;if(fe===null){for(;Ne<G.length;Ne++)fe=Q(x,G[Ne],K),fe!==null&&(U=p(fe,U,Ne),qe===null?ve=fe:qe.sibling=fe,qe=fe);return Fe&&Hn(x,Ne),ve}for(fe=a(fe);Ne<G.length;Ne++)Ge=V(fe,x,Ne,G[Ne],K),Ge!==null&&(e&&Ge.alternate!==null&&fe.delete(Ge.key===null?Ne:Ge.key),U=p(Ge,U,Ne),qe===null?ve=Ge:qe.sibling=Ge,qe=Ge);return e&&fe.forEach(function(Ii){return n(x,Ii)}),Fe&&Hn(x,Ne),ve}function _e(x,U,G,K){if(G==null)throw Error(r(151));for(var ve=null,qe=null,fe=U,Ne=U=0,Ge=null,Ve=G.next();fe!==null&&!Ve.done;Ne++,Ve=G.next()){fe.index>Ne?(Ge=fe,fe=null):Ge=fe.sibling;var Ii=H(x,fe,Ve.value,K);if(Ii===null){fe===null&&(fe=Ge);break}e&&fe&&Ii.alternate===null&&n(x,fe),U=p(Ii,U,Ne),qe===null?ve=Ii:qe.sibling=Ii,qe=Ii,fe=Ge}if(Ve.done)return l(x,fe),Fe&&Hn(x,Ne),ve;if(fe===null){for(;!Ve.done;Ne++,Ve=G.next())Ve=Q(x,Ve.value,K),Ve!==null&&(U=p(Ve,U,Ne),qe===null?ve=Ve:qe.sibling=Ve,qe=Ve);return Fe&&Hn(x,Ne),ve}for(fe=a(fe);!Ve.done;Ne++,Ve=G.next())Ve=V(fe,x,Ne,Ve.value,K),Ve!==null&&(e&&Ve.alternate!==null&&fe.delete(Ve.key===null?Ne:Ve.key),U=p(Ve,U,Ne),qe===null?ve=Ve:qe.sibling=Ve,qe=Ve);return e&&fe.forEach(function(By){return n(x,By)}),Fe&&Hn(x,Ne),ve}function Qe(x,U,G,K){if(typeof G=="object"&&G!==null&&G.type===Y&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var ve=G.key;U!==null;){if(U.key===ve){if(ve=G.type,ve===Y){if(U.tag===7){l(x,U.sibling),K=d(U,G.props.children),K.return=x,x=K;break e}}else if(U.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===ce&&Ji(ve)===U.type){l(x,U.sibling),K=d(U,G.props),vl(K,G),K.return=x,x=K;break e}l(x,U);break}else n(x,U);U=U.sibling}G.type===Y?(K=Vi(G.props.children,x.mode,K,G.key),K.return=x,x=K):(K=_r(G.type,G.key,G.props,null,x.mode,K),vl(K,G),K.return=x,x=K)}return S(x);case k:e:{for(ve=G.key;U!==null;){if(U.key===ve)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(x,U.sibling),K=d(U,G.children||[]),K.return=x,x=K;break e}else{l(x,U);break}else n(x,U);U=U.sibling}K=ps(G,x.mode,K),K.return=x,x=K}return S(x);case ce:return G=Ji(G),Qe(x,U,G,K)}if($e(G))return ue(x,U,G,K);if(oe(G)){if(ve=oe(G),typeof ve!="function")throw Error(r(150));return G=ve.call(G),_e(x,U,G,K)}if(typeof G.then=="function")return Qe(x,U,Mr(G),K);if(G.$$typeof===ee)return Qe(x,U,Tr(x,G),K);Nr(x,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(x,U.sibling),K=d(U,G),K.return=x,x=K):(l(x,U),K=ds(G,x.mode,K),K.return=x,x=K),S(x)):l(x,U)}return function(x,U,G,K){try{gl=0;var ve=Qe(x,U,G,K);return Ro=null,ve}catch(fe){if(fe===Co||fe===Cr)throw fe;var qe=Xt(29,fe,null,x.mode);return qe.lanes=K,qe.return=x,qe}}}var Xi=Ef(!0),Sf=Ef(!1),di=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ms(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function pi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function mi(e,n,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ze&2)!==0){var d=a.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),a.pending=n,n=yr(e),of(e,null,l),n}return vr(e,a,n,l),yr(e)}function yl(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,nr(e,l)}}function Ns(e,n){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?d=p=n:p=p.next=n}else d=p=n;l={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var ws=!1;function _l(){if(ws){var e=Ao;if(e!==null)throw e}}function El(e,n,l,a){ws=!1;var d=e.updateQueue;di=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,M=d.shared.pending;if(M!==null){d.shared.pending=null;var D=M,F=D.next;D.next=null,S===null?p=F:S.next=F,S=D;var O=e.alternate;O!==null&&(O=O.updateQueue,M=O.lastBaseUpdate,M!==S&&(M===null?O.firstBaseUpdate=F:M.next=F,O.lastBaseUpdate=D))}if(p!==null){var Q=d.baseState;S=0,O=F=D=null,M=p;do{var H=M.lane&-536870913,V=H!==M.lane;if(V?(Le&H)===H:(a&H)===H){H!==0&&H===To&&(ws=!0),O!==null&&(O=O.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var ue=e,_e=M;H=n;var Qe=l;switch(_e.tag){case 1:if(ue=_e.payload,typeof ue=="function"){Q=ue.call(Qe,Q,H);break e}Q=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=_e.payload,H=typeof ue=="function"?ue.call(Qe,Q,H):ue,H==null)break e;Q=T({},Q,H);break e;case 2:di=!0}}H=M.callback,H!==null&&(e.flags|=64,V&&(e.flags|=8192),V=d.callbacks,V===null?d.callbacks=[H]:V.push(H))}else V={lane:H,tag:M.tag,payload:M.payload,callback:M.callback,next:null},O===null?(F=O=V,D=Q):O=O.next=V,S|=H;if(M=M.next,M===null){if(M=d.shared.pending,M===null)break;V=M,M=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);O===null&&(D=Q),d.baseState=D,d.firstBaseUpdate=F,d.lastBaseUpdate=O,p===null&&(d.shared.lanes=0),_i|=S,e.lanes=S,e.memoizedState=Q}}function Tf(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Af(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Tf(l[e],n)}var Mo=b(null),wr=b(0);function Cf(e,n){e=Qn,le(wr,e),le(Mo,n),Qn=e|n.baseLanes}function Is(){le(wr,Qn),le(Mo,Mo.current)}function Ds(){Qn=wr.current,X(Mo),X(wr)}var Qt=b(null),cn=null;function hi(e){var n=e.alternate;le(st,st.current&1),le(Qt,e),cn===null&&(n===null||Mo.current!==null||n.memoizedState!==null)&&(cn=e)}function Us(e){le(st,st.current),le(Qt,e),cn===null&&(cn=e)}function Rf(e){e.tag===22?(le(st,st.current),le(Qt,e),cn===null&&(cn=e)):gi()}function gi(){le(st,st.current),le(Qt,Qt.current)}function Zt(e){X(Qt),cn===e&&(cn=null),X(st)}var st=b(0);function Ir(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Pu(l)||Hu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vn=0,Me=null,Ke=null,dt=null,Dr=!1,No=!1,Qi=!1,Ur=0,Sl=0,wo=null,bv=0;function lt(){throw Error(r(321))}function bs(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!Kt(e[l],n[l]))return!1;return!0}function xs(e,n,l,a,d,p){return Vn=p,Me=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?sd:Xs,Qi=!1,p=l(a,d),Qi=!1,No&&(p=Nf(n,l,a,d)),Mf(e),p}function Mf(e){z.H=Cl;var n=Ke!==null&&Ke.next!==null;if(Vn=0,dt=Ke=Me=null,Dr=!1,Sl=0,wo=null,n)throw Error(r(300));e===null||pt||(e=e.dependencies,e!==null&&Sr(e)&&(pt=!0))}function Nf(e,n,l,a){Me=e;var d=0;do{if(No&&(wo=null),Sl=0,No=!1,25<=d)throw Error(r(301));if(d+=1,dt=Ke=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}z.H=ud,p=n(l,a)}while(No);return p}function xv(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?Tl(n):n,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Me.flags|=1024),n}function Ls(){var e=Ur!==0;return Ur=0,e}function Gs(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Fs(e){if(Dr){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Dr=!1}Vn=0,dt=Ke=Me=null,No=!1,Sl=Ur=0,wo=null}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Me.memoizedState=dt=e:dt=dt.next=e,dt}function ut(){if(Ke===null){var e=Me.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var n=dt===null?Me.memoizedState:dt.next;if(n!==null)dt=n,Ke=e;else{if(e===null)throw Me.alternate===null?Error(r(467)):Error(r(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},dt===null?Me.memoizedState=dt=e:dt=dt.next=e}return dt}function br(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Tl(e){var n=Sl;return Sl+=1,wo===null&&(wo=[]),e=vf(wo,e,n),n=Me,(dt===null?n.memoizedState:dt.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?sd:Xs),e}function xr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Tl(e);if(e.$$typeof===ee)return Nt(e)}throw Error(r(438,String(e)))}function Ps(e){var n=null,l=Me.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var a=Me.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=br(),Me.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),a=0;a<e;a++)l[a]=ie;return n.index++,l}function Bn(e,n){return typeof n=="function"?n(e):n}function Lr(e){var n=ut();return Hs(n,Ke,e)}function Hs(e,n,l){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=l;var d=e.baseQueue,p=a.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,a.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var M=S=null,D=null,F=n,O=!1;do{var Q=F.lane&-536870913;if(Q!==F.lane?(Le&Q)===Q:(Vn&Q)===Q){var H=F.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),Q===To&&(O=!0);else if((Vn&H)===H){F=F.next,H===To&&(O=!0);continue}else Q={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(M=D=Q,S=p):D=D.next=Q,Me.lanes|=H,_i|=H;Q=F.action,Qi&&l(p,Q),p=F.hasEagerState?F.eagerState:l(p,Q)}else H={lane:Q,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(M=D=H,S=p):D=D.next=H,Me.lanes|=Q,_i|=Q;F=F.next}while(F!==null&&F!==n);if(D===null?S=p:D.next=M,!Kt(p,e.memoizedState)&&(pt=!0,O&&(l=Ao,l!==null)))throw l;e.memoizedState=p,e.baseState=S,e.baseQueue=D,a.lastRenderedState=p}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function ks(e){var n=ut(),l=n.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=e;var a=l.dispatch,d=l.pending,p=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);Kt(p,n.memoizedState)||(pt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),l.lastRenderedState=p}return[p,a]}function wf(e,n,l){var a=Me,d=ut(),p=Fe;if(p){if(l===void 0)throw Error(r(407));l=l()}else l=n();var S=!Kt((Ke||d).memoizedState,l);if(S&&(d.memoizedState=l,pt=!0),d=d.queue,Bs(Uf.bind(null,a,d,e),[e]),d.getSnapshot!==n||S||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,Io(9,{destroy:void 0},Df.bind(null,a,d,l,n),null),Ze===null)throw Error(r(349));p||(Vn&127)!==0||If(a,n,l)}return l}function If(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=Me.updateQueue,n===null?(n=br(),Me.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Df(e,n,l,a){n.value=l,n.getSnapshot=a,bf(n)&&xf(e)}function Uf(e,n,l){return l(function(){bf(n)&&xf(e)})}function bf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!Kt(e,l)}catch{return!0}}function xf(e){var n=qi(e,2);n!==null&&Ot(n,e,2)}function qs(e){var n=Lt();if(typeof e=="function"){var l=e;if(e=l(),Qi){Tn(!0);try{l()}finally{Tn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},n}function Lf(e,n,l,a){return e.baseState=l,Hs(e,Ke,typeof a=="function"?a:Bn)}function Lv(e,n,l,a,d){if(Pr(e))throw Error(r(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};z.T!==null?l(!0):p.isTransition=!1,a(p),l=n.pending,l===null?(p.next=n.pending=p,Gf(n,p)):(p.next=l.next,n.pending=l.next=p)}}function Gf(e,n){var l=n.action,a=n.payload,d=e.state;if(n.isTransition){var p=z.T,S={};z.T=S;try{var M=l(d,a),D=z.S;D!==null&&D(S,M),Ff(e,n,M)}catch(F){Vs(e,n,F)}finally{p!==null&&S.types!==null&&(p.types=S.types),z.T=p}}else try{p=l(d,a),Ff(e,n,p)}catch(F){Vs(e,n,F)}}function Ff(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Pf(e,n,a)},function(a){return Vs(e,n,a)}):Pf(e,n,l)}function Pf(e,n,l){n.status="fulfilled",n.value=l,Hf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Gf(e,l)))}function Vs(e,n,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=l,Hf(n),n=n.next;while(n!==a)}e.action=null}function Hf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function kf(e,n){return n}function qf(e,n){if(Fe){var l=Ze.formState;if(l!==null){e:{var a=Me;if(Fe){if(je){t:{for(var d=je,p=un;d.nodeType!==8;){if(!p){d=null;break t}if(d=fn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){je=fn(d.nextSibling),a=d.data==="F!";break e}}ci(a)}a=!1}a&&(n=l[0])}}return l=Lt(),l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kf,lastRenderedState:n},l.queue=a,l=ld.bind(null,Me,a),a.dispatch=l,a=qs(!1),p=Ks.bind(null,Me,!1,a.queue),a=Lt(),d={state:n,dispatch:null,action:e,pending:null},a.queue=d,l=Lv.bind(null,Me,d,p,l),d.dispatch=l,a.memoizedState=e,[n,l,!1]}function Vf(e){var n=ut();return Bf(n,Ke,e)}function Bf(e,n,l){if(n=Hs(e,n,kf)[0],e=Lr(Bn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Tl(n)}catch(S){throw S===Co?Cr:S}else a=n;n=ut();var d=n.queue,p=d.dispatch;return l!==n.memoizedState&&(Me.flags|=2048,Io(9,{destroy:void 0},Gv.bind(null,d,l),null)),[a,p,e]}function Gv(e,n){e.action=n}function zf(e){var n=ut(),l=Ke;if(l!==null)return Bf(n,l,e);ut(),n=n.memoizedState,l=ut();var a=l.queue.dispatch;return l.memoizedState=e,[n,a,!1]}function Io(e,n,l,a){return e={tag:e,create:l,deps:a,inst:n,next:null},n=Me.updateQueue,n===null&&(n=br(),Me.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,n.lastEffect=e),e}function Of(){return ut().memoizedState}function Gr(e,n,l,a){var d=Lt();Me.flags|=e,d.memoizedState=Io(1|n,{destroy:void 0},l,a===void 0?null:a)}function Fr(e,n,l,a){var d=ut();a=a===void 0?null:a;var p=d.memoizedState.inst;Ke!==null&&a!==null&&bs(a,Ke.memoizedState.deps)?d.memoizedState=Io(n,p,l,a):(Me.flags|=e,d.memoizedState=Io(1|n,p,l,a))}function Yf(e,n){Gr(8390656,8,e,n)}function Bs(e,n){Fr(2048,8,e,n)}function Fv(e){Me.flags|=4;var n=Me.updateQueue;if(n===null)n=br(),Me.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function Jf(e){var n=ut().memoizedState;return Fv({ref:n,nextImpl:e}),function(){if((ze&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Kf(e,n){return Fr(4,2,e,n)}function Xf(e,n){return Fr(4,4,e,n)}function Qf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Zf(e,n,l){l=l!=null?l.concat([e]):null,Fr(4,4,Qf.bind(null,n,e),l)}function zs(){}function $f(e,n){var l=ut();n=n===void 0?null:n;var a=l.memoizedState;return n!==null&&bs(n,a[1])?a[0]:(l.memoizedState=[e,n],e)}function Wf(e,n){var l=ut();n=n===void 0?null:n;var a=l.memoizedState;if(n!==null&&bs(n,a[1]))return a[0];if(a=e(),Qi){Tn(!0);try{e()}finally{Tn(!1)}}return l.memoizedState=[a,n],a}function Os(e,n,l){return l===void 0||(Vn&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=jd(),Me.lanes|=e,_i|=e,l)}function jf(e,n,l,a){return Kt(l,n)?l:Mo.current!==null?(e=Os(e,l,a),Kt(e,n)||(pt=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(Le&261930)===0?(pt=!0,e.memoizedState=l):(e=jd(),Me.lanes|=e,_i|=e,n)}function ed(e,n,l,a,d){var p=j.p;j.p=p!==0&&8>p?p:8;var S=z.T,M={};z.T=M,Ks(e,!1,n,l);try{var D=d(),F=z.S;if(F!==null&&F(M,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var O=Uv(D,a);Al(e,n,O,jt(e))}else Al(e,n,a,jt(e))}catch(Q){Al(e,n,{then:function(){},status:"rejected",reason:Q},jt())}finally{j.p=p,S!==null&&M.types!==null&&(S.types=M.types),z.T=S}}function Pv(){}function Ys(e,n,l,a){if(e.tag!==5)throw Error(r(476));var d=td(e).queue;ed(e,d,n,me,l===null?Pv:function(){return nd(e),l(a)})}function td(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:me},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function nd(e){var n=td(e);n.next===null&&(n=e.alternate.memoizedState),Al(e,n.next.queue,{},jt())}function Js(){return Nt(ql)}function id(){return ut().memoizedState}function od(){return ut().memoizedState}function Hv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=jt();e=pi(l);var a=mi(n,e,l);a!==null&&(Ot(a,n,l),yl(a,n,l)),n={cache:Ss()},e.payload=n;return}n=n.return}}function kv(e,n,l){var a=jt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Pr(e)?rd(n,l):(l=cs(e,n,l,a),l!==null&&(Ot(l,e,a),ad(l,n,a)))}function ld(e,n,l){var a=jt();Al(e,n,l,a)}function Al(e,n,l,a){var d={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Pr(e))rd(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,M=p(S,l);if(d.hasEagerState=!0,d.eagerState=M,Kt(M,S))return vr(e,n,d,0),Ze===null&&gr(),!1}catch{}if(l=cs(e,n,d,a),l!==null)return Ot(l,e,a),ad(l,n,a),!0}return!1}function Ks(e,n,l,a){if(a={lane:2,revertLane:Ru(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Pr(e)){if(n)throw Error(r(479))}else n=cs(e,l,a,2),n!==null&&Ot(n,e,2)}function Pr(e){var n=e.alternate;return e===Me||n!==null&&n===Me}function rd(e,n){No=Dr=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function ad(e,n,l){if((l&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,l|=a,n.lanes=l,nr(e,l)}}var Cl={readContext:Nt,use:xr,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt};Cl.useEffectEvent=lt;var sd={readContext:Nt,use:xr,useCallback:function(e,n){return Lt().memoizedState=[e,n===void 0?null:n],e},useContext:Nt,useEffect:Yf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Gr(4194308,4,Qf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Gr(4194308,4,e,n)},useInsertionEffect:function(e,n){Gr(4,2,e,n)},useMemo:function(e,n){var l=Lt();n=n===void 0?null:n;var a=e();if(Qi){Tn(!0);try{e()}finally{Tn(!1)}}return l.memoizedState=[a,n],a},useReducer:function(e,n,l){var a=Lt();if(l!==void 0){var d=l(n);if(Qi){Tn(!0);try{l(n)}finally{Tn(!1)}}}else d=n;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=kv.bind(null,Me,e),[a.memoizedState,e]},useRef:function(e){var n=Lt();return e={current:e},n.memoizedState=e},useState:function(e){e=qs(e);var n=e.queue,l=ld.bind(null,Me,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:zs,useDeferredValue:function(e,n){var l=Lt();return Os(l,e,n)},useTransition:function(){var e=qs(!1);return e=ed.bind(null,Me,e.queue,!0,!1),Lt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var a=Me,d=Lt();if(Fe){if(l===void 0)throw Error(r(407));l=l()}else{if(l=n(),Ze===null)throw Error(r(349));(Le&127)!==0||If(a,n,l)}d.memoizedState=l;var p={value:l,getSnapshot:n};return d.queue=p,Yf(Uf.bind(null,a,p,e),[e]),a.flags|=2048,Io(9,{destroy:void 0},Df.bind(null,a,p,l,n),null),l},useId:function(){var e=Lt(),n=Ze.identifierPrefix;if(Fe){var l=Nn,a=Mn;l=(a&~(1<<32-ht(a)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Ur++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=bv++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Js,useFormState:qf,useActionState:qf,useOptimistic:function(e){var n=Lt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=Ks.bind(null,Me,!0,l),l.dispatch=n,[e,n]},useMemoCache:Ps,useCacheRefresh:function(){return Lt().memoizedState=Hv.bind(null,Me)},useEffectEvent:function(e){var n=Lt(),l={impl:e};return n.memoizedState=l,function(){if((ze&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Xs={readContext:Nt,use:xr,useCallback:$f,useContext:Nt,useEffect:Bs,useImperativeHandle:Zf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:Wf,useReducer:Lr,useRef:Of,useState:function(){return Lr(Bn)},useDebugValue:zs,useDeferredValue:function(e,n){var l=ut();return jf(l,Ke.memoizedState,e,n)},useTransition:function(){var e=Lr(Bn)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Tl(e),n]},useSyncExternalStore:wf,useId:id,useHostTransitionStatus:Js,useFormState:Vf,useActionState:Vf,useOptimistic:function(e,n){var l=ut();return Lf(l,Ke,e,n)},useMemoCache:Ps,useCacheRefresh:od};Xs.useEffectEvent=Jf;var ud={readContext:Nt,use:xr,useCallback:$f,useContext:Nt,useEffect:Bs,useImperativeHandle:Zf,useInsertionEffect:Kf,useLayoutEffect:Xf,useMemo:Wf,useReducer:ks,useRef:Of,useState:function(){return ks(Bn)},useDebugValue:zs,useDeferredValue:function(e,n){var l=ut();return Ke===null?Os(l,e,n):jf(l,Ke.memoizedState,e,n)},useTransition:function(){var e=ks(Bn)[0],n=ut().memoizedState;return[typeof e=="boolean"?e:Tl(e),n]},useSyncExternalStore:wf,useId:id,useHostTransitionStatus:Js,useFormState:zf,useActionState:zf,useOptimistic:function(e,n){var l=ut();return Ke!==null?Lf(l,Ke,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Ps,useCacheRefresh:od};ud.useEffectEvent=Jf;function Qs(e,n,l,a){n=e.memoizedState,l=l(a,n),l=l==null?n:T({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Zs={enqueueSetState:function(e,n,l){e=e._reactInternals;var a=jt(),d=pi(a);d.payload=n,l!=null&&(d.callback=l),n=mi(e,d,a),n!==null&&(Ot(n,e,a),yl(n,e,a))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var a=jt(),d=pi(a);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=mi(e,d,a),n!==null&&(Ot(n,e,a),yl(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=jt(),a=pi(l);a.tag=2,n!=null&&(a.callback=n),n=mi(e,a,l),n!==null&&(Ot(n,e,l),yl(n,e,l))}};function cd(e,n,l,a,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,S):n.prototype&&n.prototype.isPureReactComponent?!cl(l,a)||!cl(d,p):!0}function fd(e,n,l,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,a),n.state!==e&&Zs.enqueueReplaceState(n,n.state,null)}function Zi(e,n){var l=n;if("ref"in n){l={};for(var a in n)a!=="ref"&&(l[a]=n[a])}if(e=e.defaultProps){l===n&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function dd(e){hr(e)}function pd(e){console.error(e)}function md(e){hr(e)}function Hr(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function hd(e,n,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $s(e,n,l){return l=pi(l),l.tag=3,l.payload={element:null},l.callback=function(){Hr(e,n)},l}function gd(e){return e=pi(e),e.tag=3,e}function vd(e,n,l,a){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=a.value;e.payload=function(){return d(p)},e.callback=function(){hd(n,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){hd(n,l,a),typeof d!="function"&&(Ei===null?Ei=new Set([this]):Ei.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})})}function qv(e,n,l,a,d){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=l.alternate,n!==null&&So(n,l,d,!0),l=Qt.current,l!==null){switch(l.tag){case 31:case 13:return cn===null?Zr():l.alternate===null&&rt===0&&(rt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,a===Rr?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([a]):n.add(a),Tu(e,a,d)),!1;case 22:return l.flags|=65536,a===Rr?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([a]):l.add(a)),Tu(e,a,d)),!1}throw Error(r(435,l.tag))}return Tu(e,a,d),Zr(),!1}if(Fe)return n=Qt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,a!==gs&&(e=Error(r(422),{cause:a}),pl(rn(e,l)))):(a!==gs&&(n=Error(r(423),{cause:a}),pl(rn(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=rn(a,l),d=$s(e.stateNode,a,d),Ns(e,d),rt!==4&&(rt=2)),!1;var p=Error(r(520),{cause:a});if(p=rn(p,l),bl===null?bl=[p]:bl.push(p),rt!==4&&(rt=2),n===null)return!0;a=rn(a,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=$s(l.stateNode,a,e),Ns(l,e),!1;case 1:if(n=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ei===null||!Ei.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=gd(d),vd(d,e,l,a),Ns(l,d),!1}l=l.return}while(l!==null);return!1}var Ws=Error(r(461)),pt=!1;function wt(e,n,l,a){n.child=e===null?Sf(n,null,l,a):Xi(n,e.child,l,a)}function yd(e,n,l,a,d){l=l.render;var p=n.ref;if("ref"in a){var S={};for(var M in a)M!=="ref"&&(S[M]=a[M])}else S=a;return Oi(n),a=xs(e,n,l,S,p,d),M=Ls(),e!==null&&!pt?(Gs(e,n,d),zn(e,n,d)):(Fe&&M&&ms(n),n.flags|=1,wt(e,n,a,d),n.child)}function _d(e,n,l,a,d){if(e===null){var p=l.type;return typeof p=="function"&&!fs(p)&&p.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=p,Ed(e,n,p,a,d)):(e=_r(l.type,null,a,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!ru(e,d)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:cl,l(S,a)&&e.ref===n.ref)return zn(e,n,d)}return n.flags|=1,e=Pn(p,a),e.ref=n.ref,e.return=n,n.child=e}function Ed(e,n,l,a,d){if(e!==null){var p=e.memoizedProps;if(cl(p,a)&&e.ref===n.ref)if(pt=!1,n.pendingProps=a=p,ru(e,d))(e.flags&131072)!==0&&(pt=!0);else return n.lanes=e.lanes,zn(e,n,d)}return js(e,n,l,a,d)}function Sd(e,n,l,a){var d=a.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(a=n.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~p}else a=0,n.child=null;return Td(e,n,p,l,a)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ar(n,p!==null?p.cachePool:null),p!==null?Cf(n,p):Is(),Rf(n);else return a=n.lanes=536870912,Td(e,n,p!==null?p.baseLanes|l:l,l,a)}else p!==null?(Ar(n,p.cachePool),Cf(n,p),gi(),n.memoizedState=null):(e!==null&&Ar(n,null),Is(),gi());return wt(e,n,d,l),n.child}function Rl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Td(e,n,l,a,d){var p=As();return p=p===null?null:{parent:ft._currentValue,pool:p},n.memoizedState={baseLanes:l,cachePool:p},e!==null&&Ar(n,null),Is(),Rf(n),e!==null&&So(e,n,a,!0),n.childLanes=d,null}function kr(e,n){return n=Vr({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ad(e,n,l){return Xi(n,e.child,null,l),e=kr(n,n.pendingProps),e.flags|=2,Zt(n),n.memoizedState=null,e}function Vv(e,n,l){var a=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Fe){if(a.mode==="hidden")return e=kr(n,a),n.lanes=536870912,Rl(null,e);if(Us(n),(e=je)?(e=Gp(e,un),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:si!==null?{id:Mn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},l=rf(e),l.return=n,n.child=l,Mt=n,je=null)):e=null,e===null)throw ci(n);return n.lanes=536870912,null}return kr(n,a)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(Us(n),d)if(n.flags&256)n.flags&=-257,n=Ad(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(pt||So(e,n,l,!1),d=(l&e.childLanes)!==0,pt||d){if(a=Ze,a!==null&&(S=so(a,l),S!==0&&S!==p.retryLane))throw p.retryLane=S,qi(e,S),Ot(a,e,S),Ws;Zr(),n=Ad(e,n,l)}else e=p.treeContext,je=fn(S.nextSibling),Mt=n,Fe=!0,ui=null,un=!1,e!==null&&uf(n,e),n=kr(n,a),n.flags|=4096;return n}return e=Pn(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function qr(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function js(e,n,l,a,d){return Oi(n),l=xs(e,n,l,a,void 0,d),a=Ls(),e!==null&&!pt?(Gs(e,n,d),zn(e,n,d)):(Fe&&a&&ms(n),n.flags|=1,wt(e,n,l,d),n.child)}function Cd(e,n,l,a,d,p){return Oi(n),n.updateQueue=null,l=Nf(n,a,l,d),Mf(e),a=Ls(),e!==null&&!pt?(Gs(e,n,p),zn(e,n,p)):(Fe&&a&&ms(n),n.flags|=1,wt(e,n,l,p),n.child)}function Rd(e,n,l,a,d){if(Oi(n),n.stateNode===null){var p=vo,S=l.contextType;typeof S=="object"&&S!==null&&(p=Nt(S)),p=new l(a,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Zs,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=a,p.state=n.memoizedState,p.refs={},Rs(n),S=l.contextType,p.context=typeof S=="object"&&S!==null?Nt(S):vo,p.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(Qs(n,l,S,a),p.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Zs.enqueueReplaceState(p,p.state,null),El(n,a,p,d),_l(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){p=n.stateNode;var M=n.memoizedProps,D=Zi(l,M);p.props=D;var F=p.context,O=l.contextType;S=vo,typeof O=="object"&&O!==null&&(S=Nt(O));var Q=l.getDerivedStateFromProps;O=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function",M=n.pendingProps!==M,O||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(M||F!==S)&&fd(n,p,a,S),di=!1;var H=n.memoizedState;p.state=H,El(n,a,p,d),_l(),F=n.memoizedState,M||H!==F||di?(typeof Q=="function"&&(Qs(n,l,Q,a),F=n.memoizedState),(D=di||cd(n,l,D,a,H,F,S))?(O||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=F),p.props=a,p.state=F,p.context=S,a=D):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{p=n.stateNode,Ms(e,n),S=n.memoizedProps,O=Zi(l,S),p.props=O,Q=n.pendingProps,H=p.context,F=l.contextType,D=vo,typeof F=="object"&&F!==null&&(D=Nt(F)),M=l.getDerivedStateFromProps,(F=typeof M=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Q||H!==D)&&fd(n,p,a,D),di=!1,H=n.memoizedState,p.state=H,El(n,a,p,d),_l();var V=n.memoizedState;S!==Q||H!==V||di||e!==null&&e.dependencies!==null&&Sr(e.dependencies)?(typeof M=="function"&&(Qs(n,l,M,a),V=n.memoizedState),(O=di||cd(n,l,O,a,H,V,D)||e!==null&&e.dependencies!==null&&Sr(e.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,V,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,V,D)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=V),p.props=a,p.state=V,p.context=D,a=O):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&H===e.memoizedState||(n.flags|=1024),a=!1)}return p=a,qr(e,n),a=(n.flags&128)!==0,p||a?(p=n.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&a?(n.child=Xi(n,e.child,null,d),n.child=Xi(n,null,l,d)):wt(e,n,l,d),n.memoizedState=p.state,e=n.child):e=zn(e,n,d),e}function Md(e,n,l,a){return Bi(),n.flags|=256,wt(e,n,l,a),n.child}var eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tu(e){return{baseLanes:e,cachePool:hf()}}function nu(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Wt),e}function Nd(e,n,l){var a=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Fe){if(d?hi(n):gi(),(e=je)?(e=Gp(e,un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:si!==null?{id:Mn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},l=rf(e),l.return=n,n.child=l,Mt=n,je=null)):e=null,e===null)throw ci(n);return Hu(e)?n.lanes=32:n.lanes=536870912,null}var M=a.children;return a=a.fallback,d?(gi(),d=n.mode,M=Vr({mode:"hidden",children:M},d),a=Vi(a,d,l,null),M.return=n,a.return=n,M.sibling=a,n.child=M,a=n.child,a.memoizedState=tu(l),a.childLanes=nu(e,S,l),n.memoizedState=eu,Rl(null,a)):(hi(n),iu(n,M))}var D=e.memoizedState;if(D!==null&&(M=D.dehydrated,M!==null)){if(p)n.flags&256?(hi(n),n.flags&=-257,n=ou(e,n,l)):n.memoizedState!==null?(gi(),n.child=e.child,n.flags|=128,n=null):(gi(),M=a.fallback,d=n.mode,a=Vr({mode:"visible",children:a.children},d),M=Vi(M,d,l,null),M.flags|=2,a.return=n,M.return=n,a.sibling=M,n.child=a,Xi(n,e.child,null,l),a=n.child,a.memoizedState=tu(l),a.childLanes=nu(e,S,l),n.memoizedState=eu,n=Rl(null,a));else if(hi(n),Hu(M)){if(S=M.nextSibling&&M.nextSibling.dataset,S)var F=S.dgst;S=F,a=Error(r(419)),a.stack="",a.digest=S,pl({value:a,source:null,stack:null}),n=ou(e,n,l)}else if(pt||So(e,n,l,!1),S=(l&e.childLanes)!==0,pt||S){if(S=Ze,S!==null&&(a=so(S,l),a!==0&&a!==D.retryLane))throw D.retryLane=a,qi(e,a),Ot(S,e,a),Ws;Pu(M)||Zr(),n=ou(e,n,l)}else Pu(M)?(n.flags|=192,n.child=e.child,n=null):(e=D.treeContext,je=fn(M.nextSibling),Mt=n,Fe=!0,ui=null,un=!1,e!==null&&uf(n,e),n=iu(n,a.children),n.flags|=4096);return n}return d?(gi(),M=a.fallback,d=n.mode,D=e.child,F=D.sibling,a=Pn(D,{mode:"hidden",children:a.children}),a.subtreeFlags=D.subtreeFlags&65011712,F!==null?M=Pn(F,M):(M=Vi(M,d,l,null),M.flags|=2),M.return=n,a.return=n,a.sibling=M,n.child=a,Rl(null,a),a=n.child,M=e.child.memoizedState,M===null?M=tu(l):(d=M.cachePool,d!==null?(D=ft._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=hf(),M={baseLanes:M.baseLanes|l,cachePool:d}),a.memoizedState=M,a.childLanes=nu(e,S,l),n.memoizedState=eu,Rl(e.child,a)):(hi(n),l=e.child,e=l.sibling,l=Pn(l,{mode:"visible",children:a.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function iu(e,n){return n=Vr({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Vr(e,n){return e=Xt(22,e,null,n),e.lanes=0,e}function ou(e,n,l){return Xi(n,e.child,null,l),e=iu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wd(e,n,l){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),_s(e.return,n,l)}function lu(e,n,l,a,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:d,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=d,S.treeForkCount=p)}function Id(e,n,l){var a=n.pendingProps,d=a.revealOrder,p=a.tail;a=a.children;var S=st.current,M=(S&2)!==0;if(M?(S=S&1|2,n.flags|=128):S&=1,le(st,S),wt(e,n,a,l),a=Fe?dl:0,!M&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wd(e,l,n);else if(e.tag===19)wd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&Ir(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),lu(n,!1,d,l,p,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Ir(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}lu(n,!0,l,null,p,a);break;case"together":lu(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function zn(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),_i|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(So(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,l=Pn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=Pn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function ru(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Sr(e)))}function Bv(e,n,l){switch(n.tag){case 3:Tt(n,n.stateNode.containerInfo),fi(n,ft,e.memoizedState.cache),Bi();break;case 27:case 5:ti(n);break;case 4:Tt(n,n.stateNode.containerInfo);break;case 10:fi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Us(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(hi(n),n.flags|=128,null):(l&n.child.childLanes)!==0?Nd(e,n,l):(hi(n),e=zn(e,n,l),e!==null?e.sibling:null);hi(n);break;case 19:var d=(e.flags&128)!==0;if(a=(l&n.childLanes)!==0,a||(So(e,n,l,!1),a=(l&n.childLanes)!==0),d){if(a)return Id(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(st,st.current),a)break;return null;case 22:return n.lanes=0,Sd(e,n,l,n.pendingProps);case 24:fi(n,ft,e.memoizedState.cache)}return zn(e,n,l)}function Dd(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)pt=!0;else{if(!ru(e,l)&&(n.flags&128)===0)return pt=!1,Bv(e,n,l);pt=(e.flags&131072)!==0}else pt=!1,Fe&&(n.flags&1048576)!==0&&sf(n,dl,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Ji(n.elementType),n.type=e,typeof e=="function")fs(e)?(a=Zi(e,a),n.tag=1,n=Rd(null,n,e,a,l)):(n.tag=0,n=js(null,n,e,a,l));else{if(e!=null){var d=e.$$typeof;if(d===se){n.tag=11,n=yd(null,n,e,a,l);break e}else if(d===J){n.tag=14,n=_d(null,n,e,a,l);break e}}throw n=Ie(e)||e,Error(r(306,n,""))}}return n;case 0:return js(e,n,n.type,n.pendingProps,l);case 1:return a=n.type,d=Zi(a,n.pendingProps),Rd(e,n,a,d,l);case 3:e:{if(Tt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));a=n.pendingProps;var p=n.memoizedState;d=p.element,Ms(e,n),El(n,a,null,l);var S=n.memoizedState;if(a=S.cache,fi(n,ft,a),a!==p.cache&&Es(n,[ft],l,!0),_l(),a=S.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Md(e,n,a,l);break e}else if(a!==d){d=rn(Error(r(424)),n),pl(d),n=Md(e,n,a,l);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,je=fn(e.firstChild),Mt=n,Fe=!0,ui=null,un=!0,l=Sf(n,null,a,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Bi(),a===d){n=zn(e,n,l);break e}wt(e,n,a,l)}n=n.child}return n;case 26:return qr(e,n),e===null?(l=Vp(n.type,null,n.pendingProps,null))?n.memoizedState=l:Fe||(l=n.type,e=n.pendingProps,a=ia(we.current).createElement(l),a[gt]=n,a[ot]=e,It(a,l,e),ct(a),n.stateNode=a):n.memoizedState=Vp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ti(n),e===null&&Fe&&(a=n.stateNode=Hp(n.type,n.pendingProps,we.current),Mt=n,un=!0,d=je,Ci(n.type)?(ku=d,je=fn(a.firstChild)):je=d),wt(e,n,n.pendingProps.children,l),qr(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Fe&&((d=a=je)&&(a=yy(a,n.type,n.pendingProps,un),a!==null?(n.stateNode=a,Mt=n,je=fn(a.firstChild),un=!1,d=!0):d=!1),d||ci(n)),ti(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,a=p.children,Lu(d,p)?a=null:S!==null&&Lu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=xs(e,n,xv,null,null,l),ql._currentValue=d),qr(e,n),wt(e,n,a,l),n.child;case 6:return e===null&&Fe&&((e=l=je)&&(l=_y(l,n.pendingProps,un),l!==null?(n.stateNode=l,Mt=n,je=null,e=!0):e=!1),e||ci(n)),null;case 13:return Nd(e,n,l);case 4:return Tt(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Xi(n,null,a,l):wt(e,n,a,l),n.child;case 11:return yd(e,n,n.type,n.pendingProps,l);case 7:return wt(e,n,n.pendingProps,l),n.child;case 8:return wt(e,n,n.pendingProps.children,l),n.child;case 12:return wt(e,n,n.pendingProps.children,l),n.child;case 10:return a=n.pendingProps,fi(n,n.type,a.value),wt(e,n,a.children,l),n.child;case 9:return d=n.type._context,a=n.pendingProps.children,Oi(n),d=Nt(d),a=a(d),n.flags|=1,wt(e,n,a,l),n.child;case 14:return _d(e,n,n.type,n.pendingProps,l);case 15:return Ed(e,n,n.type,n.pendingProps,l);case 19:return Id(e,n,l);case 31:return Vv(e,n,l);case 22:return Sd(e,n,l,n.pendingProps);case 24:return Oi(n),a=Nt(ft),e===null?(d=As(),d===null&&(d=Ze,p=Ss(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),n.memoizedState={parent:a,cache:d},Rs(n),fi(n,ft,d)):((e.lanes&l)!==0&&(Ms(e,n),El(n,null,null,l),_l()),d=e.memoizedState,p=n.memoizedState,d.parent!==a?(d={parent:a,cache:a},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),fi(n,ft,a)):(a=p.cache,fi(n,ft,a),a!==d.cache&&Es(n,[ft],l,!0))),wt(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function On(e){e.flags|=4}function au(e,n,l,a,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(ip())e.flags|=8192;else throw Ki=Rr,Cs}else e.flags&=-16777217}function Ud(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Jp(n))if(ip())e.flags|=8192;else throw Ki=Rr,Cs}function Br(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ao():536870912,e.lanes|=n,xo|=n)}function Ml(e,n){if(!Fe)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=l,n}function zv(e,n,l){var a=n.pendingProps;switch(hs(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return et(n),null;case 3:return l=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),qn(ft),tt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Eo(n)?On(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,vs())),et(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(On(n),p!==null?(et(n),Ud(n,p)):(et(n),au(n,d,null,a,l))):p?p!==e.memoizedState?(On(n),et(n),Ud(n,p)):(et(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&On(n),et(n),au(n,d,e,a,l)),null;case 27:if(to(n),l=we.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&On(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return et(n),null}e=re.current,Eo(n)?cf(n):(e=Hp(d,a,l),n.stateNode=e,On(n))}return et(n),null;case 5:if(to(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&On(n);else{if(!a){if(n.stateNode===null)throw Error(r(166));return et(n),null}if(p=re.current,Eo(n))cf(n);else{var S=ia(we.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?S.createElement(d,{is:a.is}):S.createElement(d)}}p[gt]=n,p[ot]=a;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(It(p,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&On(n)}}return et(n),au(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&On(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(r(166));if(e=we.current,Eo(n)){if(e=n.stateNode,l=n.memoizedProps,a=null,d=Mt,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[gt]=n,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Np(e.nodeValue,l)),e||ci(n,!0)}else e=ia(e).createTextNode(a),e[gt]=n,n.stateNode=e}return et(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(a=Eo(n),l!==null){if(e===null){if(!a)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[gt]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),e=!1}else l=vs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(Zt(n),n):(Zt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return et(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Eo(n),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[gt]=n}else Bi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;et(n),d=!1}else d=vs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Zt(n),n):(Zt(n),null)}return Zt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=n.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==d&&(a.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),Br(n,n.updateQueue),et(n),null);case 4:return tt(),e===null&&Iu(n.stateNode.containerInfo),et(n),null;case 10:return qn(n.type),et(n),null;case 19:if(X(st),a=n.memoizedState,a===null)return et(n),null;if(d=(n.flags&128)!==0,p=a.rendering,p===null)if(d)Ml(a,!1);else{if(rt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Ir(e),p!==null){for(n.flags|=128,Ml(a,!1),e=p.updateQueue,n.updateQueue=e,Br(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)lf(l,e),l=l.sibling;return le(st,st.current&1|2),Fe&&Hn(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&Dt()>Kr&&(n.flags|=128,d=!0,Ml(a,!1),n.lanes=4194304)}else{if(!d)if(e=Ir(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,Br(n,e),Ml(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Fe)return et(n),null}else 2*Dt()-a.renderingStartTime>Kr&&l!==536870912&&(n.flags|=128,d=!0,Ml(a,!1),n.lanes=4194304);a.isBackwards?(p.sibling=n.child,n.child=p):(e=a.last,e!==null?e.sibling=p:n.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Dt(),e.sibling=null,l=st.current,le(st,d?l&1|2:l&1),Fe&&Hn(n,a.treeForkCount),e):(et(n),null);case 22:case 23:return Zt(n),Ds(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(l&536870912)!==0&&(n.flags&128)===0&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),l=n.updateQueue,l!==null&&Br(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==l&&(n.flags|=2048),e!==null&&X(Yi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),qn(ft),et(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Ov(e,n){switch(hs(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return qn(ft),tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return to(n),null;case 31:if(n.memoizedState!==null){if(Zt(n),n.alternate===null)throw Error(r(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Zt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Bi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(st),null;case 4:return tt(),null;case 10:return qn(n.type),null;case 22:case 23:return Zt(n),Ds(),e!==null&&X(Yi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return qn(ft),null;case 25:return null;default:return null}}function bd(e,n){switch(hs(n),n.tag){case 3:qn(ft),tt();break;case 26:case 27:case 5:to(n);break;case 4:tt();break;case 31:n.memoizedState!==null&&Zt(n);break;case 13:Zt(n);break;case 19:X(st);break;case 10:qn(n.type);break;case 22:case 23:Zt(n),Ds(),e!==null&&X(Yi);break;case 24:qn(ft)}}function Nl(e,n){try{var l=n.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var d=a.next;l=d;do{if((l.tag&e)===e){a=void 0;var p=l.create,S=l.inst;a=p(),S.destroy=a}l=l.next}while(l!==d)}}catch(M){Je(n,n.return,M)}}function vi(e,n,l){try{var a=n.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var p=d.next;a=p;do{if((a.tag&e)===e){var S=a.inst,M=S.destroy;if(M!==void 0){S.destroy=void 0,d=n;var D=l,F=M;try{F()}catch(O){Je(d,D,O)}}}a=a.next}while(a!==p)}}catch(O){Je(n,n.return,O)}}function xd(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{Af(n,l)}catch(a){Je(e,e.return,a)}}}function Ld(e,n,l){l.props=Zi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Je(e,n,a)}}function wl(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(d){Je(e,n,d)}}function wn(e,n){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(d){Je(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Je(e,n,d)}else l.current=null}function Gd(e){var n=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(d){Je(e,e.return,d)}}function su(e,n,l){try{var a=e.stateNode;dy(a,e.type,l,n),a[ot]=n}catch(d){Je(e,e.return,d)}}function Fd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ci(e.type)||e.tag===4}function uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ci(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cu(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=ke));else if(a!==4&&(a===27&&Ci(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(cu(e,n,l),e=e.sibling;e!==null;)cu(e,n,l),e=e.sibling}function zr(e,n,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(a!==4&&(a===27&&Ci(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(zr(e,n,l),e=e.sibling;e!==null;)zr(e,n,l),e=e.sibling}function Pd(e){var n=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);It(n,a,l),n[gt]=e,n[ot]=l}catch(p){Je(e,e.return,p)}}var Yn=!1,mt=!1,fu=!1,Hd=typeof WeakSet=="function"?WeakSet:Set,Et=null;function Yv(e,n){if(e=e.containerInfo,bu=ca,e=Qc(e),os(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var d=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,M=-1,D=-1,F=0,O=0,Q=e,H=null;t:for(;;){for(var V;Q!==l||d!==0&&Q.nodeType!==3||(M=S+d),Q!==p||a!==0&&Q.nodeType!==3||(D=S+a),Q.nodeType===3&&(S+=Q.nodeValue.length),(V=Q.firstChild)!==null;)H=Q,Q=V;for(;;){if(Q===e)break t;if(H===l&&++F===d&&(M=S),H===p&&++O===a&&(D=S),(V=Q.nextSibling)!==null)break;Q=H,H=Q.parentNode}Q=V}l=M===-1||D===-1?null:{start:M,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(xu={focusedElem:e,selectionRange:l},ca=!1,Et=n;Et!==null;)if(n=Et,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Et=e;else for(;Et!==null;){switch(n=Et,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=n,d=p.memoizedProps,p=p.memoizedState,a=l.stateNode;try{var ue=Zi(l.type,d);e=a.getSnapshotBeforeUpdate(ue,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(_e){Je(l,l.return,_e)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Fu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Fu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Et=e;break}Et=n.return}}function kd(e,n,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Kn(e,l),a&4&&Nl(5,l);break;case 1:if(Kn(e,l),a&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){Je(l,l.return,S)}else{var d=Zi(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(l,l.return,S)}}a&64&&xd(l),a&512&&wl(l,l.return);break;case 3:if(Kn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{Af(e,n)}catch(S){Je(l,l.return,S)}}break;case 27:n===null&&a&4&&Pd(l);case 26:case 5:Kn(e,l),n===null&&a&4&&Gd(l),a&512&&wl(l,l.return);break;case 12:Kn(e,l);break;case 31:Kn(e,l),a&4&&Bd(e,l);break;case 13:Kn(e,l),a&4&&zd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=ey.bind(null,l),Ey(e,l))));break;case 22:if(a=l.memoizedState!==null||Yn,!a){n=n!==null&&n.memoizedState!==null||mt,d=Yn;var p=mt;Yn=a,(mt=n)&&!p?Xn(e,l,(l.subtreeFlags&8772)!==0):Kn(e,l),Yn=d,mt=p}break;case 30:break;default:Kn(e,l)}}function qd(e){var n=e.alternate;n!==null&&(e.alternate=null,qd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tl(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,qt=!1;function Jn(e,n,l){for(l=l.child;l!==null;)Vd(e,n,l),l=l.sibling}function Vd(e,n,l){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(bi,l)}catch{}switch(l.tag){case 26:mt||wn(l,n),Jn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||wn(l,n);var a=nt,d=qt;Ci(l.type)&&(nt=l.stateNode,qt=!1),Jn(e,n,l),Pl(l.stateNode),nt=a,qt=d;break;case 5:mt||wn(l,n);case 6:if(a=nt,d=qt,nt=null,Jn(e,n,l),nt=a,qt=d,nt!==null)if(qt)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(p){Je(l,n,p)}else try{nt.removeChild(l.stateNode)}catch(p){Je(l,n,p)}break;case 18:nt!==null&&(qt?(e=nt,xp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Vo(e)):xp(nt,l.stateNode));break;case 4:a=nt,d=qt,nt=l.stateNode.containerInfo,qt=!0,Jn(e,n,l),nt=a,qt=d;break;case 0:case 11:case 14:case 15:vi(2,l,n),mt||vi(4,l,n),Jn(e,n,l);break;case 1:mt||(wn(l,n),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Ld(l,n,a)),Jn(e,n,l);break;case 21:Jn(e,n,l);break;case 22:mt=(a=mt)||l.memoizedState!==null,Jn(e,n,l),mt=a;break;default:Jn(e,n,l)}}function Bd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Vo(e)}catch(l){Je(n,n.return,l)}}}function zd(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Vo(e)}catch(l){Je(n,n.return,l)}}function Jv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Hd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Hd),n;default:throw Error(r(435,e.tag))}}function Or(e,n){var l=Jv(e);n.forEach(function(a){if(!l.has(a)){l.add(a);var d=ty.bind(null,e,a);a.then(d,d)}})}function Vt(e,n){var l=n.deletions;if(l!==null)for(var a=0;a<l.length;a++){var d=l[a],p=e,S=n,M=S;e:for(;M!==null;){switch(M.tag){case 27:if(Ci(M.type)){nt=M.stateNode,qt=!1;break e}break;case 5:nt=M.stateNode,qt=!1;break e;case 3:case 4:nt=M.stateNode.containerInfo,qt=!0;break e}M=M.return}if(nt===null)throw Error(r(160));Vd(p,S,d),nt=null,qt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Od(n,e),n=n.sibling}var vn=null;function Od(e,n){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Vt(n,e),Bt(e),a&4&&(vi(3,e,e.return),Nl(3,e),vi(5,e,e.return));break;case 1:Vt(n,e),Bt(e),a&512&&(mt||l===null||wn(l,l.return)),a&64&&Yn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var d=vn;if(Vt(n,e),Bt(e),a&512&&(mt||l===null||wn(l,l.return)),a&4){var p=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":p=d.getElementsByTagName("title")[0],(!p||p[ii]||p[gt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(a),d.head.insertBefore(p,d.querySelector("head > title"))),It(p,a,l),p[gt]=e,ct(p),a=p;break e;case"link":var S=Op("link","href",d).get(a+(l.href||""));if(S){for(var M=0;M<S.length;M++)if(p=S[M],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(M,1);break t}}p=d.createElement(a),It(p,a,l),d.head.appendChild(p);break;case"meta":if(S=Op("meta","content",d).get(a+(l.content||""))){for(M=0;M<S.length;M++)if(p=S[M],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(M,1);break t}}p=d.createElement(a),It(p,a,l),d.head.appendChild(p);break;default:throw Error(r(468,a))}p[gt]=e,ct(p),a=p}e.stateNode=a}else Yp(d,e.type,e.stateNode);else e.stateNode=zp(d,a,e.memoizedProps);else p!==a?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,a===null?Yp(d,e.type,e.stateNode):zp(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&su(e,e.memoizedProps,l.memoizedProps)}break;case 27:Vt(n,e),Bt(e),a&512&&(mt||l===null||wn(l,l.return)),l!==null&&a&4&&su(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Vt(n,e),Bt(e),a&512&&(mt||l===null||wn(l,l.return)),e.flags&32){d=e.stateNode;try{P(d,"")}catch(ue){Je(e,e.return,ue)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,su(e,d,l!==null?l.memoizedProps:d)),a&1024&&(fu=!0);break;case 6:if(Vt(n,e),Bt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(ue){Je(e,e.return,ue)}}break;case 3:if(ra=null,d=vn,vn=oa(n.containerInfo),Vt(n,e),vn=d,Bt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{Vo(n.containerInfo)}catch(ue){Je(e,e.return,ue)}fu&&(fu=!1,Yd(e));break;case 4:a=vn,vn=oa(e.stateNode.containerInfo),Vt(n,e),Bt(e),vn=a;break;case 12:Vt(n,e),Bt(e);break;case 31:Vt(n,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Or(e,a)));break;case 13:Vt(n,e),Bt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Jr=Dt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Or(e,a)));break;case 22:d=e.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,F=Yn,O=mt;if(Yn=F||d,mt=O||D,Vt(n,e),mt=O,Yn=F,Bt(e),a&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||D||Yn||mt||$i(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){D=l=n;try{if(p=D.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{M=D.stateNode;var Q=D.memoizedProps.style,H=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;M.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(ue){Je(D,D.return,ue)}}}else if(n.tag===6){if(l===null){D=n;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(ue){Je(D,D.return,ue)}}}else if(n.tag===18){if(l===null){D=n;try{var V=D.stateNode;d?Lp(V,!0):Lp(D.stateNode,!1)}catch(ue){Je(D,D.return,ue)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Or(e,l))));break;case 19:Vt(n,e),Bt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Or(e,a)));break;case 30:break;case 21:break;default:Vt(n,e),Bt(e)}}function Bt(e){var n=e.flags;if(n&2){try{for(var l,a=e.return;a!==null;){if(Fd(a)){l=a;break}a=a.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var d=l.stateNode,p=uu(e);zr(e,p,d);break;case 5:var S=l.stateNode;l.flags&32&&(P(S,""),l.flags&=-33);var M=uu(e);zr(e,M,S);break;case 3:case 4:var D=l.stateNode.containerInfo,F=uu(e);cu(e,F,D);break;default:throw Error(r(161))}}catch(O){Je(e,e.return,O)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Yd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Kn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)kd(e,n.alternate,n),n=n.sibling}function $i(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:vi(4,n,n.return),$i(n);break;case 1:wn(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&Ld(n,n.return,l),$i(n);break;case 27:Pl(n.stateNode);case 26:case 5:wn(n,n.return),$i(n);break;case 22:n.memoizedState===null&&$i(n);break;case 30:$i(n);break;default:$i(n)}e=e.sibling}}function Xn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Xn(d,p,l),Nl(4,p);break;case 1:if(Xn(d,p,l),a=p,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Je(a,a.return,F)}if(a=p,d=a.updateQueue,d!==null){var M=a.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Tf(D[d],M)}catch(F){Je(a,a.return,F)}}l&&S&64&&xd(p),wl(p,p.return);break;case 27:Pd(p);case 26:case 5:Xn(d,p,l),l&&a===null&&S&4&&Gd(p),wl(p,p.return);break;case 12:Xn(d,p,l);break;case 31:Xn(d,p,l),l&&S&4&&Bd(d,p);break;case 13:Xn(d,p,l),l&&S&4&&zd(d,p);break;case 22:p.memoizedState===null&&Xn(d,p,l),wl(p,p.return);break;case 30:break;default:Xn(d,p,l)}n=n.sibling}}function du(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&ml(l))}function pu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e))}function yn(e,n,l,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jd(e,n,l,a),n=n.sibling}function Jd(e,n,l,a){var d=n.flags;switch(n.tag){case 0:case 11:case 15:yn(e,n,l,a),d&2048&&Nl(9,n);break;case 1:yn(e,n,l,a);break;case 3:yn(e,n,l,a),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ml(e)));break;case 12:if(d&2048){yn(e,n,l,a),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,M=p.onPostCommit;typeof M=="function"&&M(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Je(n,n.return,D)}}else yn(e,n,l,a);break;case 31:yn(e,n,l,a);break;case 13:yn(e,n,l,a);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?yn(e,n,l,a):Il(e,n):p._visibility&2?yn(e,n,l,a):(p._visibility|=2,Do(e,n,l,a,(n.subtreeFlags&10256)!==0||!1)),d&2048&&du(S,n);break;case 24:yn(e,n,l,a),d&2048&&pu(n.alternate,n);break;default:yn(e,n,l,a)}}function Do(e,n,l,a,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,M=l,D=a,F=S.flags;switch(S.tag){case 0:case 11:case 15:Do(p,S,M,D,d),Nl(8,S);break;case 23:break;case 22:var O=S.stateNode;S.memoizedState!==null?O._visibility&2?Do(p,S,M,D,d):Il(p,S):(O._visibility|=2,Do(p,S,M,D,d)),d&&F&2048&&du(S.alternate,S);break;case 24:Do(p,S,M,D,d),d&&F&2048&&pu(S.alternate,S);break;default:Do(p,S,M,D,d)}n=n.sibling}}function Il(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,a=n,d=a.flags;switch(a.tag){case 22:Il(l,a),d&2048&&du(a.alternate,a);break;case 24:Il(l,a),d&2048&&pu(a.alternate,a);break;default:Il(l,a)}n=n.sibling}}var Dl=8192;function Uo(e,n,l){if(e.subtreeFlags&Dl)for(e=e.child;e!==null;)Kd(e,n,l),e=e.sibling}function Kd(e,n,l){switch(e.tag){case 26:Uo(e,n,l),e.flags&Dl&&e.memoizedState!==null&&by(l,vn,e.memoizedState,e.memoizedProps);break;case 5:Uo(e,n,l);break;case 3:case 4:var a=vn;vn=oa(e.stateNode.containerInfo),Uo(e,n,l),vn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Dl,Dl=16777216,Uo(e,n,l),Dl=a):Uo(e,n,l));break;default:Uo(e,n,l)}}function Xd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];Et=a,Zd(a,e)}Xd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Qd(e),e=e.sibling}function Qd(e){switch(e.tag){case 0:case 11:case 15:Ul(e),e.flags&2048&&vi(9,e,e.return);break;case 3:Ul(e);break;case 12:Ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yr(e)):Ul(e);break;default:Ul(e)}}function Yr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var a=n[l];Et=a,Zd(a,e)}Xd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:vi(8,n,n.return),Yr(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,Yr(n));break;default:Yr(n)}e=e.sibling}}function Zd(e,n){for(;Et!==null;){var l=Et;switch(l.tag){case 0:case 11:case 15:vi(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ml(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Et=a;else e:for(l=e;Et!==null;){a=Et;var d=a.sibling,p=a.return;if(qd(a),a===l){Et=null;break e}if(d!==null){d.return=p,Et=d;break e}Et=p}}}var Kv={getCacheForType:function(e){var n=Nt(ft),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return Nt(ft).controller.signal}},Xv=typeof WeakMap=="function"?WeakMap:Map,ze=0,Ze=null,be=null,Le=0,Ye=0,$t=null,yi=!1,bo=!1,mu=!1,Qn=0,rt=0,_i=0,Wi=0,hu=0,Wt=0,xo=0,bl=null,zt=null,gu=!1,Jr=0,$d=0,Kr=1/0,Xr=null,Ei=null,yt=0,Si=null,Lo=null,Zn=0,vu=0,yu=null,Wd=null,xl=0,_u=null;function jt(){return(ze&2)!==0&&Le!==0?Le&-Le:z.T!==null?Ru():el()}function jd(){if(Wt===0)if((Le&536870912)===0||Fe){var e=xi;xi<<=1,(xi&3932160)===0&&(xi=262144),Wt=e}else Wt=536870912;return e=Qt.current,e!==null&&(e.flags|=32),Wt}function Ot(e,n,l){(e===Ze&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(Go(e,0),Ti(e,Le,Wt,!1)),Jt(e,l),((ze&2)===0||e!==Ze)&&(e===Ze&&((ze&2)===0&&(Wi|=l),rt===4&&Ti(e,Le,Wt,!1)),In(e))}function ep(e,n,l){if((ze&6)!==0)throw Error(r(327));var a=!l&&(n&127)===0&&(n&e.expiredLanes)===0||en(e,n),d=a?$v(e,n):Su(e,n,!0),p=a;do{if(d===0){bo&&!a&&Ti(e,n,0,!1);break}else{if(l=e.current.alternate,p&&!Qv(l)){d=Su(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var M=e;d=bl;var D=M.current.memoizedState.isDehydrated;if(D&&(Go(M,S).flags|=256),S=Su(M,S,!1),S!==2){if(mu&&!D){M.errorRecoveryDisabledLanes|=p,Wi|=p,d=4;break e}p=zt,zt=d,p!==null&&(zt===null?zt=p:zt.push.apply(zt,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){Go(e,0),Ti(e,n,0,!0);break}e:{switch(a=e,p=d,p){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ti(a,n,Wt,!yi);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(d=Jr+300-Dt(),10<d)){if(Ti(a,n,Wt,!yi),ro(a,0,!0)!==0)break e;Zn=n,a.timeoutHandle=Up(tp.bind(null,a,l,zt,Xr,gu,n,Wt,Wi,xo,yi,p,"Throttled",-0,0),d);break e}tp(a,l,zt,Xr,gu,n,Wt,Wi,xo,yi,p,null,-0,0)}}break}while(!0);In(e)}function tp(e,n,l,a,d,p,S,M,D,F,O,Q,H,V){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ke},Kd(n,p,Q);var ue=(p&62914560)===p?Jr-Dt():(p&4194048)===p?$d-Dt():0;if(ue=xy(Q,ue),ue!==null){Zn=p,e.cancelPendingCommit=ue(up.bind(null,e,n,p,l,a,d,S,M,D,O,Q,null,H,V)),Ti(e,p,S,!F);return}}up(e,n,p,l,a,d,S,M,D)}function Qv(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var d=l[a],p=d.getSnapshot;d=d.value;try{if(!Kt(p(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ti(e,n,l,a){n&=~hu,n&=~Wi,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var d=n;0<d;){var p=31-ht(d),S=1<<p;a[p]=-1,d&=~S}l!==0&&Ce(e,l,n)}function Qr(){return(ze&6)===0?(Ll(0),!1):!0}function Eu(){if(be!==null){if(Ye===0)var e=be.return;else e=be,kn=zi=null,Fs(e),Ro=null,gl=0,e=be;for(;e!==null;)bd(e.alternate,e),e=e.return;be=null}}function Go(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,hy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Zn=0,Eu(),Ze=e,be=l=Pn(e.current,null),Le=n,Ye=0,$t=null,yi=!1,bo=en(e,n),mu=!1,xo=Wt=hu=Wi=_i=rt=0,zt=bl=null,gu=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var d=31-ht(a),p=1<<d;n|=e[d],a&=~p}return Qn=n,gr(),l}function np(e,n){Me=null,z.H=Cl,n===Co||n===Cr?(n=yf(),Ye=3):n===Cs?(n=yf(),Ye=4):Ye=n===Ws?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,$t=n,be===null&&(rt=1,Hr(e,rn(n,e.current)))}function ip(){var e=Qt.current;return e===null?!0:(Le&4194048)===Le?cn===null:(Le&62914560)===Le||(Le&536870912)!==0?e===cn:!1}function op(){var e=z.H;return z.H=Cl,e===null?Cl:e}function lp(){var e=z.A;return z.A=Kv,e}function Zr(){rt=4,yi||(Le&4194048)!==Le&&Qt.current!==null||(bo=!0),(_i&134217727)===0&&(Wi&134217727)===0||Ze===null||Ti(Ze,Le,Wt,!1)}function Su(e,n,l){var a=ze;ze|=2;var d=op(),p=lp();(Ze!==e||Le!==n)&&(Xr=null,Go(e,n)),n=!1;var S=rt;e:do try{if(Ye!==0&&be!==null){var M=be,D=$t;switch(Ye){case 8:Eu(),S=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(n=!0);var F=Ye;if(Ye=0,$t=null,Fo(e,M,D,F),l&&bo){S=0;break e}break;default:F=Ye,Ye=0,$t=null,Fo(e,M,D,F)}}Zv(),S=rt;break}catch(O){np(e,O)}while(!0);return n&&e.shellSuspendCounter++,kn=zi=null,ze=a,z.H=d,z.A=p,be===null&&(Ze=null,Le=0,gr()),S}function Zv(){for(;be!==null;)rp(be)}function $v(e,n){var l=ze;ze|=2;var a=op(),d=lp();Ze!==e||Le!==n?(Xr=null,Kr=Dt()+500,Go(e,n)):bo=en(e,n);e:do try{if(Ye!==0&&be!==null){n=be;var p=$t;t:switch(Ye){case 1:Ye=0,$t=null,Fo(e,n,p,1);break;case 2:case 9:if(gf(p)){Ye=0,$t=null,ap(n);break}n=function(){Ye!==2&&Ye!==9||Ze!==e||(Ye=7),In(e)},p.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:gf(p)?(Ye=0,$t=null,ap(n)):(Ye=0,$t=null,Fo(e,n,p,7));break;case 5:var S=null;switch(be.tag){case 26:S=be.memoizedState;case 5:case 27:var M=be;if(S?Jp(S):M.stateNode.complete){Ye=0,$t=null;var D=M.sibling;if(D!==null)be=D;else{var F=M.return;F!==null?(be=F,$r(F)):be=null}break t}}Ye=0,$t=null,Fo(e,n,p,5);break;case 6:Ye=0,$t=null,Fo(e,n,p,6);break;case 8:Eu(),rt=6;break e;default:throw Error(r(462))}}Wv();break}catch(O){np(e,O)}while(!0);return kn=zi=null,z.H=a,z.A=d,ze=l,be!==null?0:(Ze=null,Le=0,gr(),rt)}function Wv(){for(;be!==null&&!Pa();)rp(be)}function rp(e){var n=Dd(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,n===null?$r(e):be=n}function ap(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=Cd(l,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Cd(l,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Fs(n);default:bd(l,n),n=be=lf(n,Qn),n=Dd(l,n,Qn)}e.memoizedProps=e.pendingProps,n===null?$r(e):be=n}function Fo(e,n,l,a){kn=zi=null,Fs(n),Ro=null,gl=0;var d=n.return;try{if(qv(e,d,n,l,Le)){rt=1,Hr(e,rn(l,e.current)),be=null;return}}catch(p){if(d!==null)throw be=d,p;rt=1,Hr(e,rn(l,e.current)),be=null;return}n.flags&32768?(Fe||a===1?e=!0:bo||(Le&536870912)!==0?e=!1:(yi=e=!0,(a===2||a===9||a===3||a===6)&&(a=Qt.current,a!==null&&a.tag===13&&(a.flags|=16384))),sp(n,e)):$r(n)}function $r(e){var n=e;do{if((n.flags&32768)!==0){sp(n,yi);return}e=n.return;var l=zv(n.alternate,n,Qn);if(l!==null){be=l;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);rt===0&&(rt=5)}function sp(e,n){do{var l=Ov(e.alternate,e);if(l!==null){l.flags&=32767,be=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){be=e;return}be=e=l}while(e!==null);rt=6,be=null}function up(e,n,l,a,d,p,S,M,D){e.cancelPendingCommit=null;do Wr();while(yt!==0);if((ze&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(p=n.lanes|n.childLanes,p|=us,tr(e,l,p,S,M,D),e===Ze&&(be=Ze=null,Le=0),Lo=n,Si=e,Zn=l,vu=p,yu=d,Wd=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ny(oo,function(){return mp(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=z.T,z.T=null,d=j.p,j.p=2,S=ze,ze|=4;try{Yv(e,n,l)}finally{ze=S,j.p=d,z.T=a}}yt=1,cp(),fp(),dp()}}function cp(){if(yt===1){yt=0;var e=Si,n=Lo,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var a=j.p;j.p=2;var d=ze;ze|=4;try{Od(n,e);var p=xu,S=Qc(e.containerInfo),M=p.focusedElem,D=p.selectionRange;if(S!==M&&M&&M.ownerDocument&&Xc(M.ownerDocument.documentElement,M)){if(D!==null&&os(M)){var F=D.start,O=D.end;if(O===void 0&&(O=F),"selectionStart"in M)M.selectionStart=F,M.selectionEnd=Math.min(O,M.value.length);else{var Q=M.ownerDocument||document,H=Q&&Q.defaultView||window;if(H.getSelection){var V=H.getSelection(),ue=M.textContent.length,_e=Math.min(D.start,ue),Qe=D.end===void 0?_e:Math.min(D.end,ue);!V.extend&&_e>Qe&&(S=Qe,Qe=_e,_e=S);var x=Kc(M,_e),U=Kc(M,Qe);if(x&&U&&(V.rangeCount!==1||V.anchorNode!==x.node||V.anchorOffset!==x.offset||V.focusNode!==U.node||V.focusOffset!==U.offset)){var G=Q.createRange();G.setStart(x.node,x.offset),V.removeAllRanges(),_e>Qe?(V.addRange(G),V.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),V.addRange(G))}}}}for(Q=[],V=M;V=V.parentNode;)V.nodeType===1&&Q.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<Q.length;M++){var K=Q[M];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}ca=!!bu,xu=bu=null}finally{ze=d,j.p=a,z.T=l}}e.current=n,yt=2}}function fp(){if(yt===2){yt=0;var e=Si,n=Lo,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var a=j.p;j.p=2;var d=ze;ze|=4;try{kd(e,n.alternate,n)}finally{ze=d,j.p=a,z.T=l}}yt=3}}function dp(){if(yt===4||yt===3){yt=0,Ha();var e=Si,n=Lo,l=Zn,a=Wd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?yt=5:(yt=0,Lo=Si=null,pp(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Ei=null),jo(l),n=n.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(bi,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=z.T,d=j.p,j.p=2,z.T=null;try{for(var p=e.onRecoverableError,S=0;S<a.length;S++){var M=a[S];p(M.value,{componentStack:M.stack})}}finally{z.T=n,j.p=d}}(Zn&3)!==0&&Wr(),In(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===_u?xl++:(xl=0,_u=e):xl=0,Ll(0)}}function pp(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ml(n)))}function Wr(){return cp(),fp(),dp(),mp()}function mp(){if(yt!==5)return!1;var e=Si,n=vu;vu=0;var l=jo(Zn),a=z.T,d=j.p;try{j.p=32>l?32:l,z.T=null,l=yu,yu=null;var p=Si,S=Zn;if(yt=0,Lo=Si=null,Zn=0,(ze&6)!==0)throw Error(r(331));var M=ze;if(ze|=4,Qd(p.current),Jd(p,p.current,S,l),ze=M,Ll(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(bi,p)}catch{}return!0}finally{j.p=d,z.T=a,pp(e,n)}}function hp(e,n,l){n=rn(l,n),n=$s(e.stateNode,n,2),e=mi(e,n,2),e!==null&&(Jt(e,2),In(e))}function Je(e,n,l){if(e.tag===3)hp(e,e,l);else for(;n!==null;){if(n.tag===3){hp(n,e,l);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Ei===null||!Ei.has(a))){e=rn(l,e),l=gd(2),a=mi(n,l,2),a!==null&&(vd(l,a,n,e),Jt(a,2),In(a));break}}n=n.return}}function Tu(e,n,l){var a=e.pingCache;if(a===null){a=e.pingCache=new Xv;var d=new Set;a.set(n,d)}else d=a.get(n),d===void 0&&(d=new Set,a.set(n,d));d.has(l)||(mu=!0,d.add(l),e=jv.bind(null,e,n,l),n.then(e,e))}function jv(e,n,l){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ze===e&&(Le&l)===l&&(rt===4||rt===3&&(Le&62914560)===Le&&300>Dt()-Jr?(ze&2)===0&&Go(e,0):hu|=l,xo===Le&&(xo=0)),In(e)}function gp(e,n){n===0&&(n=ao()),e=qi(e,n),e!==null&&(Jt(e,n),In(e))}function ey(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),gp(e,l)}function ty(e,n){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(n),gp(e,l)}function ny(e,n){return Un(e,n)}var jr=null,Po=null,Au=!1,ea=!1,Cu=!1,Ai=0;function In(e){e!==Po&&e.next===null&&(Po===null?jr=Po=e:Po=Po.next=e),ea=!0,Au||(Au=!0,oy())}function Ll(e,n){if(!Cu&&ea){Cu=!0;do for(var l=!1,a=jr;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var p=0;else{var S=a.suspendedLanes,M=a.pingedLanes;p=(1<<31-ht(42|e)+1)-1,p&=d&~(S&~M),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Ep(a,p))}else p=Le,p=ro(a,a===Ze?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||en(a,p)||(l=!0,Ep(a,p));a=a.next}while(l);Cu=!1}}function iy(){vp()}function vp(){ea=Au=!1;var e=0;Ai!==0&&my()&&(e=Ai);for(var n=Dt(),l=null,a=jr;a!==null;){var d=a.next,p=yp(a,n);p===0?(a.next=null,l===null?jr=d:l.next=d,d===null&&(Po=l)):(l=a,(e!==0||(p&3)!==0)&&(ea=!0)),a=d}yt!==0&&yt!==5||Ll(e),Ai!==0&&(Ai=0)}function yp(e,n){for(var l=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-ht(p),M=1<<S,D=d[S];D===-1?((M&l)===0||(M&a)!==0)&&(d[S]=$o(M,n)):D<=n&&(e.expiredLanes|=M),p&=~M}if(n=Ze,l=Le,l=ro(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===n&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ni(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||en(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(a!==null&&ni(a),jo(l)){case 2:case 8:l=jl;break;case 32:l=oo;break;case 268435456:l=er;break;default:l=oo}return a=_p.bind(null,e),l=Un(l,a),e.callbackPriority=n,e.callbackNode=l,n}return a!==null&&a!==null&&ni(a),e.callbackPriority=2,e.callbackNode=null,2}function _p(e,n){if(yt!==0&&yt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Wr()&&e.callbackNode!==l)return null;var a=Le;return a=ro(e,e===Ze?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(ep(e,a,n),yp(e,Dt()),e.callbackNode!=null&&e.callbackNode===l?_p.bind(null,e):null)}function Ep(e,n){if(Wr())return null;ep(e,n,!0)}function oy(){gy(function(){(ze&6)!==0?Un(Wl,iy):vp()})}function Ru(){if(Ai===0){var e=To;e===0&&(e=lo,lo<<=1,(lo&261888)===0&&(lo=256)),Ai=e}return Ai}function Sp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Re(""+e)}function Tp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function ly(e,n,l,a,d){if(n==="submit"&&l&&l.stateNode===d){var p=Sp((d[ot]||null).action),S=a.submitter;S&&(n=(n=S[ot]||null)?Sp(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var M=new dr("action","action",null,a,d);e.push({event:M,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ai!==0){var D=S?Tp(d,S):new FormData(d);Ys(l,{pending:!0,data:D,method:d.method,action:p},null,D)}}else typeof p=="function"&&(M.preventDefault(),D=S?Tp(d,S):new FormData(d),Ys(l,{pending:!0,data:D,method:d.method,action:p},p,D))},currentTarget:d}]})}}for(var Mu=0;Mu<ss.length;Mu++){var Nu=ss[Mu],ry=Nu.toLowerCase(),ay=Nu[0].toUpperCase()+Nu.slice(1);gn(ry,"on"+ay)}gn(Wc,"onAnimationEnd"),gn(jc,"onAnimationIteration"),gn(ef,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(Av,"onTransitionRun"),gn(Cv,"onTransitionStart"),gn(Rv,"onTransitionCancel"),gn(tf,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),Ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function Ap(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],d=a.event;a=a.listeners;e:{var p=void 0;if(n)for(var S=a.length-1;0<=S;S--){var M=a[S],D=M.instance,F=M.currentTarget;if(M=M.listener,D!==p&&d.isPropagationStopped())break e;p=M,d.currentTarget=F;try{p(d)}catch(O){hr(O)}d.currentTarget=null,p=D}else for(S=0;S<a.length;S++){if(M=a[S],D=M.instance,F=M.currentTarget,M=M.listener,D!==p&&d.isPropagationStopped())break e;p=M,d.currentTarget=F;try{p(d)}catch(O){hr(O)}d.currentTarget=null,p=D}}}}function xe(e,n){var l=n[Rn];l===void 0&&(l=n[Rn]=new Set);var a=e+"__bubble";l.has(a)||(Cp(n,e,2,!1),l.add(a))}function wu(e,n,l){var a=0;n&&(a|=4),Cp(l,e,a,n)}var ta="_reactListening"+Math.random().toString(36).slice(2);function Iu(e){if(!e[ta]){e[ta]=!0,lr.forEach(function(l){l!=="selectionchange"&&(sy.has(l)||wu(l,!1,e),wu(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ta]||(n[ta]=!0,wu("selectionchange",!1,n))}}function Cp(e,n,l,a){switch(jp(n)){case 2:var d=Fy;break;case 8:d=Py;break;default:d=Ou}l=d.bind(null,n,l,e),d=void 0,!Qa||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Du(e,n,l,a,d){var p=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var M=a.stateNode.containerInfo;if(M===d)break;if(S===4)for(S=a.return;S!==null;){var D=S.tag;if((D===3||D===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;M!==null;){if(S=xn(M),S===null)return;if(D=S.tag,D===5||D===6||D===26||D===27){a=p=S;continue e}M=M.parentNode}}a=a.return}Gn(function(){var F=p,O=Rt(l),Q=[];e:{var H=nf.get(e);if(H!==void 0){var V=dr,ue=e;switch(e){case"keypress":if(cr(l)===0)break e;case"keydown":case"keyup":V=tv;break;case"focusin":ue="focus",V=ja;break;case"focusout":ue="blur",V=ja;break;case"beforeblur":case"afterblur":V=ja;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=zg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=ov;break;case Wc:case jc:case ef:V=Jg;break;case tf:V=rv;break;case"scroll":case"scrollend":V=Vg;break;case"wheel":V=sv;break;case"copy":case"cut":case"paste":V=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=xc;break;case"toggle":case"beforetoggle":V=cv}var _e=(n&4)!==0,Qe=!_e&&(e==="scroll"||e==="scrollend"),x=_e?H!==null?H+"Capture":null:H;_e=[];for(var U=F,G;U!==null;){var K=U;if(G=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||G===null||x===null||(K=it(U,x),K!=null&&_e.push(Fl(U,K,G))),Qe)break;U=U.return}0<_e.length&&(H=new V(H,ue,null,l,O),Q.push({event:H,listeners:_e}))}}if((n&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",H&&l!==Ct&&(ue=l.relatedTarget||l.fromElement)&&(xn(ue)||ue[tn]))break e;if((V||H)&&(H=O.window===O?O:(H=O.ownerDocument)?H.defaultView||H.parentWindow:window,V?(ue=l.relatedTarget||l.toElement,V=F,ue=ue?xn(ue):null,ue!==null&&(Qe=f(ue),_e=ue.tag,ue!==Qe||_e!==5&&_e!==27&&_e!==6)&&(ue=null)):(V=null,ue=F),V!==ue)){if(_e=Uc,K="onMouseLeave",x="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(_e=xc,K="onPointerLeave",x="onPointerEnter",U="pointer"),Qe=V==null?H:R(V),G=ue==null?H:R(ue),H=new _e(K,U+"leave",V,l,O),H.target=Qe,H.relatedTarget=G,K=null,xn(O)===F&&(_e=new _e(x,U+"enter",ue,l,O),_e.target=G,_e.relatedTarget=Qe,K=_e),Qe=K,V&&ue)t:{for(_e=uy,x=V,U=ue,G=0,K=x;K;K=_e(K))G++;K=0;for(var ve=U;ve;ve=_e(ve))K++;for(;0<G-K;)x=_e(x),G--;for(;0<K-G;)U=_e(U),K--;for(;G--;){if(x===U||U!==null&&x===U.alternate){_e=x;break t}x=_e(x),U=_e(U)}_e=null}else _e=null;V!==null&&Rp(Q,H,V,_e,!1),ue!==null&&Qe!==null&&Rp(Q,Qe,ue,_e,!0)}}e:{if(H=F?R(F):window,V=H.nodeName&&H.nodeName.toLowerCase(),V==="select"||V==="input"&&H.type==="file")var qe=Vc;else if(kc(H))if(Bc)qe=Ev;else{qe=yv;var fe=vv}else V=H.nodeName,!V||V.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Ue(F.elementType)&&(qe=Vc):qe=_v;if(qe&&(qe=qe(e,F))){qc(Q,qe,l,O);break e}fe&&fe(e,H,F),e==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&A(H,"number",H.value)}switch(fe=F?R(F):window,e){case"focusin":(kc(fe)||fe.contentEditable==="true")&&(mo=fe,ls=F,fl=null);break;case"focusout":fl=ls=mo=null;break;case"mousedown":rs=!0;break;case"contextmenu":case"mouseup":case"dragend":rs=!1,Zc(Q,l,O);break;case"selectionchange":if(Tv)break;case"keydown":case"keyup":Zc(Q,l,O)}var Ne;if(ts)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else po?Pc(e,l)&&(Ge="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ge="onCompositionStart");Ge&&(Lc&&l.locale!=="ko"&&(po||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&po&&(Ne=Ic()):(ai=O,Za="value"in ai?ai.value:ai.textContent,po=!0)),fe=na(F,Ge),0<fe.length&&(Ge=new bc(Ge,e,null,l,O),Q.push({event:Ge,listeners:fe}),Ne?Ge.data=Ne:(Ne=Hc(l),Ne!==null&&(Ge.data=Ne)))),(Ne=dv?pv(e,l):mv(e,l))&&(Ge=na(F,"onBeforeInput"),0<Ge.length&&(fe=new bc("onBeforeInput","beforeinput",null,l,O),Q.push({event:fe,listeners:Ge}),fe.data=Ne)),ly(Q,e,F,l,O)}Ap(Q,n)})}function Fl(e,n,l){return{instance:e,listener:n,currentTarget:l}}function na(e,n){for(var l=n+"Capture",a=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=it(e,l),d!=null&&a.unshift(Fl(e,d,p)),d=it(e,n),d!=null&&a.push(Fl(e,d,p))),e.tag===3)return a;e=e.return}return[]}function uy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Rp(e,n,l,a,d){for(var p=n._reactName,S=[];l!==null&&l!==a;){var M=l,D=M.alternate,F=M.stateNode;if(M=M.tag,D!==null&&D===a)break;M!==5&&M!==26&&M!==27||F===null||(D=F,d?(F=it(l,p),F!=null&&S.unshift(Fl(l,F,D))):d||(F=it(l,p),F!=null&&S.push(Fl(l,F,D)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var cy=/\r\n?/g,fy=/\u0000|\uFFFD/g;function Mp(e){return(typeof e=="string"?e:""+e).replace(cy,`
`).replace(fy,"")}function Np(e,n){return n=Mp(n),Mp(e)===n}function Xe(e,n,l,a,d,p){switch(l){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||P(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&P(e,""+a);break;case"className":Gi(e,"class",a);break;case"tabIndex":Gi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Gi(e,l,a);break;case"style":ye(e,a,p);break;case"data":if(n!=="object"){Gi(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Re(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(n!=="input"&&Xe(e,n,"name",d.name,d,null),Xe(e,n,"formEncType",d.formEncType,d,null),Xe(e,n,"formMethod",d.formMethod,d,null),Xe(e,n,"formTarget",d.formTarget,d,null)):(Xe(e,n,"encType",d.encType,d,null),Xe(e,n,"method",d.method,d,null),Xe(e,n,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=Re(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=ke);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=Re(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Li(e,"popover",a);break;case"xlinkActuate":on(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":on(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":on(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":on(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":on(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":on(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":on(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":on(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":on(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Li(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Pe.get(l)||l,Li(e,l,a))}}function Uu(e,n,l,a,d,p){switch(l){case"style":ye(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(r(60));e.innerHTML=l}}break;case"children":typeof a=="string"?P(e,a):(typeof a=="number"||typeof a=="bigint")&&P(e,""+a);break;case"onScroll":a!=null&&xe("scroll",e);break;case"onScrollEnd":a!=null&&xe("scrollend",e);break;case"onClick":a!=null&&(e.onclick=ke);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),p=e[ot]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof a=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,a,d);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Li(e,l,a)}}}function It(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var a=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xe(e,n,p,S,l,null)}}d&&Xe(e,n,"srcSet",l.srcSet,l,null),a&&Xe(e,n,"src",l.src,l,null);return;case"input":xe("invalid",e);var M=p=S=d=null,D=null,F=null;for(a in l)if(l.hasOwnProperty(a)){var O=l[a];if(O!=null)switch(a){case"name":d=O;break;case"type":S=O;break;case"checked":D=O;break;case"defaultChecked":F=O;break;case"value":p=O;break;case"defaultValue":M=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,n));break;default:Xe(e,n,a,O,l,null)}}E(e,p,M,D,F,S,d,!1);return;case"select":xe("invalid",e),a=S=p=null;for(d in l)if(l.hasOwnProperty(d)&&(M=l[d],M!=null))switch(d){case"value":p=M;break;case"defaultValue":S=M;break;case"multiple":a=M;default:Xe(e,n,d,M,l,null)}n=p,l=S,e.multiple=!!a,n!=null?N(e,!!a,n,!1):l!=null&&N(e,!!a,l,!0);return;case"textarea":xe("invalid",e),p=d=a=null;for(S in l)if(l.hasOwnProperty(S)&&(M=l[S],M!=null))switch(S){case"value":a=M;break;case"defaultValue":d=M;break;case"children":p=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(91));break;default:Xe(e,n,S,M,l,null)}L(e,a,d,p);return;case"option":for(D in l)l.hasOwnProperty(D)&&(a=l[D],a!=null)&&(D==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":Xe(e,n,D,a,l,null));return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(a=0;a<Gl.length;a++)xe(Gl[a],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(a=l[F],a!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xe(e,n,F,a,l,null)}return;default:if(Ue(n)){for(O in l)l.hasOwnProperty(O)&&(a=l[O],a!==void 0&&Uu(e,n,O,a,l,void 0));return}}for(M in l)l.hasOwnProperty(M)&&(a=l[M],a!=null&&Xe(e,n,M,a,l,null))}function dy(e,n,l,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,M=null,D=null,F=null,O=null;for(V in l){var Q=l[V];if(l.hasOwnProperty(V)&&Q!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":D=Q;default:a.hasOwnProperty(V)||Xe(e,n,V,null,a,Q)}}for(var H in a){var V=a[H];if(Q=l[H],a.hasOwnProperty(H)&&(V!=null||Q!=null))switch(H){case"type":p=V;break;case"name":d=V;break;case"checked":F=V;break;case"defaultChecked":O=V;break;case"value":S=V;break;case"defaultValue":M=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,n));break;default:V!==Q&&Xe(e,n,H,V,a,Q)}}h(e,S,M,D,F,O,p,d);return;case"select":V=S=M=H=null;for(p in l)if(D=l[p],l.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":V=D;default:a.hasOwnProperty(p)||Xe(e,n,p,null,a,D)}for(d in a)if(p=a[d],D=l[d],a.hasOwnProperty(d)&&(p!=null||D!=null))switch(d){case"value":H=p;break;case"defaultValue":M=p;break;case"multiple":S=p;default:p!==D&&Xe(e,n,d,p,a,D)}n=M,l=S,a=V,H!=null?N(e,!!l,H,!1):!!a!=!!l&&(n!=null?N(e,!!l,n,!0):N(e,!!l,l?[]:"",!1));return;case"textarea":V=H=null;for(M in l)if(d=l[M],l.hasOwnProperty(M)&&d!=null&&!a.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:Xe(e,n,M,null,a,d)}for(S in a)if(d=a[S],p=l[S],a.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":H=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==p&&Xe(e,n,S,d,a,p)}I(e,H,V);return;case"option":for(var ue in l)H=l[ue],l.hasOwnProperty(ue)&&H!=null&&!a.hasOwnProperty(ue)&&(ue==="selected"?e.selected=!1:Xe(e,n,ue,null,a,H));for(D in a)H=a[D],V=l[D],a.hasOwnProperty(D)&&H!==V&&(H!=null||V!=null)&&(D==="selected"?e.selected=H&&typeof H!="function"&&typeof H!="symbol":Xe(e,n,D,H,a,V));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in l)H=l[_e],l.hasOwnProperty(_e)&&H!=null&&!a.hasOwnProperty(_e)&&Xe(e,n,_e,null,a,H);for(F in a)if(H=a[F],V=l[F],a.hasOwnProperty(F)&&H!==V&&(H!=null||V!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,n));break;default:Xe(e,n,F,H,a,V)}return;default:if(Ue(n)){for(var Qe in l)H=l[Qe],l.hasOwnProperty(Qe)&&H!==void 0&&!a.hasOwnProperty(Qe)&&Uu(e,n,Qe,void 0,a,H);for(O in a)H=a[O],V=l[O],!a.hasOwnProperty(O)||H===V||H===void 0&&V===void 0||Uu(e,n,O,H,a,V);return}}for(var x in l)H=l[x],l.hasOwnProperty(x)&&H!=null&&!a.hasOwnProperty(x)&&Xe(e,n,x,null,a,H);for(Q in a)H=a[Q],V=l[Q],!a.hasOwnProperty(Q)||H===V||H==null&&V==null||Xe(e,n,Q,H,a,V)}function wp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function py(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var d=l[a],p=d.transferSize,S=d.initiatorType,M=d.duration;if(p&&M&&wp(S)){for(S=0,M=d.responseEnd,a+=1;a<l.length;a++){var D=l[a],F=D.startTime;if(F>M)break;var O=D.transferSize,Q=D.initiatorType;O&&wp(Q)&&(D=D.responseEnd,S+=O*(D<M?1:(M-F)/(D-F)))}if(--a,n+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bu=null,xu=null;function ia(e){return e.nodeType===9?e:e.ownerDocument}function Ip(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Lu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Gu=null;function my(){var e=window.event;return e&&e.type==="popstate"?e===Gu?!1:(Gu=e,!0):(Gu=null,!1)}var Up=typeof setTimeout=="function"?setTimeout:void 0,hy=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,gy=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(e){return bp.resolve(null).then(e).catch(vy)}:Up;function vy(e){setTimeout(function(){throw e})}function Ci(e){return e==="head"}function xp(e,n){var l=n,a=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(d),Vo(n);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")Pl(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Pl(l);for(var p=l.firstChild;p;){var S=p.nextSibling,M=p.nodeName;p[ii]||M==="SCRIPT"||M==="STYLE"||M==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=S}}else l==="body"&&Pl(e.ownerDocument.body);l=d}while(l);Vo(n)}function Lp(e,n){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Fu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Fu(l),tl(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function yy(e,n,l,a){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[ii])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=fn(e.nextSibling),e===null)break}return null}function _y(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=fn(e.nextSibling),e===null))return null;return e}function Gp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=fn(e.nextSibling),e===null))return null;return e}function Pu(e){return e.data==="$?"||e.data==="$~"}function Hu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ey(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var a=function(){n(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var ku=null;function Fp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return fn(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Pp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function Hp(e,n,l){switch(n=ia(l),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tl(e)}var dn=new Map,kp=new Set;function oa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $n=j.d;j.d={f:Sy,r:Ty,D:Ay,C:Cy,L:Ry,m:My,X:wy,S:Ny,M:Iy};function Sy(){var e=$n.f(),n=Qr();return e||n}function Ty(e){var n=oi(e);n!==null&&n.tag===5&&n.type==="form"?nd(n):$n.r(e)}var Ho=typeof document>"u"?null:document;function qp(e,n,l){var a=Ho;if(a&&typeof n=="string"&&n){var d=vt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),kp.has(d)||(kp.add(d),e={rel:e,crossOrigin:l,href:n},a.querySelector(d)===null&&(n=a.createElement("link"),It(n,"link",e),ct(n),a.head.appendChild(n)))}}function Ay(e){$n.D(e),qp("dns-prefetch",e,null)}function Cy(e,n){$n.C(e,n),qp("preconnect",e,n)}function Ry(e,n,l){$n.L(e,n,l);var a=Ho;if(a&&e&&n){var d='link[rel="preload"][as="'+vt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+vt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+vt(l.imageSizes)+'"]')):d+='[href="'+vt(e)+'"]';var p=d;switch(n){case"style":p=ko(e);break;case"script":p=qo(e)}dn.has(p)||(e=T({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),dn.set(p,e),a.querySelector(d)!==null||n==="style"&&a.querySelector(Hl(p))||n==="script"&&a.querySelector(kl(p))||(n=a.createElement("link"),It(n,"link",e),ct(n),a.head.appendChild(n)))}}function My(e,n){$n.m(e,n);var l=Ho;if(l&&e){var a=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+vt(a)+'"][href="'+vt(e)+'"]',p=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=qo(e)}if(!dn.has(p)&&(e=T({rel:"modulepreload",href:e},n),dn.set(p,e),l.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(kl(p)))return}a=l.createElement("link"),It(a,"link",e),ct(a),l.head.appendChild(a)}}}function Ny(e,n,l){$n.S(e,n,l);var a=Ho;if(a&&e){var d=nn(a).hoistableStyles,p=ko(e);n=n||"default";var S=d.get(p);if(!S){var M={loading:0,preload:null};if(S=a.querySelector(Hl(p)))M.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},l),(l=dn.get(p))&&qu(e,l);var D=S=a.createElement("link");ct(D),It(D,"link",e),D._p=new Promise(function(F,O){D.onload=F,D.onerror=O}),D.addEventListener("load",function(){M.loading|=1}),D.addEventListener("error",function(){M.loading|=2}),M.loading|=4,la(S,n,a)}S={type:"stylesheet",instance:S,count:1,state:M},d.set(p,S)}}}function wy(e,n){$n.X(e,n);var l=Ho;if(l&&e){var a=nn(l).hoistableScripts,d=qo(e),p=a.get(d);p||(p=l.querySelector(kl(d)),p||(e=T({src:e,async:!0},n),(n=dn.get(d))&&Vu(e,n),p=l.createElement("script"),ct(p),It(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(d,p))}}function Iy(e,n){$n.M(e,n);var l=Ho;if(l&&e){var a=nn(l).hoistableScripts,d=qo(e),p=a.get(d);p||(p=l.querySelector(kl(d)),p||(e=T({src:e,async:!0,type:"module"},n),(n=dn.get(d))&&Vu(e,n),p=l.createElement("script"),ct(p),It(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(d,p))}}function Vp(e,n,l,a){var d=(d=we.current)?oa(d):null;if(!d)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=ko(l.href),l=nn(d).hoistableStyles,a=l.get(n),a||(a={type:"style",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=ko(l.href);var p=nn(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(Hl(e)))&&!p._p&&(S.instance=p,S.state.loading=5),dn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},dn.set(e,l),p||Dy(d,e,l,S.state))),n&&a===null)throw Error(r(528,""));return S}if(n&&a!==null)throw Error(r(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=qo(l),l=nn(d).hoistableScripts,a=l.get(n),a||(a={type:"script",instance:null,count:0,state:null},l.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ko(e){return'href="'+vt(e)+'"'}function Hl(e){return'link[rel="stylesheet"]['+e+"]"}function Bp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Dy(e,n,l,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),It(n,"link",l),ct(n),e.head.appendChild(n))}function qo(e){return'[src="'+vt(e)+'"]'}function kl(e){return"script[async]"+e}function zp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+vt(l.href)+'"]');if(a)return n.instance=a,ct(a),a;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),ct(a),It(a,"style",d),la(a,l.precedence,e),n.instance=a;case"stylesheet":d=ko(l.href);var p=e.querySelector(Hl(d));if(p)return n.state.loading|=4,n.instance=p,ct(p),p;a=Bp(l),(d=dn.get(d))&&qu(a,d),p=(e.ownerDocument||e).createElement("link"),ct(p);var S=p;return S._p=new Promise(function(M,D){S.onload=M,S.onerror=D}),It(p,"link",a),n.state.loading|=4,la(p,l.precedence,e),n.instance=p;case"script":return p=qo(l.src),(d=e.querySelector(kl(p)))?(n.instance=d,ct(d),d):(a=l,(d=dn.get(p))&&(a=T({},l),Vu(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),ct(d),It(d,"link",a),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,la(a,l.precedence,e));return n.instance}function la(e,n,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,p=d,S=0;S<a.length;S++){var M=a[S];if(M.dataset.precedence===n)p=M;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function qu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ra=null;function Op(e,n,l){if(ra===null){var a=new Map,d=ra=new Map;d.set(l,a)}else d=ra,a=d.get(l),a||(a=new Map,d.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var p=l[d];if(!(p[ii]||p[gt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var M=a.get(S);M?M.push(p):a.set(S,[p])}}return a}function Yp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Uy(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Jp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function by(e,n,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=ko(a.href),p=n.querySelector(Hl(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=aa.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=p,ct(p);return}p=n.ownerDocument||n,a=Bp(a),(d=dn.get(d))&&qu(a,d),p=p.createElement("link"),ct(p);var S=p;S._p=new Promise(function(M,D){S.onload=M,S.onerror=D}),It(p,"link",a),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=aa.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var Bu=0;function xy(e,n){return e.stylesheets&&e.count===0&&ua(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&ua(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&Bu===0&&(Bu=62500*py());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ua(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Bu?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ua(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sa=null;function ua(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sa=new Map,n.forEach(Ly,e),sa=null,aa.call(e))}function Ly(e,n){if(!(n.state.loading&4)){var l=sa.get(e);if(l)var a=l.get(null);else{l=new Map,sa.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}d=n.instance,S=d.getAttribute("data-precedence"),p=l.get(S)||a,p===a&&l.set(null,d),l.set(S,d),this.count++,a=aa.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var ql={$$typeof:ee,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function Gy(e,n,l,a,d,p,S,M,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.hiddenUpdates=Wo(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Kp(e,n,l,a,d,p,S,M,D,F,O,Q){return e=new Gy(e,n,l,S,D,F,O,Q,M),n=1,p===!0&&(n|=24),p=Xt(3,null,null,n),e.current=p,p.stateNode=e,n=Ss(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:a,isDehydrated:l,cache:n},Rs(p),e}function Xp(e){return e?(e=vo,e):vo}function Qp(e,n,l,a,d,p){d=Xp(d),a.context===null?a.context=d:a.pendingContext=d,a=pi(n),a.payload={element:l},p=p===void 0?null:p,p!==null&&(a.callback=p),l=mi(e,a,n),l!==null&&(Ot(l,e,n),yl(l,e,n))}function Zp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function zu(e,n){Zp(e,n),(e=e.alternate)&&Zp(e,n)}function $p(e){if(e.tag===13||e.tag===31){var n=qi(e,67108864);n!==null&&Ot(n,e,67108864),zu(e,67108864)}}function Wp(e){if(e.tag===13||e.tag===31){var n=jt();n=uo(n);var l=qi(e,n);l!==null&&Ot(l,e,n),zu(e,n)}}var ca=!0;function Fy(e,n,l,a){var d=z.T;z.T=null;var p=j.p;try{j.p=2,Ou(e,n,l,a)}finally{j.p=p,z.T=d}}function Py(e,n,l,a){var d=z.T;z.T=null;var p=j.p;try{j.p=8,Ou(e,n,l,a)}finally{j.p=p,z.T=d}}function Ou(e,n,l,a){if(ca){var d=Yu(a);if(d===null)Du(e,n,a,fa,l),em(e,a);else if(ky(d,e,n,l,a))a.stopPropagation();else if(em(e,a),n&4&&-1<Hy.indexOf(e)){for(;d!==null;){var p=oi(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=An(p.pendingLanes);if(S!==0){var M=p;for(M.pendingLanes|=2,M.entangledLanes|=2;S;){var D=1<<31-ht(S);M.entanglements[1]|=D,S&=~D}In(p),(ze&6)===0&&(Kr=Dt()+500,Ll(0))}}break;case 31:case 13:M=qi(p,2),M!==null&&Ot(M,p,2),Qr(),zu(p,2)}if(p=Yu(a),p===null&&Du(e,n,a,fa,l),p===d)break;d=p}d!==null&&a.stopPropagation()}else Du(e,n,a,null,l)}}function Yu(e){return e=Rt(e),Ju(e)}var fa=null;function Ju(e){if(fa=null,e=xn(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=m(n),e!==null)return e;e=null}else if(l===31){if(e=v(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fa=e,null}function jp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ka()){case Wl:return 2;case jl:return 8;case oo:case qa:return 32;case er:return 268435456;default:return 32}default:return 32}}var Ku=!1,Ri=null,Mi=null,Ni=null,Vl=new Map,Bl=new Map,wi=[],Hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function em(e,n){switch(e){case"focusin":case"focusout":Ri=null;break;case"dragenter":case"dragleave":Mi=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function zl(e,n,l,a,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:l,eventSystemFlags:a,nativeEvent:p,targetContainers:[d]},n!==null&&(n=oi(n),n!==null&&$p(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function ky(e,n,l,a,d){switch(n){case"focusin":return Ri=zl(Ri,e,n,l,a,d),!0;case"dragenter":return Mi=zl(Mi,e,n,l,a,d),!0;case"mouseover":return Ni=zl(Ni,e,n,l,a,d),!0;case"pointerover":var p=d.pointerId;return Vl.set(p,zl(Vl.get(p)||null,e,n,l,a,d)),!0;case"gotpointercapture":return p=d.pointerId,Bl.set(p,zl(Bl.get(p)||null,e,n,l,a,d)),!0}return!1}function tm(e){var n=xn(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=m(l),n!==null){e.blockedOn=n,ir(e.priority,function(){Wp(l)});return}}else if(n===31){if(n=v(l),n!==null){e.blockedOn=n,ir(e.priority,function(){Wp(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function da(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=Yu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);Ct=a,l.target.dispatchEvent(a),Ct=null}else return n=oi(l),n!==null&&$p(n),e.blockedOn=l,!1;n.shift()}return!0}function nm(e,n,l){da(e)&&l.delete(n)}function qy(){Ku=!1,Ri!==null&&da(Ri)&&(Ri=null),Mi!==null&&da(Mi)&&(Mi=null),Ni!==null&&da(Ni)&&(Ni=null),Vl.forEach(nm),Bl.forEach(nm)}function pa(e,n){e.blockedOn===n&&(e.blockedOn=null,Ku||(Ku=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qy)))}var ma=null;function im(e){ma!==e&&(ma=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ma===e&&(ma=null);for(var n=0;n<e.length;n+=3){var l=e[n],a=e[n+1],d=e[n+2];if(typeof a!="function"){if(Ju(a||l)===null)continue;break}var p=oi(l);p!==null&&(e.splice(n,3),n-=3,Ys(p,{pending:!0,data:d,method:l.method,action:a},a,d))}}))}function Vo(e){function n(D){return pa(D,e)}Ri!==null&&pa(Ri,e),Mi!==null&&pa(Mi,e),Ni!==null&&pa(Ni,e),Vl.forEach(n),Bl.forEach(n);for(var l=0;l<wi.length;l++){var a=wi[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<wi.length&&(l=wi[0],l.blockedOn===null);)tm(l),l.blockedOn===null&&wi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var d=l[a],p=l[a+1],S=d[ot]||null;if(typeof p=="function")S||im(l);else if(S){var M=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[ot]||null)M=S.formAction;else if(Ju(d)!==null)continue}else M=S.action;typeof M=="function"?l[a+1]=M:(l.splice(a,3),a-=3),im(l)}}}function om(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Xu(e){this._internalRoot=e}ha.prototype.render=Xu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var l=n.current,a=jt();Qp(l,a,e,n,null,null)},ha.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Qp(e.current,2,null,e,null,null),Qr(),n[tn]=null}};function ha(e){this._internalRoot=e}ha.prototype.unstable_scheduleHydration=function(e){if(e){var n=el();e={blockedOn:null,target:e,priority:n};for(var l=0;l<wi.length&&n!==0&&n<wi[l].priority;l++);wi.splice(l,0,e),l===0&&tm(e)}};var lm=t.version;if(lm!=="19.2.3")throw Error(r(527,lm,"19.2.3"));j.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var Vy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{bi=ga.inject(Vy),At=ga}catch{}}return Yl.createRoot=function(e,n){if(!u(e))throw Error(r(299));var l=!1,a="",d=dd,p=pd,S=md;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Kp(e,1,!1,null,null,l,a,null,d,p,S,om),e[tn]=n.current,Iu(e),new Xu(n)},Yl.hydrateRoot=function(e,n,l){if(!u(e))throw Error(r(299));var a=!1,d="",p=dd,S=pd,M=md,D=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(M=l.onRecoverableError),l.formState!==void 0&&(D=l.formState)),n=Kp(e,1,!0,n,l??null,a,d,D,p,S,M,om),n.context=Xp(null),l=n.current,a=jt(),a=uo(a),d=pi(a),d.callback=null,mi(l,d,a),l=a,n.current.lanes=l,Jt(n,l),In(n),e[tn]=n.current,Iu(e),new ha(n)},Yl.version="19.2.3",Yl}var hm;function $y(){if(hm)return Zu.exports;hm=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zu.exports=Zy(),Zu.exports}var Wy=$y(),Gt=yc();async function jy(i={}){var t;(function(){function h(te){te=te.split("-")[0];for(var ye=te.split(".").slice(0,3);ye.length<3;)ye.push("00");return ye=ye.map((Ue,Pe,Ee)=>Ue.padStart(2,"0")),ye.join("")}var E=te=>[te/1e4|0,(te/100|0)%100,te%100].join("."),A=2147483647,N=typeof process<"u"&&process.versions?.node?h(process.versions.node):A;if(N<A)throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");if(N<2147483647)throw new Error(`This emscripten-generated code requires node v${E(2147483647)} (detected v${E(N)})`);var I=typeof navigator<"u"&&navigator.userAgent;if(I){var L=I.includes("Safari/")&&!I.includes("Chrome/")&&I.match(/Version\/(\d+\.?\d*\.?\d*)/)?h(I.match(/Version\/(\d+\.?\d*\.?\d*)/)[1]):A;if(L<15e4)throw new Error(`This emscripten-generated code requires Safari v${E(15e4)} (detected v${L})`);var P=I.match(/Firefox\/(\d+(?:\.\d+)?)/)?parseFloat(I.match(/Firefox\/(\d+(?:\.\d+)?)/)[1]):A;if(P<79)throw new Error(`This emscripten-generated code requires Firefox v79 (detected v${P})`);var B=I.match(/Chrome\/(\d+(?:\.\d+)?)/)?parseFloat(I.match(/Chrome\/(\d+(?:\.\d+)?)/)[1]):A;if(B<85)throw new Error(`This emscripten-generated code requires Chrome v85 (detected v${B})`)}})();var o=i,r="./this.program",u=import.meta.url,f="";function m(h){return o.locateFile?o.locateFile(h,f):f+h}var v,y;{try{f=new URL(".",u).href}catch{}if(!(globalThis.window||globalThis.WorkerGlobalScope))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");v=async h=>{w(!k(h),"readAsync does not work with file:// URLs");var E=await fetch(h,{credentials:"same-origin"});if(E.ok)return E.arrayBuffer();throw new Error(E.status+" : "+E.url)}}var g=console.log.bind(console),_=console.error.bind(console);w(!0,"worker environment detected but not enabled at build time.  Add `worker` to `-sENVIRONMENT` to enable."),w(!0,"node environment detected but not enabled at build time.  Add `node` to `-sENVIRONMENT` to enable."),w(!0,"shell environment detected but not enabled at build time.  Add `shell` to `-sENVIRONMENT` to enable.");var T;globalThis.WebAssembly||_("no native wasm support detected");var C=!1;function w(h,E){h||he("Assertion failed"+(E?": "+E:""))}var k=h=>h.startsWith("file://");function Y(){var h=Ut();w((h&3)==0),h==0&&(h+=4),oe[h>>2]=34821223,oe[h+4>>2]=2310721022,oe[0]=1668509029}function q(){if(!C){var h=Ut();h==0&&(h+=4);var E=oe[h>>2],A=oe[h+4>>2];(E!=34821223||A!=2310721022)&&he(`Stack overflow! Stack cookie has been overwritten at ${Yt(h)}, expected hex dwords 0x89BACDFE and 0x2135467, but received ${Yt(A)} ${Yt(E)}`),oe[0]!=1668509029&&he("Runtime error: The application has corrupted its heap memory area (address zero)!")}}(()=>{var h=new Int16Array(1),E=new Int8Array(h.buffer);h[0]=25459,(E[0]!==115||E[1]!==99)&&he("Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)")})();function Z(h){Object.getOwnPropertyDescriptor(o,h)||Object.defineProperty(o,h,{configurable:!0,set(){he(`Attempt to set \`Module.${h}\` after it has already been processed.  This can happen, for example, when code is injected via '--post-js' rather than '--pre-js'`)}})}function ne(h){return()=>w(!1,`call to '${h}' via reference taken before Wasm module initialization`)}function ee(h){Object.getOwnPropertyDescriptor(o,h)&&he(`\`Module.${h}\` was supplied but \`${h}\` not included in INCOMING_MODULE_JS_API`)}function se(h){return h==="FS_createPath"||h==="FS_createDataFile"||h==="FS_createPreloadedFile"||h==="FS_preloadFile"||h==="FS_unlink"||h==="addRunDependency"||h==="FS_createLazyFile"||h==="FS_createDevice"||h==="removeRunDependency"}function pe(h){$(h)}function $(h){Object.getOwnPropertyDescriptor(o,h)||Object.defineProperty(o,h,{configurable:!0,get(){var E=`'${h}' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)`;se(h)&&(E+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you"),he(E)}})}var J,ce,W,ie,ge,oe,de,Ie=!1;function $e(){var h=Fi.buffer;W=new Int8Array(h),ie=new Uint8Array(h),o.HEAP32=ge=new Int32Array(h),oe=new Uint32Array(h),o.HEAP64=de=new BigInt64Array(h),new BigUint64Array(h)}w(globalThis.Int32Array&&globalThis.Float64Array&&Int32Array.prototype.subarray&&Int32Array.prototype.set,"JS engine does not provide full typed array support");function z(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Zl(o.preRun.shift());Z("preRun"),tt(no)}function j(){w(!Ie),Ie=!0,q(),!o.noFSInit&&!R.initialized&&R.init(),vt.__wasm_call_ctors(),R.ignorePermissions=!1}function me(){if(q(),o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)to(o.postRun.shift());Z("postRun"),tt(ti)}function he(h){o.onAbort?.(h),h="Aborted("+h+")",_(h),C=!0;var E=new WebAssembly.RuntimeError(h);throw ce?.(E),E}function De(h,E){return(...A)=>{w(Ie,`native function \`${h}\` called before runtime initialization`);var N=vt[h];return w(N,`exported native function \`${h}\` not found`),w(A.length<=E,`native function \`${h}\` called with ${A.length} args but expects ${E}`),N(...A)}}var b;function X(){return o.locateFile?m("sim.wasm"):new URL("/sorting-visual/assets/sim-BXI2YsBJ.wasm",import.meta.url).href}function le(h){if(h==b&&T)return new Uint8Array(T);throw"both async and sync fetching of the wasm failed"}async function re(h){if(!T)try{var E=await v(h);return new Uint8Array(E)}catch{}return le(h)}async function Se(h,E){try{var A=await re(h),N=await WebAssembly.instantiate(A,E);return N}catch(I){_(`failed to asynchronously prepare wasm: ${I}`),k(h)&&_(`warning: Loading from a file URI (${h}) is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing`),he(I)}}async function we(h,E,A){if(!h)try{var N=fetch(E,{credentials:"same-origin"}),I=await WebAssembly.instantiateStreaming(N,A);return I}catch(L){_(`wasm streaming compile failed: ${L}`),_("falling back to ArrayBuffer instantiation")}return Se(E,A)}function He(){var h={env:co,wasi_snapshot_preview1:co};return h}async function Tt(){function h(P,B){return vt=P.exports,Xa(vt),$e(),vt}var E=o;function A(P){return w(o===E,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?"),E=null,h(P.instance)}var N=He();if(o.instantiateWasm)return new Promise((P,B)=>{try{o.instantiateWasm(N,(te,ye)=>{P(h(te,ye))})}catch(te){_(`Module.instantiateWasm callback failed with error: ${te}`),B(te)}});b??=X();var I=await we(T,b,N),L=A(I);return L}var tt=h=>{for(;h.length>0;)h.shift()(o)},ti=[],to=h=>ti.push(h),no=[],Zl=h=>no.push(h),Yt=h=>(w(typeof h=="number",`ptrToString expects a number, got ${typeof h}`),h>>>=0,"0x"+h.toString(16).padStart(8,"0")),Dn=h=>{Dn.shown||={},Dn.shown[h]||(Dn.shown[h]=1,_(h))};class Zo{constructor(E){this.excPtr=E,this.ptr=E-24}set_type(E){oe[this.ptr+4>>2]=E}get_type(){return oe[this.ptr+4>>2]}set_destructor(E){oe[this.ptr+8>>2]=E}get_destructor(){return oe[this.ptr+8>>2]}set_caught(E){E=E?1:0,W[this.ptr+12]=E}get_caught(){return W[this.ptr+12]!=0}set_rethrown(E){E=E?1:0,W[this.ptr+13]=E}get_rethrown(){return W[this.ptr+13]!=0}init(E,A){this.set_adjusted_ptr(0),this.set_type(E),this.set_destructor(A)}set_adjusted_ptr(E){oe[this.ptr+16>>2]=E}get_adjusted_ptr(){return oe[this.ptr+16>>2]}}var Fa=(h,E,A)=>{var N=new Zo(h);N.init(E,A),w(!1,"Exception thrown, but exception catching is not enabled. Compile with -sNO_DISABLE_EXCEPTION_CATCHING or -sEXCEPTION_CATCHING_ALLOWED=[..] to catch.")},$l=()=>he("native code called abort()"),io=(h,E,A,N)=>{if(w(typeof h=="string",`stringToUTF8Array expects a string (got ${typeof h})`),!(N>0))return 0;for(var I=A,L=A+N-1,P=0;P<h.length;++P){var B=h.codePointAt(P);if(B<=127){if(A>=L)break;E[A++]=B}else if(B<=2047){if(A+1>=L)break;E[A++]=192|B>>6,E[A++]=128|B&63}else if(B<=65535){if(A+2>=L)break;E[A++]=224|B>>12,E[A++]=128|B>>6&63,E[A++]=128|B&63}else{if(A+3>=L)break;B>1114111&&Dn("Invalid Unicode code point "+Yt(B)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF)."),E[A++]=240|B>>18,E[A++]=128|B>>12&63,E[A++]=128|B>>6&63,E[A++]=128|B&63,P++}}return E[A]=0,A-I},Un=(h,E,A)=>(w(typeof A=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!"),io(h,ie,E,A)),ni=h=>{for(var E=0,A=0;A<h.length;++A){var N=h.charCodeAt(A);N<=127?E++:N<=2047?E+=2:N>=55296&&N<=57343?(E+=4,++A):E+=3}return E},Pa=(h,E,A,N)=>{var I=new Date().getFullYear(),L=new Date(I,0,1),P=new Date(I,6,1),B=L.getTimezoneOffset(),te=P.getTimezoneOffset(),ye=Math.max(B,te);oe[h>>2]=ye*60,ge[E>>2]=+(B!=te);var Ue=Re=>{var ke=Re>=0?"-":"+",Ct=Math.abs(Re),Rt=String(Math.floor(Ct/60)).padStart(2,"0"),at=String(Ct%60).padStart(2,"0");return`UTC${ke}${Rt}${at}`},Pe=Ue(B),Ee=Ue(te);w(Pe),w(Ee),w(ni(Pe)<=16,`timezone name truncated to fit in TZNAME_MAX (${Pe})`),w(ni(Ee)<=16,`timezone name truncated to fit in TZNAME_MAX (${Ee})`),te<B?(Un(Pe,A,17),Un(Ee,N,17)):(Un(Pe,N,17),Un(Ee,A,17))},Ha=()=>performance.now(),Dt=()=>Date.now(),ka=h=>h>=0&&h<=3,Wl=9007199254740992,jl=-9007199254740992,oo=h=>h<jl||h>Wl?NaN:Number(h);function qa(h,E,A){if(!ka(h))return 28;var N;h===0?N=Dt():N=Ha();var I=Math.round(N*1e3*1e3);return de[A>>3]=BigInt(I),0}var er=()=>2147483648,Va=(h,E)=>(w(E,"alignment argument is required"),Math.ceil(h/E)*E),Ba=h=>{var E=Fi.buffer.byteLength,A=(h-E+65535)/65536|0;try{return Fi.grow(A),$e(),1}catch(N){_(`growMemory: Attempted to grow heap from ${E} bytes to ${h} bytes, but got error: ${N}`)}},bi=h=>{var E=ie.length;h>>>=0,w(h>E);var A=er();if(h>A)return _(`Cannot enlarge memory, requested ${h} bytes, but the limit is ${A} bytes!`),!1;for(var N=1;N<=4;N*=2){var I=E*(1+.2/N);I=Math.min(I,h+100663296);var L=Math.min(A,Va(Math.max(h,I),65536)),P=Ba(L);if(P)return!0}return _(`Failed to grow the heap from ${E} bytes to ${L} bytes, not enough memory!`),!1},At={},Tn=()=>r||"./this.program",ht=()=>{if(!ht.strings){var h=(globalThis.navigator?.language??"C").replace("-","_")+".UTF-8",E={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:h,_:Tn()};for(var A in At)At[A]===void 0?delete E[A]:E[A]=At[A];var N=[];for(var A in E)N.push(`${A}=${E[A]}`);ht.strings=N}return ht.strings},za=(h,E)=>{var A=0,N=0;for(var I of ht()){var L=E+A;oe[h+N>>2]=L,A+=Un(I,L,1/0)+1,N+=4}return 0},Oa=(h,E)=>{var A=ht();oe[h>>2]=A.length;var N=0;for(var I of A)N+=ni(I)+1;return oe[E>>2]=N,0},Oe={isAbs:h=>h.charAt(0)==="/",splitPath:h=>{var E=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return E.exec(h).slice(1)},normalizeArray:(h,E)=>{for(var A=0,N=h.length-1;N>=0;N--){var I=h[N];I==="."?h.splice(N,1):I===".."?(h.splice(N,1),A++):A&&(h.splice(N,1),A--)}if(E)for(;A;A--)h.unshift("..");return h},normalize:h=>{var E=Oe.isAbs(h),A=h.slice(-1)==="/";return h=Oe.normalizeArray(h.split("/").filter(N=>!!N),!E).join("/"),!h&&!E&&(h="."),h&&A&&(h+="/"),(E?"/":"")+h},dirname:h=>{var E=Oe.splitPath(h),A=E[0],N=E[1];return!A&&!N?".":(N&&(N=N.slice(0,-1)),A+N)},basename:h=>h&&h.match(/([^\/]+|\/)\/*$/)[1],join:(...h)=>Oe.normalize(h.join("/")),join2:(h,E)=>Oe.normalize(h+"/"+E)},lo=()=>h=>crypto.getRandomValues(h),xi=h=>{(xi=lo())(h)},hn={resolve:(...h)=>{for(var E="",A=!1,N=h.length-1;N>=-1&&!A;N--){var I=N>=0?h[N]:R.cwd();if(typeof I!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!I)return"";E=I+"/"+E,A=Oe.isAbs(I)}return E=Oe.normalizeArray(E.split("/").filter(L=>!!L),!A).join("/"),(A?"/":"")+E||"."},relative:(h,E)=>{h=hn.resolve(h).slice(1),E=hn.resolve(E).slice(1);function A(ye){for(var Ue=0;Ue<ye.length&&ye[Ue]==="";Ue++);for(var Pe=ye.length-1;Pe>=0&&ye[Pe]==="";Pe--);return Ue>Pe?[]:ye.slice(Ue,Pe-Ue+1)}for(var N=A(h.split("/")),I=A(E.split("/")),L=Math.min(N.length,I.length),P=L,B=0;B<L;B++)if(N[B]!==I[B]){P=B;break}for(var te=[],B=P;B<N.length;B++)te.push("..");return te=te.concat(I.slice(P)),te.join("/")}},An=globalThis.TextDecoder&&new TextDecoder,ro=(h,E,A,N)=>{for(var I=E+A;h[E]&&!(E>=I);)++E;return E},en=(h,E=0,A,N)=>{var I=ro(h,E,A);if(I-E>16&&h.buffer&&An)return An.decode(h.subarray(E,I));for(var L="";E<I;){var P=h[E++];if(!(P&128)){L+=String.fromCharCode(P);continue}var B=h[E++]&63;if((P&224)==192){L+=String.fromCharCode((P&31)<<6|B);continue}var te=h[E++]&63;if((P&240)==224?P=(P&15)<<12|B<<6|te:((P&248)!=240&&Dn("Invalid UTF-8 leading byte "+Yt(P)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!"),P=(P&7)<<18|B<<12|te<<6|h[E++]&63),P<65536)L+=String.fromCharCode(P);else{var ye=P-65536;L+=String.fromCharCode(55296|ye>>10,56320|ye&1023)}}return L},$o=[],ao=(h,E,A)=>{var N=ni(h)+1,I=new Array(N),L=io(h,I,0,I.length);return I.length=L,I},Wo=()=>{if(!$o.length){var h=null;if(globalThis.window?.prompt&&(h=window.prompt("Input: "),h!==null&&(h+=`
`)),!h)return null;$o=ao(h)}return $o.shift()},Jt={ttys:[],init(){},shutdown(){},register(h,E){Jt.ttys[h]={input:[],output:[],ops:E},R.registerDevice(h,Jt.stream_ops)},stream_ops:{open(h){var E=Jt.ttys[h.node.rdev];if(!E)throw new R.ErrnoError(43);h.tty=E,h.seekable=!1},close(h){h.tty.ops.fsync(h.tty)},fsync(h){h.tty.ops.fsync(h.tty)},read(h,E,A,N,I){if(!h.tty||!h.tty.ops.get_char)throw new R.ErrnoError(60);for(var L=0,P=0;P<N;P++){var B;try{B=h.tty.ops.get_char(h.tty)}catch{throw new R.ErrnoError(29)}if(B===void 0&&L===0)throw new R.ErrnoError(6);if(B==null)break;L++,E[A+P]=B}return L&&(h.node.atime=Date.now()),L},write(h,E,A,N,I){if(!h.tty||!h.tty.ops.put_char)throw new R.ErrnoError(60);try{for(var L=0;L<N;L++)h.tty.ops.put_char(h.tty,E[A+L])}catch{throw new R.ErrnoError(29)}return N&&(h.node.mtime=h.node.ctime=Date.now()),L}},default_tty_ops:{get_char(h){return Wo()},put_char(h,E){E===null||E===10?(g(en(h.output)),h.output=[]):E!=0&&h.output.push(E)},fsync(h){h.output?.length>0&&(g(en(h.output)),h.output=[])},ioctl_tcgets(h){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(h,E,A){return 0},ioctl_tiocgwinsz(h){return[24,80]}},default_tty1_ops:{put_char(h,E){E===null||E===10?(_(en(h.output)),h.output=[]):E!=0&&h.output.push(E)},fsync(h){h.output?.length>0&&(_(en(h.output)),h.output=[])}}},tr=h=>{he("internal error: mmapAlloc called but `emscripten_builtin_memalign` native symbol not exported")},Ce={ops_table:null,mount(h){return Ce.createNode(null,"/",16895,0)},createNode(h,E,A,N){if(R.isBlkdev(A)||R.isFIFO(A))throw new R.ErrnoError(63);Ce.ops_table||={dir:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr,lookup:Ce.node_ops.lookup,mknod:Ce.node_ops.mknod,rename:Ce.node_ops.rename,unlink:Ce.node_ops.unlink,rmdir:Ce.node_ops.rmdir,readdir:Ce.node_ops.readdir,symlink:Ce.node_ops.symlink},stream:{llseek:Ce.stream_ops.llseek}},file:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr},stream:{llseek:Ce.stream_ops.llseek,read:Ce.stream_ops.read,write:Ce.stream_ops.write,mmap:Ce.stream_ops.mmap,msync:Ce.stream_ops.msync}},link:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr,readlink:Ce.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Ce.node_ops.getattr,setattr:Ce.node_ops.setattr},stream:R.chrdev_stream_ops}};var I=R.createNode(h,E,A,N);return R.isDir(I.mode)?(I.node_ops=Ce.ops_table.dir.node,I.stream_ops=Ce.ops_table.dir.stream,I.contents={}):R.isFile(I.mode)?(I.node_ops=Ce.ops_table.file.node,I.stream_ops=Ce.ops_table.file.stream,I.usedBytes=0,I.contents=null):R.isLink(I.mode)?(I.node_ops=Ce.ops_table.link.node,I.stream_ops=Ce.ops_table.link.stream):R.isChrdev(I.mode)&&(I.node_ops=Ce.ops_table.chrdev.node,I.stream_ops=Ce.ops_table.chrdev.stream),I.atime=I.mtime=I.ctime=Date.now(),h&&(h.contents[E]=I,h.atime=h.mtime=h.ctime=I.atime),I},getFileDataAsTypedArray(h){return h.contents?h.contents.subarray?h.contents.subarray(0,h.usedBytes):new Uint8Array(h.contents):new Uint8Array(0)},expandFileStorage(h,E){var A=h.contents?h.contents.length:0;if(!(A>=E)){var N=1024*1024;E=Math.max(E,A*(A<N?2:1.125)>>>0),A!=0&&(E=Math.max(E,256));var I=h.contents;h.contents=new Uint8Array(E),h.usedBytes>0&&h.contents.set(I.subarray(0,h.usedBytes),0)}},resizeFileStorage(h,E){if(h.usedBytes!=E)if(E==0)h.contents=null,h.usedBytes=0;else{var A=h.contents;h.contents=new Uint8Array(E),A&&h.contents.set(A.subarray(0,Math.min(E,h.usedBytes))),h.usedBytes=E}},node_ops:{getattr(h){var E={};return E.dev=R.isChrdev(h.mode)?h.id:1,E.ino=h.id,E.mode=h.mode,E.nlink=1,E.uid=0,E.gid=0,E.rdev=h.rdev,R.isDir(h.mode)?E.size=4096:R.isFile(h.mode)?E.size=h.usedBytes:R.isLink(h.mode)?E.size=h.link.length:E.size=0,E.atime=new Date(h.atime),E.mtime=new Date(h.mtime),E.ctime=new Date(h.ctime),E.blksize=4096,E.blocks=Math.ceil(E.size/E.blksize),E},setattr(h,E){for(const A of["mode","atime","mtime","ctime"])E[A]!=null&&(h[A]=E[A]);E.size!==void 0&&Ce.resizeFileStorage(h,E.size)},lookup(h,E){throw new R.ErrnoError(44)},mknod(h,E,A,N){return Ce.createNode(h,E,A,N)},rename(h,E,A){var N;try{N=R.lookupNode(E,A)}catch{}if(N){if(R.isDir(h.mode))for(var I in N.contents)throw new R.ErrnoError(55);R.hashRemoveNode(N)}delete h.parent.contents[h.name],E.contents[A]=h,h.name=A,E.ctime=E.mtime=h.parent.ctime=h.parent.mtime=Date.now()},unlink(h,E){delete h.contents[E],h.ctime=h.mtime=Date.now()},rmdir(h,E){var A=R.lookupNode(h,E);for(var N in A.contents)throw new R.ErrnoError(55);delete h.contents[E],h.ctime=h.mtime=Date.now()},readdir(h){return[".","..",...Object.keys(h.contents)]},symlink(h,E,A){var N=Ce.createNode(h,E,41471,0);return N.link=A,N},readlink(h){if(!R.isLink(h.mode))throw new R.ErrnoError(28);return h.link}},stream_ops:{read(h,E,A,N,I){var L=h.node.contents;if(I>=h.node.usedBytes)return 0;var P=Math.min(h.node.usedBytes-I,N);if(w(P>=0),P>8&&L.subarray)E.set(L.subarray(I,I+P),A);else for(var B=0;B<P;B++)E[A+B]=L[I+B];return P},write(h,E,A,N,I,L){if(w(!(E instanceof ArrayBuffer)),E.buffer===W.buffer&&(L=!1),!N)return 0;var P=h.node;if(P.mtime=P.ctime=Date.now(),E.subarray&&(!P.contents||P.contents.subarray)){if(L)return w(I===0,"canOwn must imply no weird position inside the file"),P.contents=E.subarray(A,A+N),P.usedBytes=N,N;if(P.usedBytes===0&&I===0)return P.contents=E.slice(A,A+N),P.usedBytes=N,N;if(I+N<=P.usedBytes)return P.contents.set(E.subarray(A,A+N),I),N}if(Ce.expandFileStorage(P,I+N),P.contents.subarray&&E.subarray)P.contents.set(E.subarray(A,A+N),I);else for(var B=0;B<N;B++)P.contents[I+B]=E[A+B];return P.usedBytes=Math.max(P.usedBytes,I+N),N},llseek(h,E,A){var N=E;if(A===1?N+=h.position:A===2&&R.isFile(h.node.mode)&&(N+=h.node.usedBytes),N<0)throw new R.ErrnoError(28);return N},mmap(h,E,A,N,I){if(!R.isFile(h.node.mode))throw new R.ErrnoError(43);var L,P,B=h.node.contents;if(!(I&2)&&B&&B.buffer===W.buffer)P=!1,L=B.byteOffset;else{if(P=!0,L=tr(),!L)throw new R.ErrnoError(48);B&&((A>0||A+E<B.length)&&(B.subarray?B=B.subarray(A,A+E):B=Array.prototype.slice.call(B,A,A+E)),W.set(B,L))}return{ptr:L,allocated:P}},msync(h,E,A,N,I){return Ce.stream_ops.write(h,E,0,N,A,!1),0}}},nr=h=>{var E={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},A=E[h];if(typeof A>"u")throw new Error(`Unknown file open mode: ${h}`);return A},so=(h,E)=>{var A=0;return h&&(A|=365),E&&(A|=146),A},uo=(h,E,A)=>(w(typeof h=="number",`UTF8ToString expects a number (got ${typeof h})`),h?en(ie,h,E):""),jo=h=>uo(Gi(h)),el={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135},ir=async h=>{var E=await v(h);return w(E,`Loading data file "${h}" failed (no arrayBuffer).`),new Uint8Array(E)},Cn=(...h)=>R.createDataFile(...h),gt=h=>{for(var E=h;;){if(!Rn[h])return h;h=E+Math.random()}},ot=0,tn=null,Rn={},bn=null,Ya=h=>{if(ot--,o.monitorRunDependencies?.(ot),w(h,"removeRunDependency requires an ID"),w(Rn[h]),delete Rn[h],ot==0&&(bn!==null&&(clearInterval(bn),bn=null),tn)){var E=tn;tn=null,E()}},or=h=>{ot++,o.monitorRunDependencies?.(ot),w(h,"addRunDependency requires an ID"),w(!Rn[h]),Rn[h]=1,bn===null&&globalThis.setInterval&&(bn=setInterval(()=>{if(C){clearInterval(bn),bn=null;return}var E=!1;for(var A in Rn)E||(E=!0,_("still waiting on run dependencies:")),_(`dependency: ${A}`);E&&_("(end of list)")},1e4))},ii=[],tl=async(h,E)=>{typeof Browser<"u"&&Browser.init();for(var A of ii)if(A.canHandle(E))return w(A.handle.constructor.name==="AsyncFunction","Filesystem plugin handlers must be async functions (See #24914)"),A.handle(h,E);return h},xn=async(h,E,A,N,I,L,P,B)=>{var te=E?hn.resolve(Oe.join2(h,E)):h,ye=gt(`cp ${te}`);or(ye);try{var Ue=A;typeof A=="string"&&(Ue=await ir(A)),Ue=await tl(Ue,te),B?.(),L||Cn(h,E,Ue,N,I,P)}finally{Ya(ye)}},oi=(h,E,A,N,I,L,P,B,te,ye)=>{xn(h,E,A,N,I,B,te,ye).then(L).catch(P)},R={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class extends Error{name="ErrnoError";constructor(h){super(Ie?jo(h):""),this.errno=h;for(var E in el)if(el[E]===h){this.code=E;break}}},FSStream:class{shared={};get object(){return this.node}set object(h){this.node=h}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(h){this.shared.flags=h}get position(){return this.shared.position}set position(h){this.shared.position=h}},FSNode:class{node_ops={};stream_ops={};readMode=365;writeMode=146;mounted=null;constructor(h,E,A,N){h||(h=this),this.parent=h,this.mount=h.mount,this.id=R.nextInode++,this.name=E,this.mode=A,this.rdev=N,this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(h){h?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(h){h?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return R.isDir(this.mode)}get isDevice(){return R.isChrdev(this.mode)}},lookupPath(h,E={}){if(!h)throw new R.ErrnoError(44);E.follow_mount??=!0,Oe.isAbs(h)||(h=R.cwd()+"/"+h);e:for(var A=0;A<40;A++){for(var N=h.split("/").filter(ye=>!!ye),I=R.root,L="/",P=0;P<N.length;P++){var B=P===N.length-1;if(B&&E.parent)break;if(N[P]!=="."){if(N[P]===".."){if(L=Oe.dirname(L),R.isRoot(I)){h=L+"/"+N.slice(P+1).join("/"),A--;continue e}else I=I.parent;continue}L=Oe.join2(L,N[P]);try{I=R.lookupNode(I,N[P])}catch(ye){if(ye?.errno===44&&B&&E.noent_okay)return{path:L};throw ye}if(R.isMountpoint(I)&&(!B||E.follow_mount)&&(I=I.mounted.root),R.isLink(I.mode)&&(!B||E.follow)){if(!I.node_ops.readlink)throw new R.ErrnoError(52);var te=I.node_ops.readlink(I);Oe.isAbs(te)||(te=Oe.dirname(L)+"/"+te),h=te+"/"+N.slice(P+1).join("/");continue e}}}return{path:L,node:I}}throw new R.ErrnoError(32)},getPath(h){for(var E;;){if(R.isRoot(h)){var A=h.mount.mountpoint;return E?A[A.length-1]!=="/"?`${A}/${E}`:A+E:A}E=E?`${h.name}/${E}`:h.name,h=h.parent}},hashName(h,E){for(var A=0,N=0;N<E.length;N++)A=(A<<5)-A+E.charCodeAt(N)|0;return(h+A>>>0)%R.nameTable.length},hashAddNode(h){var E=R.hashName(h.parent.id,h.name);h.name_next=R.nameTable[E],R.nameTable[E]=h},hashRemoveNode(h){var E=R.hashName(h.parent.id,h.name);if(R.nameTable[E]===h)R.nameTable[E]=h.name_next;else for(var A=R.nameTable[E];A;){if(A.name_next===h){A.name_next=h.name_next;break}A=A.name_next}},lookupNode(h,E){var A=R.mayLookup(h);if(A)throw new R.ErrnoError(A);for(var N=R.hashName(h.id,E),I=R.nameTable[N];I;I=I.name_next){var L=I.name;if(I.parent.id===h.id&&L===E)return I}return R.lookup(h,E)},createNode(h,E,A,N){w(typeof h=="object");var I=new R.FSNode(h,E,A,N);return R.hashAddNode(I),I},destroyNode(h){R.hashRemoveNode(h)},isRoot(h){return h===h.parent},isMountpoint(h){return!!h.mounted},isFile(h){return(h&61440)===32768},isDir(h){return(h&61440)===16384},isLink(h){return(h&61440)===40960},isChrdev(h){return(h&61440)===8192},isBlkdev(h){return(h&61440)===24576},isFIFO(h){return(h&61440)===4096},isSocket(h){return(h&49152)===49152},flagsToPermissionString(h){var E=["r","w","rw"][h&3];return h&512&&(E+="w"),E},nodePermissions(h,E){return R.ignorePermissions?0:E.includes("r")&&!(h.mode&292)||E.includes("w")&&!(h.mode&146)||E.includes("x")&&!(h.mode&73)?2:0},mayLookup(h){if(!R.isDir(h.mode))return 54;var E=R.nodePermissions(h,"x");return E||(h.node_ops.lookup?0:2)},mayCreate(h,E){if(!R.isDir(h.mode))return 54;try{var A=R.lookupNode(h,E);return 20}catch{}return R.nodePermissions(h,"wx")},mayDelete(h,E,A){var N;try{N=R.lookupNode(h,E)}catch(L){return L.errno}var I=R.nodePermissions(h,"wx");if(I)return I;if(A){if(!R.isDir(N.mode))return 54;if(R.isRoot(N)||R.getPath(N)===R.cwd())return 10}else if(R.isDir(N.mode))return 31;return 0},mayOpen(h,E){return h?R.isLink(h.mode)?32:R.isDir(h.mode)&&(R.flagsToPermissionString(E)!=="r"||E&576)?31:R.nodePermissions(h,R.flagsToPermissionString(E)):44},checkOpExists(h,E){if(!h)throw new R.ErrnoError(E);return h},MAX_OPEN_FDS:4096,nextfd(){for(var h=0;h<=R.MAX_OPEN_FDS;h++)if(!R.streams[h])return h;throw new R.ErrnoError(33)},getStreamChecked(h){var E=R.getStream(h);if(!E)throw new R.ErrnoError(8);return E},getStream:h=>R.streams[h],createStream(h,E=-1){return w(E>=-1),h=Object.assign(new R.FSStream,h),E==-1&&(E=R.nextfd()),h.fd=E,R.streams[E]=h,h},closeStream(h){R.streams[h]=null},dupStream(h,E=-1){var A=R.createStream(h,E);return A.stream_ops?.dup?.(A),A},doSetAttr(h,E,A){var N=h?.stream_ops.setattr,I=N?h:E;N??=E.node_ops.setattr,R.checkOpExists(N,63),N(I,A)},chrdev_stream_ops:{open(h){var E=R.getDevice(h.node.rdev);h.stream_ops=E.stream_ops,h.stream_ops.open?.(h)},llseek(){throw new R.ErrnoError(70)}},major:h=>h>>8,minor:h=>h&255,makedev:(h,E)=>h<<8|E,registerDevice(h,E){R.devices[h]={stream_ops:E}},getDevice:h=>R.devices[h],getMounts(h){for(var E=[],A=[h];A.length;){var N=A.pop();E.push(N),A.push(...N.mounts)}return E},syncfs(h,E){typeof h=="function"&&(E=h,h=!1),R.syncFSRequests++,R.syncFSRequests>1&&_(`warning: ${R.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`);var A=R.getMounts(R.root.mount),N=0;function I(B){return w(R.syncFSRequests>0),R.syncFSRequests--,E(B)}function L(B){if(B)return L.errored?void 0:(L.errored=!0,I(B));++N>=A.length&&I(null)}for(var P of A)P.type.syncfs?P.type.syncfs(P,h,L):L(null)},mount(h,E,A){if(typeof h=="string")throw h;var N=A==="/",I=!A,L;if(N&&R.root)throw new R.ErrnoError(10);if(!N&&!I){var P=R.lookupPath(A,{follow_mount:!1});if(A=P.path,L=P.node,R.isMountpoint(L))throw new R.ErrnoError(10);if(!R.isDir(L.mode))throw new R.ErrnoError(54)}var B={type:h,opts:E,mountpoint:A,mounts:[]},te=h.mount(B);return te.mount=B,B.root=te,N?R.root=te:L&&(L.mounted=B,L.mount&&L.mount.mounts.push(B)),te},unmount(h){var E=R.lookupPath(h,{follow_mount:!1});if(!R.isMountpoint(E.node))throw new R.ErrnoError(28);var A=E.node,N=A.mounted,I=R.getMounts(N);for(var[L,P]of Object.entries(R.nameTable))for(;P;){var B=P.name_next;I.includes(P.mount)&&R.destroyNode(P),P=B}A.mounted=null;var te=A.mount.mounts.indexOf(N);w(te!==-1),A.mount.mounts.splice(te,1)},lookup(h,E){return h.node_ops.lookup(h,E)},mknod(h,E,A){var N=R.lookupPath(h,{parent:!0}),I=N.node,L=Oe.basename(h);if(!L)throw new R.ErrnoError(28);if(L==="."||L==="..")throw new R.ErrnoError(20);var P=R.mayCreate(I,L);if(P)throw new R.ErrnoError(P);if(!I.node_ops.mknod)throw new R.ErrnoError(63);return I.node_ops.mknod(I,L,E,A)},statfs(h){return R.statfsNode(R.lookupPath(h,{follow:!0}).node)},statfsStream(h){return R.statfsNode(h.node)},statfsNode(h){var E={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:R.nextInode,ffree:R.nextInode-1,fsid:42,flags:2,namelen:255};return h.node_ops.statfs&&Object.assign(E,h.node_ops.statfs(h.mount.opts.root)),E},create(h,E=438){return E&=4095,E|=32768,R.mknod(h,E,0)},mkdir(h,E=511){return E&=1023,E|=16384,R.mknod(h,E,0)},mkdirTree(h,E){var A=h.split("/"),N="";for(var I of A)if(I){(N||Oe.isAbs(h))&&(N+="/"),N+=I;try{R.mkdir(N,E)}catch(L){if(L.errno!=20)throw L}}},mkdev(h,E,A){return typeof A>"u"&&(A=E,E=438),E|=8192,R.mknod(h,E,A)},symlink(h,E){if(!hn.resolve(h))throw new R.ErrnoError(44);var A=R.lookupPath(E,{parent:!0}),N=A.node;if(!N)throw new R.ErrnoError(44);var I=Oe.basename(E),L=R.mayCreate(N,I);if(L)throw new R.ErrnoError(L);if(!N.node_ops.symlink)throw new R.ErrnoError(63);return N.node_ops.symlink(N,I,h)},rename(h,E){var A=Oe.dirname(h),N=Oe.dirname(E),I=Oe.basename(h),L=Oe.basename(E),P,B,te;if(P=R.lookupPath(h,{parent:!0}),B=P.node,P=R.lookupPath(E,{parent:!0}),te=P.node,!B||!te)throw new R.ErrnoError(44);if(B.mount!==te.mount)throw new R.ErrnoError(75);var ye=R.lookupNode(B,I),Ue=hn.relative(h,N);if(Ue.charAt(0)!==".")throw new R.ErrnoError(28);if(Ue=hn.relative(E,A),Ue.charAt(0)!==".")throw new R.ErrnoError(55);var Pe;try{Pe=R.lookupNode(te,L)}catch{}if(ye!==Pe){var Ee=R.isDir(ye.mode),Re=R.mayDelete(B,I,Ee);if(Re)throw new R.ErrnoError(Re);if(Re=Pe?R.mayDelete(te,L,Ee):R.mayCreate(te,L),Re)throw new R.ErrnoError(Re);if(!B.node_ops.rename)throw new R.ErrnoError(63);if(R.isMountpoint(ye)||Pe&&R.isMountpoint(Pe))throw new R.ErrnoError(10);if(te!==B&&(Re=R.nodePermissions(B,"w"),Re))throw new R.ErrnoError(Re);R.hashRemoveNode(ye);try{B.node_ops.rename(ye,te,L),ye.parent=te}catch(ke){throw ke}finally{R.hashAddNode(ye)}}},rmdir(h){var E=R.lookupPath(h,{parent:!0}),A=E.node,N=Oe.basename(h),I=R.lookupNode(A,N),L=R.mayDelete(A,N,!0);if(L)throw new R.ErrnoError(L);if(!A.node_ops.rmdir)throw new R.ErrnoError(63);if(R.isMountpoint(I))throw new R.ErrnoError(10);A.node_ops.rmdir(A,N),R.destroyNode(I)},readdir(h){var E=R.lookupPath(h,{follow:!0}),A=E.node,N=R.checkOpExists(A.node_ops.readdir,54);return N(A)},unlink(h){var E=R.lookupPath(h,{parent:!0}),A=E.node;if(!A)throw new R.ErrnoError(44);var N=Oe.basename(h),I=R.lookupNode(A,N),L=R.mayDelete(A,N,!1);if(L)throw new R.ErrnoError(L);if(!A.node_ops.unlink)throw new R.ErrnoError(63);if(R.isMountpoint(I))throw new R.ErrnoError(10);A.node_ops.unlink(A,N),R.destroyNode(I)},readlink(h){var E=R.lookupPath(h),A=E.node;if(!A)throw new R.ErrnoError(44);if(!A.node_ops.readlink)throw new R.ErrnoError(28);return A.node_ops.readlink(A)},stat(h,E){var A=R.lookupPath(h,{follow:!E}),N=A.node,I=R.checkOpExists(N.node_ops.getattr,63);return I(N)},fstat(h){var E=R.getStreamChecked(h),A=E.node,N=E.stream_ops.getattr,I=N?E:A;return N??=A.node_ops.getattr,R.checkOpExists(N,63),N(I)},lstat(h){return R.stat(h,!0)},doChmod(h,E,A,N){R.doSetAttr(h,E,{mode:A&4095|E.mode&-4096,ctime:Date.now(),dontFollow:N})},chmod(h,E,A){var N;if(typeof h=="string"){var I=R.lookupPath(h,{follow:!A});N=I.node}else N=h;R.doChmod(null,N,E,A)},lchmod(h,E){R.chmod(h,E,!0)},fchmod(h,E){var A=R.getStreamChecked(h);R.doChmod(A,A.node,E,!1)},doChown(h,E,A){R.doSetAttr(h,E,{timestamp:Date.now(),dontFollow:A})},chown(h,E,A,N){var I;if(typeof h=="string"){var L=R.lookupPath(h,{follow:!N});I=L.node}else I=h;R.doChown(null,I,N)},lchown(h,E,A){R.chown(h,E,A,!0)},fchown(h,E,A){var N=R.getStreamChecked(h);R.doChown(N,N.node,!1)},doTruncate(h,E,A){if(R.isDir(E.mode))throw new R.ErrnoError(31);if(!R.isFile(E.mode))throw new R.ErrnoError(28);var N=R.nodePermissions(E,"w");if(N)throw new R.ErrnoError(N);R.doSetAttr(h,E,{size:A,timestamp:Date.now()})},truncate(h,E){if(E<0)throw new R.ErrnoError(28);var A;if(typeof h=="string"){var N=R.lookupPath(h,{follow:!0});A=N.node}else A=h;R.doTruncate(null,A,E)},ftruncate(h,E){var A=R.getStreamChecked(h);if(E<0||(A.flags&2097155)===0)throw new R.ErrnoError(28);R.doTruncate(A,A.node,E)},utime(h,E,A){var N=R.lookupPath(h,{follow:!0}),I=N.node,L=R.checkOpExists(I.node_ops.setattr,63);L(I,{atime:E,mtime:A})},open(h,E,A=438){if(h==="")throw new R.ErrnoError(44);E=typeof E=="string"?nr(E):E,E&64?A=A&4095|32768:A=0;var N,I;if(typeof h=="object")N=h;else{I=h.endsWith("/");var L=R.lookupPath(h,{follow:!(E&131072),noent_okay:!0});N=L.node,h=L.path}var P=!1;if(E&64)if(N){if(E&128)throw new R.ErrnoError(20)}else{if(I)throw new R.ErrnoError(31);N=R.mknod(h,A|511,0),P=!0}if(!N)throw new R.ErrnoError(44);if(R.isChrdev(N.mode)&&(E&=-513),E&65536&&!R.isDir(N.mode))throw new R.ErrnoError(54);if(!P){var B=R.mayOpen(N,E);if(B)throw new R.ErrnoError(B)}E&512&&!P&&R.truncate(N,0),E&=-131713;var te=R.createStream({node:N,path:R.getPath(N),flags:E,seekable:!0,position:0,stream_ops:N.stream_ops,ungotten:[],error:!1});return te.stream_ops.open&&te.stream_ops.open(te),P&&R.chmod(N,A&511),o.logReadFiles&&!(E&1)&&(h in R.readFiles||(R.readFiles[h]=1)),te},close(h){if(R.isClosed(h))throw new R.ErrnoError(8);h.getdents&&(h.getdents=null);try{h.stream_ops.close&&h.stream_ops.close(h)}catch(E){throw E}finally{R.closeStream(h.fd)}h.fd=null},isClosed(h){return h.fd===null},llseek(h,E,A){if(R.isClosed(h))throw new R.ErrnoError(8);if(!h.seekable||!h.stream_ops.llseek)throw new R.ErrnoError(70);if(A!=0&&A!=1&&A!=2)throw new R.ErrnoError(28);return h.position=h.stream_ops.llseek(h,E,A),h.ungotten=[],h.position},read(h,E,A,N,I){if(w(A>=0),N<0||I<0)throw new R.ErrnoError(28);if(R.isClosed(h))throw new R.ErrnoError(8);if((h.flags&2097155)===1)throw new R.ErrnoError(8);if(R.isDir(h.node.mode))throw new R.ErrnoError(31);if(!h.stream_ops.read)throw new R.ErrnoError(28);var L=typeof I<"u";if(!L)I=h.position;else if(!h.seekable)throw new R.ErrnoError(70);var P=h.stream_ops.read(h,E,A,N,I);return L||(h.position+=P),P},write(h,E,A,N,I,L){if(w(A>=0),N<0||I<0)throw new R.ErrnoError(28);if(R.isClosed(h))throw new R.ErrnoError(8);if((h.flags&2097155)===0)throw new R.ErrnoError(8);if(R.isDir(h.node.mode))throw new R.ErrnoError(31);if(!h.stream_ops.write)throw new R.ErrnoError(28);h.seekable&&h.flags&1024&&R.llseek(h,0,2);var P=typeof I<"u";if(!P)I=h.position;else if(!h.seekable)throw new R.ErrnoError(70);var B=h.stream_ops.write(h,E,A,N,I,L);return P||(h.position+=B),B},mmap(h,E,A,N,I){if((N&2)!==0&&(I&2)===0&&(h.flags&2097155)!==2)throw new R.ErrnoError(2);if((h.flags&2097155)===1)throw new R.ErrnoError(2);if(!h.stream_ops.mmap)throw new R.ErrnoError(43);if(!E)throw new R.ErrnoError(28);return h.stream_ops.mmap(h,E,A,N,I)},msync(h,E,A,N,I){return w(A>=0),h.stream_ops.msync?h.stream_ops.msync(h,E,A,N,I):0},ioctl(h,E,A){if(!h.stream_ops.ioctl)throw new R.ErrnoError(59);return h.stream_ops.ioctl(h,E,A)},readFile(h,E={}){E.flags=E.flags||0,E.encoding=E.encoding||"binary",E.encoding!=="utf8"&&E.encoding!=="binary"&&he(`Invalid encoding type "${E.encoding}"`);var A=R.open(h,E.flags),N=R.stat(h),I=N.size,L=new Uint8Array(I);return R.read(A,L,0,I,0),E.encoding==="utf8"&&(L=en(L)),R.close(A),L},writeFile(h,E,A={}){A.flags=A.flags||577;var N=R.open(h,A.flags,A.mode);typeof E=="string"&&(E=new Uint8Array(ao(E))),ArrayBuffer.isView(E)?R.write(N,E,0,E.byteLength,void 0,A.canOwn):he("Unsupported data type"),R.close(N)},cwd:()=>R.currentPath,chdir(h){var E=R.lookupPath(h,{follow:!0});if(E.node===null)throw new R.ErrnoError(44);if(!R.isDir(E.node.mode))throw new R.ErrnoError(54);var A=R.nodePermissions(E.node,"x");if(A)throw new R.ErrnoError(A);R.currentPath=E.path},createDefaultDirectories(){R.mkdir("/tmp"),R.mkdir("/home"),R.mkdir("/home/web_user")},createDefaultDevices(){R.mkdir("/dev"),R.registerDevice(R.makedev(1,3),{read:()=>0,write:(N,I,L,P,B)=>P,llseek:()=>0}),R.mkdev("/dev/null",R.makedev(1,3)),Jt.register(R.makedev(5,0),Jt.default_tty_ops),Jt.register(R.makedev(6,0),Jt.default_tty1_ops),R.mkdev("/dev/tty",R.makedev(5,0)),R.mkdev("/dev/tty1",R.makedev(6,0));var h=new Uint8Array(1024),E=0,A=()=>(E===0&&(xi(h),E=h.byteLength),h[--E]);R.createDevice("/dev","random",A),R.createDevice("/dev","urandom",A),R.mkdir("/dev/shm"),R.mkdir("/dev/shm/tmp")},createSpecialDirectories(){R.mkdir("/proc");var h=R.mkdir("/proc/self");R.mkdir("/proc/self/fd"),R.mount({mount(){var E=R.createNode(h,"fd",16895,73);return E.stream_ops={llseek:Ce.stream_ops.llseek},E.node_ops={lookup(A,N){var I=+N,L=R.getStreamChecked(I),P={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>L.path},id:I+1};return P.parent=P,P},readdir(){return Array.from(R.streams.entries()).filter(([A,N])=>N).map(([A,N])=>A.toString())}},E}},{},"/proc/self/fd")},createStandardStreams(h,E,A){h?R.createDevice("/dev","stdin",h):R.symlink("/dev/tty","/dev/stdin"),E?R.createDevice("/dev","stdout",null,E):R.symlink("/dev/tty","/dev/stdout"),A?R.createDevice("/dev","stderr",null,A):R.symlink("/dev/tty1","/dev/stderr");var N=R.open("/dev/stdin",0),I=R.open("/dev/stdout",1),L=R.open("/dev/stderr",1);w(N.fd===0,`invalid handle for stdin (${N.fd})`),w(I.fd===1,`invalid handle for stdout (${I.fd})`),w(L.fd===2,`invalid handle for stderr (${L.fd})`)},staticInit(){R.nameTable=new Array(4096),R.mount(Ce,{},"/"),R.createDefaultDirectories(),R.createDefaultDevices(),R.createSpecialDirectories(),R.filesystems={MEMFS:Ce}},init(h,E,A){w(!R.initialized,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),R.initialized=!0,h??=o.stdin,E??=o.stdout,A??=o.stderr,R.createStandardStreams(h,E,A)},quit(){R.initialized=!1,Li(0);for(var h of R.streams)h&&R.close(h)},findObject(h,E){var A=R.analyzePath(h,E);return A.exists?A.object:null},analyzePath(h,E){try{var A=R.lookupPath(h,{follow:!E});h=A.path}catch{}var N={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var A=R.lookupPath(h,{parent:!0});N.parentExists=!0,N.parentPath=A.path,N.parentObject=A.node,N.name=Oe.basename(h),A=R.lookupPath(h,{follow:!E}),N.exists=!0,N.path=A.path,N.object=A.node,N.name=A.node.name,N.isRoot=A.path==="/"}catch(I){N.error=I.errno}return N},createPath(h,E,A,N){h=typeof h=="string"?h:R.getPath(h);for(var I=E.split("/").reverse();I.length;){var L=I.pop();if(L){var P=Oe.join2(h,L);try{R.mkdir(P)}catch(B){if(B.errno!=20)throw B}h=P}}return P},createFile(h,E,A,N,I){var L=Oe.join2(typeof h=="string"?h:R.getPath(h),E),P=so(N,I);return R.create(L,P)},createDataFile(h,E,A,N,I,L){var P=E;h&&(h=typeof h=="string"?h:R.getPath(h),P=E?Oe.join2(h,E):h);var B=so(N,I),te=R.create(P,B);if(A){if(typeof A=="string"){for(var ye=new Array(A.length),Ue=0,Pe=A.length;Ue<Pe;++Ue)ye[Ue]=A.charCodeAt(Ue);A=ye}R.chmod(te,B|146);var Ee=R.open(te,577);R.write(Ee,A,0,A.length,0,L),R.close(Ee),R.chmod(te,B)}},createDevice(h,E,A,N){var I=Oe.join2(typeof h=="string"?h:R.getPath(h),E),L=so(!!A,!!N);R.createDevice.major??=64;var P=R.makedev(R.createDevice.major++,0);return R.registerDevice(P,{open(B){B.seekable=!1},close(B){N?.buffer?.length&&N(10)},read(B,te,ye,Ue,Pe){for(var Ee=0,Re=0;Re<Ue;Re++){var ke;try{ke=A()}catch{throw new R.ErrnoError(29)}if(ke===void 0&&Ee===0)throw new R.ErrnoError(6);if(ke==null)break;Ee++,te[ye+Re]=ke}return Ee&&(B.node.atime=Date.now()),Ee},write(B,te,ye,Ue,Pe){for(var Ee=0;Ee<Ue;Ee++)try{N(te[ye+Ee])}catch{throw new R.ErrnoError(29)}return Ue&&(B.node.mtime=B.node.ctime=Date.now()),Ee}}),R.mkdev(I,L,P)},forceLoadFile(h){if(h.isDevice||h.isFolder||h.link||h.contents)return!0;if(globalThis.XMLHttpRequest)he("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");else try{h.contents=y(h.url)}catch{throw new R.ErrnoError(29)}},createLazyFile(h,E,A,N,I){class L{lengthKnown=!1;chunks=[];get(Ee){if(!(Ee>this.length-1||Ee<0)){var Re=Ee%this.chunkSize,ke=Ee/this.chunkSize|0;return this.getter(ke)[Re]}}setDataGetter(Ee){this.getter=Ee}cacheLength(){var Ee=new XMLHttpRequest;Ee.open("HEAD",A,!1),Ee.send(null),Ee.status>=200&&Ee.status<300||Ee.status===304||he("Couldn't load "+A+". Status: "+Ee.status);var Re=Number(Ee.getResponseHeader("Content-length")),ke,Ct=(ke=Ee.getResponseHeader("Accept-Ranges"))&&ke==="bytes",Rt=(ke=Ee.getResponseHeader("Content-Encoding"))&&ke==="gzip",at=1024*1024;Ct||(at=Re);var _t=(Ht,Gn)=>{Ht>Gn&&he("invalid range ("+Ht+", "+Gn+") or no bytes requested!"),Gn>Re-1&&he("only "+Re+" bytes available! programmer error!");var it=new XMLHttpRequest;return it.open("GET",A,!1),Re!==at&&it.setRequestHeader("Range","bytes="+Ht+"-"+Gn),it.responseType="arraybuffer",it.overrideMimeType&&it.overrideMimeType("text/plain; charset=x-user-defined"),it.send(null),it.status>=200&&it.status<300||it.status===304||he("Couldn't load "+A+". Status: "+it.status),it.response!==void 0?new Uint8Array(it.response||[]):ao(it.responseText||"")},ri=this;ri.setDataGetter(Ht=>{var Gn=Ht*at,it=(Ht+1)*at-1;return it=Math.min(it,Re-1),typeof ri.chunks[Ht]>"u"&&(ri.chunks[Ht]=_t(Gn,it)),typeof ri.chunks[Ht]>"u"&&he("doXHR failed!"),ri.chunks[Ht]}),(Rt||!Re)&&(at=Re=1,Re=this.getter(0).length,at=Re,g("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=Re,this._chunkSize=at,this.lengthKnown=!0}get length(){return this.lengthKnown||this.cacheLength(),this._length}get chunkSize(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}if(globalThis.XMLHttpRequest){he("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc");var P=new L,B={isDevice:!1,contents:P}}else var B={isDevice:!1,url:A};var te=R.createFile(h,E,B,N,I);B.contents?te.contents=B.contents:B.url&&(te.contents=null,te.url=B.url),Object.defineProperties(te,{usedBytes:{get:function(){return this.contents.length}}});var ye={};for(const[Pe,Ee]of Object.entries(te.stream_ops))ye[Pe]=(...Re)=>(R.forceLoadFile(te),Ee(...Re));function Ue(Pe,Ee,Re,ke,Ct){var Rt=Pe.node.contents;if(Ct>=Rt.length)return 0;var at=Math.min(Rt.length-Ct,ke);if(w(at>=0),Rt.slice)for(var _t=0;_t<at;_t++)Ee[Re+_t]=Rt[Ct+_t];else for(var _t=0;_t<at;_t++)Ee[Re+_t]=Rt.get(Ct+_t);return at}return ye.read=(Pe,Ee,Re,ke,Ct)=>(R.forceLoadFile(te),Ue(Pe,Ee,Re,ke,Ct)),ye.mmap=(Pe,Ee,Re,ke,Ct)=>{R.forceLoadFile(te);var Rt=tr();if(!Rt)throw new R.ErrnoError(48);return Ue(Pe,W,Rt,Ee,Re),{ptr:Rt,allocated:!0}},te.stream_ops=ye,te},absolutePath(){he("FS.absolutePath has been removed; use PATH_FS.resolve instead")},createFolder(){he("FS.createFolder has been removed; use FS.mkdir instead")},createLink(){he("FS.createLink has been removed; use FS.symlink instead")},joinPath(){he("FS.joinPath has been removed; use PATH.join instead")},mmapAlloc(){he("FS.mmapAlloc has been replaced by the top level function mmapAlloc")},standardizePath(){he("FS.standardizePath has been removed; use PATH.normalize instead")}},nn={DEFAULT_POLLMASK:5,calculateAt(h,E,A){if(Oe.isAbs(E))return E;var N;if(h===-100)N=R.cwd();else{var I=nn.getStreamFromFD(h);N=I.path}if(E.length==0){if(!A)throw new R.ErrnoError(44);return N}return N+"/"+E},writeStat(h,E){oe[h>>2]=E.dev,oe[h+4>>2]=E.mode,oe[h+8>>2]=E.nlink,oe[h+12>>2]=E.uid,oe[h+16>>2]=E.gid,oe[h+20>>2]=E.rdev,de[h+24>>3]=BigInt(E.size),ge[h+32>>2]=4096,ge[h+36>>2]=E.blocks;var A=E.atime.getTime(),N=E.mtime.getTime(),I=E.ctime.getTime();return de[h+40>>3]=BigInt(Math.floor(A/1e3)),oe[h+48>>2]=A%1e3*1e3*1e3,de[h+56>>3]=BigInt(Math.floor(N/1e3)),oe[h+64>>2]=N%1e3*1e3*1e3,de[h+72>>3]=BigInt(Math.floor(I/1e3)),oe[h+80>>2]=I%1e3*1e3*1e3,de[h+88>>3]=BigInt(E.ino),0},writeStatFs(h,E){oe[h+4>>2]=E.bsize,oe[h+60>>2]=E.bsize,de[h+8>>3]=BigInt(E.blocks),de[h+16>>3]=BigInt(E.bfree),de[h+24>>3]=BigInt(E.bavail),de[h+32>>3]=BigInt(E.files),de[h+40>>3]=BigInt(E.ffree),oe[h+48>>2]=E.fsid,oe[h+64>>2]=E.flags,oe[h+56>>2]=E.namelen},doMsync(h,E,A,N,I){if(!R.isFile(E.node.mode))throw new R.ErrnoError(43);if(N&2)return 0;var L=ie.slice(h,h+A);R.msync(E,L,I,A,N)},getStreamFromFD(h){var E=R.getStreamChecked(h);return E},varargs:void 0,getStr(h){var E=uo(h);return E}};function ct(h){try{var E=nn.getStreamFromFD(h);return R.close(E),0}catch(A){if(typeof R>"u"||A.name!=="ErrnoError")throw A;return A.errno}}var lr=(h,E,A,N)=>{for(var I=0,L=0;L<A;L++){var P=oe[E>>2],B=oe[E+4>>2];E+=8;var te=R.read(h,W,P,B,N);if(te<0)return-1;if(I+=te,te<B)break}return I};function rr(h,E,A,N){try{var I=nn.getStreamFromFD(h),L=lr(I,E,A);return oe[N>>2]=L,0}catch(P){if(typeof R>"u"||P.name!=="ErrnoError")throw P;return P.errno}}function Ln(h,E,A,N){E=oo(E);try{if(isNaN(E))return 61;var I=nn.getStreamFromFD(h);return R.llseek(I,E,A),de[N>>3]=BigInt(I.position),I.getdents&&E===0&&A===0&&(I.getdents=null),0}catch(L){if(typeof R>"u"||L.name!=="ErrnoError")throw L;return L.errno}}var li=(h,E,A,N)=>{for(var I=0,L=0;L<A;L++){var P=oe[E>>2],B=oe[E+4>>2];E+=8;var te=R.write(h,W,P,B,N);if(te<0)return-1;if(I+=te,te<B)break}return I};function Ja(h,E,A,N){try{var I=nn.getStreamFromFD(h),L=li(I,E,A);return oe[N>>2]=L,0}catch(P){if(typeof R>"u"||P.name!=="ErrnoError")throw P;return P.errno}}R.createPreloadedFile=oi,R.preloadFile=xn,R.staticInit();{if(o.noExitRuntime&&o.noExitRuntime,o.preloadPlugins&&(ii=o.preloadPlugins),o.print&&(g=o.print),o.printErr&&(_=o.printErr),o.wasmBinary&&(T=o.wasmBinary),Ka(),o.arguments&&o.arguments,o.thisProgram&&(r=o.thisProgram),w(typeof o.memoryInitializerPrefixURL>"u","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead"),w(typeof o.pthreadMainPrefixURL>"u","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead"),w(typeof o.cdInitializerPrefixURL>"u","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead"),w(typeof o.filePackagePrefixURL>"u","Module.filePackagePrefixURL option was removed, use Module.locateFile instead"),w(typeof o.read>"u","Module.read option was removed"),w(typeof o.readAsync>"u","Module.readAsync option was removed (modify readAsync in JS)"),w(typeof o.readBinary>"u","Module.readBinary option was removed (modify readBinary in JS)"),w(typeof o.setWindowTitle>"u","Module.setWindowTitle option was removed (modify emscripten_set_window_title in JS)"),w(typeof o.TOTAL_MEMORY>"u","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY"),w(typeof o.ENVIRONMENT>"u","Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)"),w(typeof o.STACK_SIZE>"u","STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time"),w(typeof o.wasmMemory>"u","Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally"),w(typeof o.INITIAL_MEMORY>"u","Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically"),o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.shift()();Z("preInit")}var ar=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertI32PairToI53Checked","convertU32PairToI53","stackAlloc","getTempRet0","setTempRet0","createNamedFunction","zeroMemory","exitJS","withStackSave","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","readEmAsmArgs","jstoi_q","autoResumeAudioContext","getDynCaller","dynCall","handleException","keepRuntimeAlive","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","asmjsMangle","HandleAllocator","addOnInit","addOnPostCtor","addOnPreMain","addOnExit","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","ccall","cwrap","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","intArrayToString","AsciiToString","stringToAscii","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","stringToNewUTF8","stringToUTF8OnStack","writeArrayToMemory","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","jsStackTrace","getCallstack","convertPCtoSourceLocation","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","safeSetTimeout","setImmediateWrapped","safeRequestAnimationFrame","clearImmediateWrapped","registerPostMainLoop","registerPreMainLoop","getPromise","makePromise","idsToPromises","makePromiseCallback","findMatchingCatch","Browser_asyncPrepareDataCounter","isLeapYear","ydayFromDate","arraySum","addDays","getSocketFromFD","getSocketAddress","FS_mkdirTree","_setNetworkCallback","heapObjectForWebGLType","toTypedArrayIndex","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","webgl_enable_EXT_polygon_offset_clamp","webgl_enable_EXT_clip_control","webgl_enable_WEBGL_polygon_mode","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","allocateUTF8","allocateUTF8OnStack","demangle","stackTrace","getNativeTypeSize"];ar.forEach(pe);var sr=["run","out","err","callMain","abort","wasmExports","HEAPF32","HEAPF64","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAPU32","HEAPU64","writeStackCookie","checkStackCookie","INT53_MAX","INT53_MIN","bigintToI53Checked","stackSave","stackRestore","ptrToString","getHeapMax","growMemory","ENV","ERRNO_CODES","strError","DNS","Protocols","Sockets","timers","warnOnce","readEmAsmArgsArray","getExecutableName","asyncLoad","alignMemory","mmapAlloc","wasmTable","wasmMemory","getUniqueRunDependency","noExitRuntime","addRunDependency","removeRunDependency","addOnPreRun","addOnPostRun","freeTableIndexes","functionsInTableMap","setValue","getValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","stringToUTF8","lengthBytesUTF8","intArrayFromString","UTF16Decoder","JSEvents","specialHTMLTargets","findCanvasEventTarget","currentFullscreenStrategy","restoreOldWindowedStyle","UNWIND_CACHE","ExitStatus","getEnvStrings","checkWasiClock","doReadv","doWritev","initRandomFill","randomFill","emSetImmediate","emClearImmediate_deps","emClearImmediate","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","Browser","requestFullscreen","requestFullScreen","setCanvasSize","getUserMedia","createContext","getPreloadedImageData__data","wget","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","SYSCALLS","preloadPlugins","FS_createPreloadedFile","FS_preloadFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar_buffer","FS_stdin_getChar","FS_unlink","FS_createPath","FS_createDevice","FS_readFile","FS","FS_root","FS_mounts","FS_devices","FS_streams","FS_nextInode","FS_nameTable","FS_currentPath","FS_initialized","FS_ignorePermissions","FS_filesystems","FS_syncFSRequests","FS_readFiles","FS_lookupPath","FS_getPath","FS_hashName","FS_hashAddNode","FS_hashRemoveNode","FS_lookupNode","FS_createNode","FS_destroyNode","FS_isRoot","FS_isMountpoint","FS_isFile","FS_isDir","FS_isLink","FS_isChrdev","FS_isBlkdev","FS_isFIFO","FS_isSocket","FS_flagsToPermissionString","FS_nodePermissions","FS_mayLookup","FS_mayCreate","FS_mayDelete","FS_mayOpen","FS_checkOpExists","FS_nextfd","FS_getStreamChecked","FS_getStream","FS_createStream","FS_closeStream","FS_dupStream","FS_doSetAttr","FS_chrdev_stream_ops","FS_major","FS_minor","FS_makedev","FS_registerDevice","FS_getDevice","FS_getMounts","FS_syncfs","FS_mount","FS_unmount","FS_lookup","FS_mknod","FS_statfs","FS_statfsStream","FS_statfsNode","FS_create","FS_mkdir","FS_mkdev","FS_symlink","FS_rename","FS_rmdir","FS_readdir","FS_readlink","FS_stat","FS_fstat","FS_lstat","FS_doChmod","FS_chmod","FS_lchmod","FS_fchmod","FS_doChown","FS_chown","FS_lchown","FS_fchown","FS_doTruncate","FS_truncate","FS_ftruncate","FS_utime","FS_open","FS_close","FS_isClosed","FS_llseek","FS_read","FS_write","FS_mmap","FS_msync","FS_ioctl","FS_writeFile","FS_cwd","FS_chdir","FS_createDefaultDirectories","FS_createDefaultDevices","FS_createSpecialDirectories","FS_createStandardStreams","FS_staticInit","FS_init","FS_quit","FS_findObject","FS_analyzePath","FS_createFile","FS_createDataFile","FS_forceLoadFile","FS_createLazyFile","FS_absolutePath","FS_createFolder","FS_createLink","FS_joinPath","FS_mmapAlloc","FS_standardizePath","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","print","printErr","jstoi_s"];sr.forEach($);function Ka(){ee("fetchSettings")}o._init=ne("_init"),o._step=ne("_step"),o._get_op_cnt=ne("_get_op_cnt"),o._get_arr=ne("_get_arr"),o._get_runtime=ne("_get_runtime");var Li=ne("_fflush"),Gi=ne("_strerror"),on=ne("_emscripten_stack_init"),Ut=ne("_emscripten_stack_get_end"),Fi=ne("wasmMemory");function Xa(h){w(typeof h.init<"u","missing Wasm export: init"),w(typeof h.step<"u","missing Wasm export: step"),w(typeof h.get_op_cnt<"u","missing Wasm export: get_op_cnt"),w(typeof h.get_arr<"u","missing Wasm export: get_arr"),w(typeof h.get_runtime<"u","missing Wasm export: get_runtime"),w(typeof h.fflush<"u","missing Wasm export: fflush"),w(typeof h.strerror<"u","missing Wasm export: strerror"),w(typeof h.emscripten_stack_init<"u","missing Wasm export: emscripten_stack_init"),w(typeof h.emscripten_stack_get_free<"u","missing Wasm export: emscripten_stack_get_free"),w(typeof h.emscripten_stack_get_base<"u","missing Wasm export: emscripten_stack_get_base"),w(typeof h.emscripten_stack_get_end<"u","missing Wasm export: emscripten_stack_get_end"),w(typeof h._emscripten_stack_restore<"u","missing Wasm export: _emscripten_stack_restore"),w(typeof h._emscripten_stack_alloc<"u","missing Wasm export: _emscripten_stack_alloc"),w(typeof h.emscripten_stack_get_current<"u","missing Wasm export: emscripten_stack_get_current"),w(typeof h.memory<"u","missing Wasm export: memory"),w(typeof h.__indirect_function_table<"u","missing Wasm export: __indirect_function_table"),o._init=De("init",2),o._step=De("step",0),o._get_op_cnt=De("get_op_cnt",0),o._get_arr=De("get_arr",0),o._get_runtime=De("get_runtime",0),Li=De("fflush",1),Gi=De("strerror",1),on=h.emscripten_stack_init,h.emscripten_stack_get_free,h.emscripten_stack_get_base,Ut=h.emscripten_stack_get_end,h._emscripten_stack_restore,h._emscripten_stack_alloc,h.emscripten_stack_get_current,Fi=h.memory,h.__indirect_function_table}var co={__cxa_throw:Fa,_abort_js:$l,_tzset_js:Pa,clock_time_get:qa,emscripten_date_now:Dt,emscripten_resize_heap:bi,environ_get:za,environ_sizes_get:Oa,fd_close:ct,fd_read:rr,fd_seek:Ln,fd_write:Ja},nl;function fo(){on(),Y()}function il(){if(ot>0){tn=il;return}if(fo(),z(),ot>0){tn=il;return}function h(){w(!nl),nl=!0,o.calledRun=!0,!C&&(j(),J?.(o),o.onRuntimeInitialized?.(),Z("onRuntimeInitialized"),w(!o._main,'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]'),me())}o.setStatus?(o.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>o.setStatus(""),1),h()},1)):h(),q()}var vt;vt=await Tt(),il(),Ie?t=o:t=new Promise((h,E)=>{J=h,ce=E});for(const h of Object.keys(o))h in i||Object.defineProperty(i,h,{configurable:!0,get(){he(`Access to module property ('${h}') is no longer possible via the module constructor argument; Instead, use the result of the module constructor.`)}});return t}const e0="AIzaSyCS9cPEIEtykr6FAj-NCqdYcoqZI4PMCvw",t0={geminiApiKey:e0};var n0={};let i0,o0;function l0(){return{geminiUrl:i0,vertexUrl:o0}}function r0(i,t,o,r){var u,f;if(!i?.baseUrl){const m=l0();return t?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(f=m.geminiUrl)!==null&&f!==void 0?f:r}return i.baseUrl}class jn{}function ae(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(r,u)=>{if(Object.prototype.hasOwnProperty.call(t,u)){const f=t[u];return f!=null?String(f):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const m=t[f];if(m.endsWith("[]")){const v=m.slice(0,-2);if(!(v in i))if(Array.isArray(o))i[v]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[v])){const y=i[v];if(Array.isArray(o))for(let g=0;g<y.length;g++){const _=y[g];c(_,t.slice(f+1),o[g])}else for(const g of y)c(g,t.slice(f+1),o)}return}else if(m.endsWith("[0]")){const v=m.slice(0,-3);v in i||(i[v]=[{}]);const y=i[v];c(y[0],t.slice(f+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const r=t[t.length-1],u=i[r];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[r]=o}function s(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let r=0;r<t.length;r++){if(typeof i!="object"||i===null)return o;const u=t[r];if(u.endsWith("[]")){const f=u.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(v=>s(v,t.slice(r+1),o)):o}else return o}else i=i[u]}return i}catch(r){if(r instanceof TypeError)return o;throw r}}function a0(i,t){for(const[o,r]of Object.entries(t)){const u=o.split("."),f=r.split("."),m=new Set;let v=-1;for(let y=0;y<u.length;y++)if(u[y]==="*"){v=y;break}if(v!==-1&&f.length>v)for(let y=v;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&m.add(g)}ic(i,u,f,0,m)}}function ic(i,t,o,r,u){if(r>=t.length||typeof i!="object"||i===null)return;const f=t[r];if(f.endsWith("[]")){const m=f.slice(0,-2),v=i;if(m in v&&Array.isArray(v[m]))for(const y of v[m])ic(y,t,o,r+1,u)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,v=Object.keys(m).filter(g=>!g.startsWith("_")&&!u.has(g)),y={};for(const g of v)y[g]=m[g];for(const[g,_]of Object.entries(y)){const T=[];for(const C of o.slice(r))C==="*"?T.push(g):T.push(C);c(m,T,_)}for(const g of v)delete m[g]}}else{const m=i;f in m&&ic(m[f],t,o,r+1,u)}}function _c(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function s0(i){const t={},o=s(i,["operationName"]);o!=null&&c(t,["operationName"],o);const r=s(i,["resourceName"]);return r!=null&&c(t,["_url","resourceName"],r),t}function u0(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],f0(m)),t}function c0(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response"]);return m!=null&&c(t,["response"],d0(m)),t}function f0(i){const t={},o=s(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>p0(m))),c(t,["generatedVideos"],f)}const r=s(i,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);const u=s(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function d0(i){const t={},o=s(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>m0(m))),c(t,["generatedVideos"],f)}const r=s(i,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);const u=s(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function p0(i){const t={},o=s(i,["video"]);return o!=null&&c(t,["video"],E0(o)),t}function m0(i){const t={},o=s(i,["_self"]);return o!=null&&c(t,["video"],S0(o)),t}function h0(i){const t={},o=s(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function g0(i){const t={},o=s(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function v0(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response"]);return m!=null&&c(t,["response"],y0(m)),t}function y0(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["parent"]);r!=null&&c(t,["parent"],r);const u=s(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function Qh(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response"]);return m!=null&&c(t,["response"],_0(m)),t}function _0(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["parent"]);r!=null&&c(t,["parent"],r);const u=s(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function E0(i){const t={},o=s(i,["uri"]);o!=null&&c(t,["uri"],o);const r=s(i,["encodedVideo"]);r!=null&&c(t,["videoBytes"],_c(r));const u=s(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function S0(i){const t={},o=s(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const r=s(i,["bytesBase64Encoded"]);r!=null&&c(t,["videoBytes"],_c(r));const u=s(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}var gm;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(gm||(gm={}));var vm;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(vm||(vm={}));var ym;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(ym||(ym={}));var Di;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Di||(Di={}));var _m;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(_m||(_m={}));var Em;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Em||(Em={}));var Sm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Sm||(Sm={}));var Tm;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Tm||(Tm={}));var Am;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Am||(Am={}));var Cm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Cm||(Cm={}));var Rm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Rm||(Rm={}));var Mm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Mm||(Mm={}));var Nm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nm||(Nm={}));var wm;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(wm||(wm={}));var Im;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Im||(Im={}));var Dm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Dm||(Dm={}));var Um;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(Um||(Um={}));var bm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(bm||(bm={}));var xm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(xm||(xm={}));var Lm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Lm||(Lm={}));var Gm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Gm||(Gm={}));var Ca;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ca||(Ca={}));var Fm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Fm||(Fm={}));var Pm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Pm||(Pm={}));var Hm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Hm||(Hm={}));var oc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oc||(oc={}));var km;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(km||(km={}));var qm;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(qm||(qm={}));var lc;(function(i){i.COLLECTION="COLLECTION"})(lc||(lc={}));var Vm;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(Vm||(Vm={}));var Bm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Bm||(Bm={}));var zm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(zm||(zm={}));var Om;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(Om||(Om={}));var Ym;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Ym||(Ym={}));var Jm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Jm||(Jm={}));var Km;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Km||(Km={}));var Xm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xm||(Xm={}));var Qm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Qm||(Qm={}));var Zm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Zm||(Zm={}));var $m;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})($m||($m={}));var Wm;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Wm||(Wm={}));var jm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(jm||(jm={}));var eh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(eh||(eh={}));var th;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(th||(th={}));var nh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(nh||(nh={}));var ih;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(ih||(ih={}));var oh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(oh||(oh={}));var lh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(lh||(lh={}));var rh;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(rh||(rh={}));var ah;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(ah||(ah={}));var sh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(sh||(sh={}));var uh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(uh||(uh={}));var ch;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(ch||(ch={}));var fh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(fh||(fh={}));var dh;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(dh||(dh={}));var ph;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(ph||(ph={}));var zo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(zo||(zo={}));class rc{constructor(t){const o={};for(const r of t.headers.entries())o[r[0]]=r[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class Jl{get text(){var t,o,r,u,f,m,v,y;if(((u=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",_=!1;const T=[];for(const C of(y=(v=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[w,k]of Object.entries(C))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(k!==null||k!==void 0)&&T.push(w);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;_=!0,g+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?g:void 0}get data(){var t,o,r,u,f,m,v,y;if(((u=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const _=[];for(const T of(y=(v=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)!==null&&y!==void 0?y:[]){for(const[C,w]of Object.entries(T))C!=="inlineData"&&(w!==null||w!==void 0)&&_.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,r,u,f,m,v,y;if(((u=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(v=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if(g?.length!==0)return g}get executableCode(){var t,o,r,u,f,m,v,y,g;if(((u=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(v=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(_?.length!==0)return(g=_?.[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,r,u,f,m,v,y,g;if(((u=(r=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(v=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||v===void 0?void 0:v.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(_?.length!==0)return(g=_?.[0])===null||g===void 0?void 0:g.output}}class mh{}class hh{}class T0{}class A0{}class C0{}class R0{}class gh{}class vh{}class yh{}class M0{}class Ra{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const r=new Ra;let u;const f=t;return o?u=c0(f):u=u0(f),Object.assign(r,u),r}}class _h{}class Eh{}class Sh{}class Th{}class N0{}class w0{}class I0{}class Ec{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const r=new Ec,f=v0(t);return Object.assign(r,f),r}}class D0{}class U0{}class b0{}class Ah{}class x0{get text(){var t,o,r;let u="",f=!1;const m=[];for(const v of(r=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[y,g]of Object.entries(v))y!=="text"&&y!=="thought"&&g!==null&&m.push(y);if(typeof v.text=="string"){if(typeof v.thought=="boolean"&&v.thought)continue;f=!0,u+=v.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?u:void 0}get data(){var t,o,r;let u="";const f=[];for(const m of(r=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&r!==void 0?r:[]){for(const[v,y]of Object.entries(m))v!=="inlineData"&&y!==null&&f.push(v);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class L0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Sc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const r=new Sc,f=Qh(t);return Object.assign(r,f),r}}function Be(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Zh(i,t){const o=Be(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function $h(i){return Array.isArray(i)?i.map(t=>Ma(t)):[Ma(i)]}function Ma(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Wh(i){const t=Ma(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function jh(i){const t=Ma(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ch(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function eg(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Ch(t)):[Ch(i)]}function ac(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Rh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Mh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function xt(i){if(i==null)throw new Error("ContentUnion is required");return ac(i)?i:{role:"user",parts:eg(i)}}function Tc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const r=xt(o);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(i.isVertexAI()){const o=xt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>xt(o)):[xt(t)]}function pn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Rh(i)||Mh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xt(i)]}const t=[],o=[],r=ac(i[0]);for(const u of i){const f=ac(u);if(f!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(u);else{if(Rh(u)||Mh(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return r||t.push({role:"user",parts:eg(o)}),t}function G0(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(r=>r!=="null");if(o.length===1)t.type=Object.values(Di).includes(o[0].toUpperCase())?o[0].toUpperCase():Di.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const r of o)t.anyOf.push({type:Object.values(Di).includes(r.toUpperCase())?r.toUpperCase():Di.TYPE_UNSPECIFIED})}}function Yo(i){const t={},o=["items"],r=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&G0(i.type,t);for(const[m,v]of Object.entries(i))if(v!=null)if(m=="type"){if(v==="null")throw new Error("type: null can not be the only possible type for the field.");if(v instanceof Array)continue;t.type=Object.values(Di).includes(v.toUpperCase())?v.toUpperCase():Di.TYPE_UNSPECIFIED}else if(o.includes(m))t[m]=Yo(v);else if(r.includes(m)){const y=[];for(const g of v){if(g.type=="null"){t.nullable=!0;continue}y.push(Yo(g))}t[m]=y}else if(u.includes(m)){const y={};for(const[g,_]of Object.entries(v))y[g]=Yo(_);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=v}return t}function Ac(i){return Yo(i)}function Cc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Rc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Ko(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Yo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Yo(t.response));return i}function Xo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function F0(i,t,o,r=1){const u=!t.startsWith(`${o}/`)&&t.split("/").length===r;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:u?`${o}/${t}`:t}function ei(i,t){if(typeof t!="string")throw new Error("name must be a string");return F0(i,t,"cachedContents")}function tg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Ui(i){return _c(i)}function P0(i){return i!=null&&typeof i=="object"&&"name"in i}function H0(i){return i!=null&&typeof i=="object"&&"video"in i}function k0(i){return i!=null&&typeof i=="object"&&"uri"in i}function ng(i){var t;let o;if(P0(i)&&(o=i.name),!(k0(i)&&(o=i.uri,o===void 0))&&!(H0(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function ig(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function og(i){for(const t of["models","tunedModels","publisherModels"])if(q0(i,t))return i[t];return[]}function q0(i,t){return i!==null&&typeof i=="object"&&t in i}function V0(i,t={}){const o=i,r={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(r.responseJsonSchema=o.outputSchema),t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function B0(i,t={}){const o=[],r=new Set;for(const u of i){const f=u.name;if(r.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);r.add(f);const m=V0(u,t);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function lg(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const r=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function z0(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function rg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let f=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Qo(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function ag(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}function O0(i){const t={},o=s(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const r=s(i,["inlinedResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>C_(m))),c(t,["inlinedResponses"],f)}const u=s(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["inlinedEmbedContentResponses"],f)}return t}function Y0(i){const t={},o=s(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const r=s(i,["gcsDestination","outputUriPrefix"]);r!=null&&c(t,["gcsUri"],r);const u=s(i,["bigqueryDestination","outputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function J0(i){const t={},o=s(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const r=s(i,["gcsUri"]);r!=null&&c(t,["gcsDestination","outputUriPrefix"],r);const u=s(i,["bigqueryUri"]);if(u!=null&&c(t,["bigqueryDestination","outputUri"],u),s(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ta(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata","displayName"]);r!=null&&c(t,["displayName"],r);const u=s(i,["metadata","state"]);u!=null&&c(t,["state"],ag(u));const f=s(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const m=s(i,["metadata","endTime"]);m!=null&&c(t,["endTime"],m);const v=s(i,["metadata","updateTime"]);v!=null&&c(t,["updateTime"],v);const y=s(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=s(i,["metadata","output"]);return g!=null&&c(t,["dest"],O0(rg(g))),t}function sc(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["displayName"]);r!=null&&c(t,["displayName"],r);const u=s(i,["state"]);u!=null&&c(t,["state"],ag(u));const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["createTime"]);m!=null&&c(t,["createTime"],m);const v=s(i,["startTime"]);v!=null&&c(t,["startTime"],v);const y=s(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=s(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const _=s(i,["model"]);_!=null&&c(t,["model"],_);const T=s(i,["inputConfig"]);T!=null&&c(t,["src"],K0(T));const C=s(i,["outputConfig"]);C!=null&&c(t,["dest"],Y0(rg(C)));const w=s(i,["completionStats"]);return w!=null&&c(t,["completionStats"],w),t}function K0(i){const t={},o=s(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const r=s(i,["gcsSource","uris"]);r!=null&&c(t,["gcsUri"],r);const u=s(i,["bigquerySource","inputUri"]);return u!=null&&c(t,["bigqueryUri"],u),t}function X0(i,t){const o={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=s(t,["fileName"]);r!=null&&c(o,["fileName"],r);const u=s(t,["inlinedRequests"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>A_(i,m))),c(o,["requests","requests"],f)}return o}function Q0(i){const t={},o=s(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const r=s(i,["gcsUri"]);r!=null&&c(t,["gcsSource","uris"],r);const u=s(i,["bigqueryUri"]);if(u!=null&&c(t,["bigquerySource","inputUri"],u),s(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function Z0(i){const t={},o=s(i,["data"]);if(o!=null&&c(t,["data"],o),s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function $0(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],Qo(i,r)),o}function W0(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],Qo(i,r)),o}function j0(i){const t={},o=s(i,["content"]);o!=null&&c(t,["content"],o);const r=s(i,["citationMetadata"]);r!=null&&c(t,["citationMetadata"],e_(r));const u=s(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const f=s(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const m=s(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const v=s(i,["groundingMetadata"]);v!=null&&c(t,["groundingMetadata"],v);const y=s(i,["index"]);y!=null&&c(t,["index"],y);const g=s(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const _=s(i,["safetyRatings"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["safetyRatings"],C)}const T=s(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function e_(i){const t={},o=s(i,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),c(t,["citations"],r)}return t}function sg(i){const t={},o=s(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>U_(f))),c(t,["parts"],u)}const r=s(i,["role"]);return r!=null&&c(t,["role"],r),t}function t_(i,t){const o={},r=s(i,["displayName"]);if(t!==void 0&&r!=null&&c(t,["batch","displayName"],r),s(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function n_(i,t){const o={},r=s(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const u=s(i,["dest"]);return t!==void 0&&u!=null&&c(t,["outputConfig"],J0(z0(u))),o}function Nh(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["src"]);u!=null&&c(o,["batch","inputConfig"],X0(i,lg(i,u)));const f=s(t,["config"]);return f!=null&&t_(f,o),o}function i_(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["model"],Be(i,r));const u=s(t,["src"]);u!=null&&c(o,["inputConfig"],Q0(lg(i,u)));const f=s(t,["config"]);return f!=null&&n_(f,o),o}function o_(i,t){const o={},r=s(i,["displayName"]);return t!==void 0&&r!=null&&c(t,["batch","displayName"],r),o}function l_(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["src"]);u!=null&&c(o,["batch","inputConfig"],d_(i,u));const f=s(t,["config"]);return f!=null&&o_(f,o),o}function r_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],Qo(i,r)),o}function a_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],Qo(i,r)),o}function s_(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["name"]);r!=null&&c(t,["name"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);return f!=null&&c(t,["error"],f),t}function u_(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["name"]);r!=null&&c(t,["name"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);return f!=null&&c(t,["error"],f),t}function c_(i,t){const o={},r=s(t,["contents"]);if(r!=null){let f=Tc(i,r);Array.isArray(f)&&(f=f.map(m=>m)),c(o,["requests[]","request","content"],f)}const u=s(t,["config"]);return u!=null&&(c(o,["_self"],f_(u,o)),a0(o,{"requests[].*":"requests[].request.*"})),o}function f_(i,t){const o={},r=s(i,["taskType"]);t!==void 0&&r!=null&&c(t,["requests[]","taskType"],r);const u=s(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const f=s(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),s(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function d_(i,t){const o={},r=s(t,["fileName"]);r!=null&&c(o,["file_name"],r);const u=s(t,["inlinedRequests"]);return u!=null&&c(o,["requests"],c_(i,u)),o}function p_(i){const t={};if(s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function m_(i){const t={},o=s(i,["id"]);o!=null&&c(t,["id"],o);const r=s(i,["args"]);r!=null&&c(t,["args"],r);const u=s(i,["name"]);if(u!=null&&c(t,["name"],u),s(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function h_(i){const t={},o=s(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const r=s(i,["mode"]);if(r!=null&&c(t,["mode"],r),s(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function g_(i,t,o){const r={},u=s(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],sg(xt(u)));const f=s(t,["temperature"]);f!=null&&c(r,["temperature"],f);const m=s(t,["topP"]);m!=null&&c(r,["topP"],m);const v=s(t,["topK"]);v!=null&&c(r,["topK"],v);const y=s(t,["candidateCount"]);y!=null&&c(r,["candidateCount"],y);const g=s(t,["maxOutputTokens"]);g!=null&&c(r,["maxOutputTokens"],g);const _=s(t,["stopSequences"]);_!=null&&c(r,["stopSequences"],_);const T=s(t,["responseLogprobs"]);T!=null&&c(r,["responseLogprobs"],T);const C=s(t,["logprobs"]);C!=null&&c(r,["logprobs"],C);const w=s(t,["presencePenalty"]);w!=null&&c(r,["presencePenalty"],w);const k=s(t,["frequencyPenalty"]);k!=null&&c(r,["frequencyPenalty"],k);const Y=s(t,["seed"]);Y!=null&&c(r,["seed"],Y);const q=s(t,["responseMimeType"]);q!=null&&c(r,["responseMimeType"],q);const Z=s(t,["responseSchema"]);Z!=null&&c(r,["responseSchema"],Ac(Z));const ne=s(t,["responseJsonSchema"]);if(ne!=null&&c(r,["responseJsonSchema"],ne),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ee=s(t,["safetySettings"]);if(o!==void 0&&ee!=null){let de=ee;Array.isArray(de)&&(de=de.map(Ie=>b_(Ie))),c(o,["safetySettings"],de)}const se=s(t,["tools"]);if(o!==void 0&&se!=null){let de=Xo(se);Array.isArray(de)&&(de=de.map(Ie=>L_(Ko(Ie)))),c(o,["tools"],de)}const pe=s(t,["toolConfig"]);if(o!==void 0&&pe!=null&&c(o,["toolConfig"],x_(pe)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=s(t,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],ei(i,$));const J=s(t,["responseModalities"]);J!=null&&c(r,["responseModalities"],J);const ce=s(t,["mediaResolution"]);ce!=null&&c(r,["mediaResolution"],ce);const W=s(t,["speechConfig"]);if(W!=null&&c(r,["speechConfig"],Cc(W)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=s(t,["thinkingConfig"]);ie!=null&&c(r,["thinkingConfig"],ie);const ge=s(t,["imageConfig"]);ge!=null&&c(r,["imageConfig"],T_(ge));const oe=s(t,["enableEnhancedCivicAnswers"]);if(oe!=null&&c(r,["enableEnhancedCivicAnswers"],oe),s(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function v_(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(g=>j0(g))),c(t,["candidates"],y)}const u=s(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const f=s(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const m=s(i,["responseId"]);m!=null&&c(t,["responseId"],m);const v=s(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function y_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],Qo(i,r)),o}function __(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],Qo(i,r)),o}function E_(i){const t={};if(s(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=s(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function S_(i){const t={};if(s(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=s(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function T_(i){const t={},o=s(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const r=s(i,["imageSize"]);if(r!=null&&c(t,["imageSize"],r),s(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function A_(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["request","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let v=pn(u);Array.isArray(v)&&(v=v.map(y=>sg(y))),c(o,["request","contents"],v)}const f=s(t,["metadata"]);f!=null&&c(o,["metadata"],f);const m=s(t,["config"]);return m!=null&&c(o,["request","generationConfig"],g_(i,m,s(o,["request"],{}))),o}function C_(i){const t={},o=s(i,["response"]);o!=null&&c(t,["response"],v_(o));const r=s(i,["error"]);return r!=null&&c(t,["error"],r),t}function R_(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);if(t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),s(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function M_(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);t!==void 0&&u!=null&&c(t,["_query","pageToken"],u);const f=s(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function N_(i){const t={},o=s(i,["config"]);return o!=null&&R_(o,t),t}function w_(i){const t={},o=s(i,["config"]);return o!=null&&M_(o,t),t}function I_(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["operations"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>Ta(m))),c(t,["batchJobs"],f)}return t}function D_(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["batchPredictionJobs"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>sc(m))),c(t,["batchJobs"],f)}return t}function U_(i){const t={},o=s(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const r=s(i,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);const u=s(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=s(i,["fileData"]);f!=null&&c(t,["fileData"],p_(f));const m=s(i,["functionCall"]);m!=null&&c(t,["functionCall"],m_(m));const v=s(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=s(i,["inlineData"]);y!=null&&c(t,["inlineData"],Z0(y));const g=s(i,["text"]);g!=null&&c(t,["text"],g);const _=s(i,["thought"]);_!=null&&c(t,["thought"],_);const T=s(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const C=s(i,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function b_(i){const t={},o=s(i,["category"]);if(o!=null&&c(t,["category"],o),s(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=s(i,["threshold"]);return r!=null&&c(t,["threshold"],r),t}function x_(i){const t={},o=s(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const r=s(i,["functionCallingConfig"]);return r!=null&&c(t,["functionCallingConfig"],h_(r)),t}function L_(i){const t={};if(s(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const r=s(i,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);const u=s(i,["codeExecution"]);if(u!=null&&c(t,["codeExecution"],u),s(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=s(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),c(t,["functionDeclarations"],_)}const m=s(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],E_(m));const v=s(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],S_(v));const y=s(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=s(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}var Wn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Wn||(Wn={}));class eo{constructor(t,o,r,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,r,u)}init(t,o,r){var u,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!r||Object.keys(r).length===0?m={config:{}}:typeof r=="object"?m=Object.assign({},r):m=r,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}class G_ extends jn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new eo(Wn.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Nh(this.apiClient,t),r=o._url,u=ae("{model}:batchGenerateContent",r),v=o.batch.inputConfig.requests,y=v.requests,g=[];for(const _ of y){const T=Object.assign({},_);if(T.systemInstruction){const C=T.systemInstruction;delete T.systemInstruction;const w=T.request;w.systemInstruction=C,T.request=w}g.push(T)}return v.requests=g,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const r=o?Object.assign({},o):{},u=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${u}`),r.dest===void 0){const f=this.getGcsUri(t),m=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?r.dest=`${f.slice(0,-6)}/dest`:r.dest=`${f}_dest_${u}`;else if(m)r.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=i_(this.apiClient,t);return v=ae("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>sc(_))}else{const g=Nh(this.apiClient,t);return v=ae("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>Ta(_))}}async createEmbeddingsInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=l_(this.apiClient,t);return f=ae("{model}:asyncBatchEmbedContent",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>Ta(y))}}async get(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=__(this.apiClient,t);return v=ae("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>sc(_))}else{const g=y_(this.apiClient,t);return v=ae("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>Ta(_))}}async cancel(t){var o,r,u,f;let m="",v={};if(this.apiClient.isVertexAI()){const y=W0(this.apiClient,t);m=ae("batchPredictionJobs/{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}else{const y=$0(this.apiClient,t);m=ae("batches/{name}:cancel",y._url),v=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:v,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=w_(t);return v=ae("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=D_(_),C=new Ah;return Object.assign(C,T),C})}else{const g=N_(t);return v=ae("batches",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=I_(_),C=new Ah;return Object.assign(C,T),C})}}async delete(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=a_(this.apiClient,t);return v=ae("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>u_(_))}else{const g=r_(this.apiClient,t);return v=ae("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>s_(_))}}}function F_(i){const t={},o=s(i,["data"]);if(o!=null&&c(t,["data"],o),s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function wh(i){const t={},o=s(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>lE(f))),c(t,["parts"],u)}const r=s(i,["role"]);return r!=null&&c(t,["role"],r),t}function P_(i,t){const o={},r=s(i,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);const u=s(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const f=s(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const m=s(i,["contents"]);if(t!==void 0&&m!=null){let _=pn(m);Array.isArray(_)&&(_=_.map(T=>wh(T))),c(t,["contents"],_)}const v=s(i,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["systemInstruction"],wh(xt(v)));const y=s(i,["tools"]);if(t!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(T=>aE(T))),c(t,["tools"],_)}const g=s(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],rE(g)),s(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function H_(i,t){const o={},r=s(i,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);const u=s(i,["expireTime"]);t!==void 0&&u!=null&&c(t,["expireTime"],u);const f=s(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const m=s(i,["contents"]);if(t!==void 0&&m!=null){let T=pn(m);Array.isArray(T)&&(T=T.map(C=>C)),c(t,["contents"],T)}const v=s(i,["systemInstruction"]);t!==void 0&&v!=null&&c(t,["systemInstruction"],xt(v));const y=s(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(C=>sE(C))),c(t,["tools"],T)}const g=s(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const _=s(i,["kmsKeyName"]);return t!==void 0&&_!=null&&c(t,["encryption_spec","kmsKeyName"],_),o}function k_(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["model"],Zh(i,r));const u=s(t,["config"]);return u!=null&&P_(u,o),o}function q_(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["model"],Zh(i,r));const u=s(t,["config"]);return u!=null&&H_(u,o),o}function V_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],ei(i,r)),o}function B_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],ei(i,r)),o}function z_(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function O_(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function Y_(i){const t={};if(s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function J_(i){const t={},o=s(i,["id"]);o!=null&&c(t,["id"],o);const r=s(i,["args"]);r!=null&&c(t,["args"],r);const u=s(i,["name"]);if(u!=null&&c(t,["name"],u),s(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function K_(i){const t={},o=s(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const r=s(i,["mode"]);if(r!=null&&c(t,["mode"],r),s(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function X_(i){const t={},o=s(i,["description"]);o!=null&&c(t,["description"],o);const r=s(i,["name"]);r!=null&&c(t,["name"],r);const u=s(i,["parameters"]);u!=null&&c(t,["parameters"],u);const f=s(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=s(i,["response"]);m!=null&&c(t,["response"],m);const v=s(i,["responseJsonSchema"]);if(v!=null&&c(t,["responseJsonSchema"],v),s(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function Q_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],ei(i,r)),o}function Z_(i,t){const o={},r=s(t,["name"]);return r!=null&&c(o,["_url","name"],ei(i,r)),o}function $_(i){const t={};if(s(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=s(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function W_(i){const t={};if(s(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=s(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function j_(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function eE(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function tE(i){const t={},o=s(i,["config"]);return o!=null&&j_(o,t),t}function nE(i){const t={},o=s(i,["config"]);return o!=null&&eE(o,t),t}function iE(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["cachedContents"],f)}return t}function oE(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["cachedContents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["cachedContents"],f)}return t}function lE(i){const t={},o=s(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const r=s(i,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);const u=s(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=s(i,["fileData"]);f!=null&&c(t,["fileData"],Y_(f));const m=s(i,["functionCall"]);m!=null&&c(t,["functionCall"],J_(m));const v=s(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=s(i,["inlineData"]);y!=null&&c(t,["inlineData"],F_(y));const g=s(i,["text"]);g!=null&&c(t,["text"],g);const _=s(i,["thought"]);_!=null&&c(t,["thought"],_);const T=s(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const C=s(i,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function rE(i){const t={},o=s(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const r=s(i,["functionCallingConfig"]);return r!=null&&c(t,["functionCallingConfig"],K_(r)),t}function aE(i){const t={};if(s(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const r=s(i,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);const u=s(i,["codeExecution"]);if(u!=null&&c(t,["codeExecution"],u),s(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=s(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),c(t,["functionDeclarations"],_)}const m=s(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],$_(m));const v=s(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],W_(v));const y=s(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=s(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function sE(i){const t={},o=s(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const r=s(i,["computerUse"]);if(r!=null&&c(t,["computerUse"],r),s(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=s(i,["codeExecution"]);u!=null&&c(t,["codeExecution"],u);const f=s(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const m=s(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>X_(C))),c(t,["functionDeclarations"],T)}const v=s(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const y=s(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=s(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const _=s(i,["urlContext"]);return _!=null&&c(t,["urlContext"],_),t}function uE(i,t){const o={},r=s(i,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);const u=s(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),o}function cE(i,t){const o={},r=s(i,["ttl"]);t!==void 0&&r!=null&&c(t,["ttl"],r);const u=s(i,["expireTime"]);return t!==void 0&&u!=null&&c(t,["expireTime"],u),o}function fE(i,t){const o={},r=s(t,["name"]);r!=null&&c(o,["_url","name"],ei(i,r));const u=s(t,["config"]);return u!=null&&uE(u,o),o}function dE(i,t){const o={},r=s(t,["name"]);r!=null&&c(o,["_url","name"],ei(i,r));const u=s(t,["config"]);return u!=null&&cE(u,o),o}class pE extends jn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new eo(Wn.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(o),o)}async create(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=q_(this.apiClient,t);return v=ae("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>_)}else{const g=k_(this.apiClient,t);return v=ae("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>_)}}async get(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=Z_(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>_)}else{const g=Q_(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>_)}}async delete(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=B_(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=O_(_),C=new Sh;return Object.assign(C,T),C})}else{const g=V_(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=z_(_),C=new Sh;return Object.assign(C,T),C})}}async update(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=dE(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>_)}else{const g=fE(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>_)}}async listInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=nE(t);return v=ae("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=oE(_),C=new Th;return Object.assign(C,T),C})}else{const g=tE(t);return v=ae("cachedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=iE(_),C=new Th;return Object.assign(C,T),C})}}}function Na(i,t){var o={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)<0&&(o[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,r=Object.getOwnPropertySymbols(i);u<r.length;u++)t.indexOf(r[u])<0&&Object.prototype.propertyIsEnumerable.call(i,r[u])&&(o[r[u]]=i[r[u]]);return o}function Ih(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],r=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Te(i){return this instanceof Te?(this.v=i,this):new Te(i)}function _n(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o.apply(i,t||[]),u,f=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),v("next"),v("throw"),v("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(w){return function(k){return Promise.resolve(k).then(w,T)}}function v(w,k){r[w]&&(u[w]=function(Y){return new Promise(function(q,Z){f.push([w,Y,q,Z])>1||y(w,Y)})},k&&(u[w]=k(u[w])))}function y(w,k){try{g(r[w](k))}catch(Y){C(f[0][3],Y)}}function g(w){w.value instanceof Te?Promise.resolve(w.value.v).then(_,T):C(f[0][2],w)}function _(w){y("next",w)}function T(w){y("throw",w)}function C(w,k){w(k),f.shift(),f.length&&y(f[0][0],f[0][1])}}function En(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof Ih=="function"?Ih(i):i[Symbol.iterator](),o={},r("next"),r("throw"),r("return"),o[Symbol.asyncIterator]=function(){return this},o);function r(f){o[f]=i[f]&&function(m){return new Promise(function(v,y){m=i[f](m),u(v,y,m.done,m.value)})}}function u(f,m,v,y){Promise.resolve(y).then(function(g){f({value:g,done:v})},m)}}function mE(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ug(o)}function ug(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function hE(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Dh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let r=0;for(;r<o;)if(i[r].role==="user")t.push(i[r]),r++;else{const u=[];let f=!0;for(;r<o&&i[r].role==="model";)u.push(i[r]),f&&!ug(i[r])&&(f=!1),r++;f?t.push(...u):t.pop()}return t}class gE{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new vE(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class vE{constructor(t,o,r,u={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=r,this.config=u,this.history=f,this.sendPromise=Promise.resolve(),hE(f)}async sendMessage(t){var o;await this.sendPromise;const r=xt(t.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,v;const y=await u,g=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,_=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];_!=null&&(C=(v=_.slice(T))!==null&&v!==void 0?v:[]);const w=g?[g]:[];this.recordHistory(r,w,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(t){var o;await this.sendPromise;const r=xt(t.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const f=await u;return this.processStreamResponse(f,r)}getHistory(t=!1){const o=t?Dh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return _n(this,arguments,function*(){var u,f,m,v,y,g;const _=[];try{for(var T=!0,C=En(t),w;w=yield Te(C.next()),u=w.done,!u;T=!0){v=w.value,T=!1;const k=v;if(mE(k)){const Y=(g=(y=k.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;Y!==void 0&&_.push(Y)}yield yield Te(k)}}catch(k){f={error:k}}finally{try{!T&&!u&&(m=C.return)&&(yield Te(m.call(C)))}finally{if(f)throw f.error}}this.recordHistory(o,_)})}recordHistory(t,o,r){let u=[];o.length>0&&o.every(f=>f.role!==void 0)?u=o:u.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Dh(r)):this.history.push(t),this.history.push(...u)}}class Ql extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Ql.prototype)}}function yE(i){const t={},o=s(i,["file"]);return o!=null&&c(t,["file"],o),t}function _E(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function EE(i){const t={},o=s(i,["name"]);return o!=null&&c(t,["_url","file"],ng(o)),t}function SE(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function TE(i){const t={},o=s(i,["name"]);return o!=null&&c(t,["_url","file"],ng(o)),t}function AE(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function CE(i){const t={},o=s(i,["config"]);return o!=null&&AE(o,t),t}function RE(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["files"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["files"],f)}return t}class ME extends jn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new eo(Wn.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=CE(t);return f=ae("files",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const g=RE(y),_=new D0;return Object.assign(_,g),_})}}async createInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=yE(t);return f=ae("upload/v1beta/files",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=_E(y),_=new U0;return Object.assign(_,g),_})}}async get(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=TE(t);return f=ae("files/{file}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=EE(t);return f=ae("files/{file}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const g=SE(y),_=new b0;return Object.assign(_,g),_})}}}function Aa(i){const t={},o=s(i,["data"]);if(o!=null&&c(t,["data"],o),s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function NE(i){const t={},o=s(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>zE(f))),c(t,["parts"],u)}const r=s(i,["role"]);return r!=null&&c(t,["role"],r),t}function wE(i){const t={};if(s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function IE(i){const t={},o=s(i,["id"]);o!=null&&c(t,["id"],o);const r=s(i,["args"]);r!=null&&c(t,["args"],r);const u=s(i,["name"]);if(u!=null&&c(t,["name"],u),s(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function DE(i){const t={},o=s(i,["description"]);o!=null&&c(t,["description"],o);const r=s(i,["name"]);r!=null&&c(t,["name"],r);const u=s(i,["parameters"]);u!=null&&c(t,["parameters"],u);const f=s(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=s(i,["response"]);m!=null&&c(t,["response"],m);const v=s(i,["responseJsonSchema"]);if(v!=null&&c(t,["responseJsonSchema"],v),s(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function UE(i){const t={},o=s(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const r=s(i,["responseJsonSchema"]);r!=null&&c(t,["responseJsonSchema"],r);const u=s(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const f=s(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const m=s(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const v=s(i,["frequencyPenalty"]);v!=null&&c(t,["frequencyPenalty"],v);const y=s(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=s(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const _=s(i,["mediaResolution"]);_!=null&&c(t,["mediaResolution"],_);const T=s(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const C=s(i,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const w=s(i,["responseMimeType"]);w!=null&&c(t,["responseMimeType"],w);const k=s(i,["responseModalities"]);k!=null&&c(t,["responseModalities"],k);const Y=s(i,["responseSchema"]);Y!=null&&c(t,["responseSchema"],Y);const q=s(i,["routingConfig"]);q!=null&&c(t,["routingConfig"],q);const Z=s(i,["seed"]);Z!=null&&c(t,["seed"],Z);const ne=s(i,["speechConfig"]);ne!=null&&c(t,["speechConfig"],ne);const ee=s(i,["stopSequences"]);ee!=null&&c(t,["stopSequences"],ee);const se=s(i,["temperature"]);se!=null&&c(t,["temperature"],se);const pe=s(i,["thinkingConfig"]);pe!=null&&c(t,["thinkingConfig"],pe);const $=s(i,["topK"]);$!=null&&c(t,["topK"],$);const J=s(i,["topP"]);if(J!=null&&c(t,["topP"],J),s(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function bE(i){const t={};if(s(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=s(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function xE(i){const t={};if(s(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=s(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function LE(i,t){const o={},r=s(i,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],r);const u=s(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const f=s(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=s(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const v=s(i,["topK"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","topK"],v);const y=s(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=s(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const _=s(i,["seed"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","seed"],_);const T=s(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Rc(T));const C=s(i,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const w=s(i,["enableAffectiveDialog"]);t!==void 0&&w!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],w);const k=s(i,["systemInstruction"]);t!==void 0&&k!=null&&c(t,["setup","systemInstruction"],NE(xt(k)));const Y=s(i,["tools"]);if(t!==void 0&&Y!=null){let $=Xo(Y);Array.isArray($)&&($=$.map(J=>YE(Ko(J)))),c(t,["setup","tools"],$)}const q=s(i,["sessionResumption"]);t!==void 0&&q!=null&&c(t,["setup","sessionResumption"],OE(q));const Z=s(i,["inputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","inputAudioTranscription"],Z);const ne=s(i,["outputAudioTranscription"]);t!==void 0&&ne!=null&&c(t,["setup","outputAudioTranscription"],ne);const ee=s(i,["realtimeInputConfig"]);t!==void 0&&ee!=null&&c(t,["setup","realtimeInputConfig"],ee);const se=s(i,["contextWindowCompression"]);t!==void 0&&se!=null&&c(t,["setup","contextWindowCompression"],se);const pe=s(i,["proactivity"]);if(t!==void 0&&pe!=null&&c(t,["setup","proactivity"],pe),s(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function GE(i,t){const o={},r=s(i,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],UE(r));const u=s(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const f=s(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=s(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const v=s(i,["topK"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","topK"],v);const y=s(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=s(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const _=s(i,["seed"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","seed"],_);const T=s(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Rc(T));const C=s(i,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const w=s(i,["enableAffectiveDialog"]);t!==void 0&&w!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],w);const k=s(i,["systemInstruction"]);t!==void 0&&k!=null&&c(t,["setup","systemInstruction"],xt(k));const Y=s(i,["tools"]);if(t!==void 0&&Y!=null){let J=Xo(Y);Array.isArray(J)&&(J=J.map(ce=>JE(Ko(ce)))),c(t,["setup","tools"],J)}const q=s(i,["sessionResumption"]);t!==void 0&&q!=null&&c(t,["setup","sessionResumption"],q);const Z=s(i,["inputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","inputAudioTranscription"],Z);const ne=s(i,["outputAudioTranscription"]);t!==void 0&&ne!=null&&c(t,["setup","outputAudioTranscription"],ne);const ee=s(i,["realtimeInputConfig"]);t!==void 0&&ee!=null&&c(t,["setup","realtimeInputConfig"],ee);const se=s(i,["contextWindowCompression"]);t!==void 0&&se!=null&&c(t,["setup","contextWindowCompression"],se);const pe=s(i,["proactivity"]);t!==void 0&&pe!=null&&c(t,["setup","proactivity"],pe);const $=s(i,["explicitVadSignal"]);return t!==void 0&&$!=null&&c(t,["setup","explicitVadSignal"],$),o}function FE(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["setup","model"],Be(i,r));const u=s(t,["config"]);return u!=null&&c(o,["config"],LE(u,o)),o}function PE(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["setup","model"],Be(i,r));const u=s(t,["config"]);return u!=null&&c(o,["config"],GE(u,o)),o}function HE(i){const t={},o=s(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function kE(i){const t={},o=s(i,["weightedPrompts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),c(t,["weightedPrompts"],r)}return t}function qE(i){const t={},o=s(i,["media"]);if(o!=null){let g=$h(o);Array.isArray(g)&&(g=g.map(_=>Aa(_))),c(t,["mediaChunks"],g)}const r=s(i,["audio"]);r!=null&&c(t,["audio"],Aa(jh(r)));const u=s(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const f=s(i,["video"]);f!=null&&c(t,["video"],Aa(Wh(f)));const m=s(i,["text"]);m!=null&&c(t,["text"],m);const v=s(i,["activityStart"]);v!=null&&c(t,["activityStart"],v);const y=s(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function VE(i){const t={},o=s(i,["media"]);if(o!=null){let g=$h(o);Array.isArray(g)&&(g=g.map(_=>_)),c(t,["mediaChunks"],g)}const r=s(i,["audio"]);r!=null&&c(t,["audio"],jh(r));const u=s(i,["audioStreamEnd"]);u!=null&&c(t,["audioStreamEnd"],u);const f=s(i,["video"]);f!=null&&c(t,["video"],Wh(f));const m=s(i,["text"]);m!=null&&c(t,["text"],m);const v=s(i,["activityStart"]);v!=null&&c(t,["activityStart"],v);const y=s(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function BE(i){const t={},o=s(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const r=s(i,["serverContent"]);r!=null&&c(t,["serverContent"],r);const u=s(i,["toolCall"]);u!=null&&c(t,["toolCall"],u);const f=s(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const m=s(i,["usageMetadata"]);m!=null&&c(t,["usageMetadata"],KE(m));const v=s(i,["goAway"]);v!=null&&c(t,["goAway"],v);const y=s(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const g=s(i,["voiceActivityDetectionSignal"]);g!=null&&c(t,["voiceActivityDetectionSignal"],g);const _=s(i,["voiceActivity"]);return _!=null&&c(t,["voiceActivity"],XE(_)),t}function zE(i){const t={},o=s(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const r=s(i,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);const u=s(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=s(i,["fileData"]);f!=null&&c(t,["fileData"],wE(f));const m=s(i,["functionCall"]);m!=null&&c(t,["functionCall"],IE(m));const v=s(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=s(i,["inlineData"]);y!=null&&c(t,["inlineData"],Aa(y));const g=s(i,["text"]);g!=null&&c(t,["text"],g);const _=s(i,["thought"]);_!=null&&c(t,["thought"],_);const T=s(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const C=s(i,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function OE(i){const t={},o=s(i,["handle"]);if(o!=null&&c(t,["handle"],o),s(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function YE(i){const t={};if(s(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const r=s(i,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);const u=s(i,["codeExecution"]);if(u!=null&&c(t,["codeExecution"],u),s(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=s(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),c(t,["functionDeclarations"],_)}const m=s(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],bE(m));const v=s(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],xE(v));const y=s(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=s(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function JE(i){const t={},o=s(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const r=s(i,["computerUse"]);if(r!=null&&c(t,["computerUse"],r),s(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=s(i,["codeExecution"]);u!=null&&c(t,["codeExecution"],u);const f=s(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const m=s(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>DE(C))),c(t,["functionDeclarations"],T)}const v=s(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const y=s(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=s(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const _=s(i,["urlContext"]);return _!=null&&c(t,["urlContext"],_),t}function KE(i){const t={},o=s(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const r=s(i,["cachedContentTokenCount"]);r!=null&&c(t,["cachedContentTokenCount"],r);const u=s(i,["candidatesTokenCount"]);u!=null&&c(t,["responseTokenCount"],u);const f=s(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const m=s(i,["thoughtsTokenCount"]);m!=null&&c(t,["thoughtsTokenCount"],m);const v=s(i,["totalTokenCount"]);v!=null&&c(t,["totalTokenCount"],v);const y=s(i,["promptTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(k=>k)),c(t,["promptTokensDetails"],w)}const g=s(i,["cacheTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(k=>k)),c(t,["cacheTokensDetails"],w)}const _=s(i,["candidatesTokensDetails"]);if(_!=null){let w=_;Array.isArray(w)&&(w=w.map(k=>k)),c(t,["responseTokensDetails"],w)}const T=s(i,["toolUsePromptTokensDetails"]);if(T!=null){let w=T;Array.isArray(w)&&(w=w.map(k=>k)),c(t,["toolUsePromptTokensDetails"],w)}const C=s(i,["trafficType"]);return C!=null&&c(t,["trafficType"],C),t}function XE(i){const t={},o=s(i,["type"]);return o!=null&&c(t,["voiceActivityType"],o),t}function QE(i){const t={},o=s(i,["data"]);if(o!=null&&c(t,["data"],o),s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function ZE(i){const t={},o=s(i,["content"]);o!=null&&c(t,["content"],o);const r=s(i,["citationMetadata"]);r!=null&&c(t,["citationMetadata"],$E(r));const u=s(i,["tokenCount"]);u!=null&&c(t,["tokenCount"],u);const f=s(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const m=s(i,["avgLogprobs"]);m!=null&&c(t,["avgLogprobs"],m);const v=s(i,["groundingMetadata"]);v!=null&&c(t,["groundingMetadata"],v);const y=s(i,["index"]);y!=null&&c(t,["index"],y);const g=s(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const _=s(i,["safetyRatings"]);if(_!=null){let C=_;Array.isArray(C)&&(C=C.map(w=>w)),c(t,["safetyRatings"],C)}const T=s(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function $E(i){const t={},o=s(i,["citationSources"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>u)),c(t,["citations"],r)}return t}function WE(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let f=pn(u);Array.isArray(f)&&(f=f.map(m=>m)),c(o,["contents"],f)}return o}function jE(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["tokensInfo"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),c(t,["tokensInfo"],u)}return t}function eS(i){const t={},o=s(i,["values"]);o!=null&&c(t,["values"],o);const r=s(i,["statistics"]);return r!=null&&c(t,["statistics"],tS(r)),t}function tS(i){const t={},o=s(i,["truncated"]);o!=null&&c(t,["truncated"],o);const r=s(i,["token_count"]);return r!=null&&c(t,["tokenCount"],r),t}function Da(i){const t={},o=s(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>cT(f))),c(t,["parts"],u)}const r=s(i,["role"]);return r!=null&&c(t,["role"],r),t}function nS(i){const t={},o=s(i,["controlType"]);o!=null&&c(t,["controlType"],o);const r=s(i,["enableControlImageComputation"]);return r!=null&&c(t,["computeControl"],r),t}function iS(i){const t={};if(s(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function oS(i,t){const o={},r=s(i,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],xt(r));const u=s(i,["tools"]);if(t!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(v=>pg(v))),c(t,["tools"],m)}const f=s(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],QS(f)),o}function lS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(v=>Da(v))),c(o,["contents"],m)}const f=s(t,["config"]);return f!=null&&iS(f),o}function rS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(v=>v)),c(o,["contents"],m)}const f=s(t,["config"]);return f!=null&&oS(f,o),o}function aS(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["totalTokens"]);r!=null&&c(t,["totalTokens"],r);const u=s(i,["cachedContentTokenCount"]);return u!=null&&c(t,["cachedContentTokenCount"],u),t}function sS(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["totalTokens"]);return r!=null&&c(t,["totalTokens"],r),t}function uS(i,t){const o={},r=s(t,["model"]);return r!=null&&c(o,["_url","name"],Be(i,r)),o}function cS(i,t){const o={},r=s(t,["model"]);return r!=null&&c(o,["_url","name"],Be(i,r)),o}function fS(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function dS(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function pS(i,t){const o={},r=s(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const u=s(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const f=s(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const m=s(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const v=s(i,["guidanceScale"]);t!==void 0&&v!=null&&c(t,["parameters","guidanceScale"],v);const y=s(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=s(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const _=s(i,["personGeneration"]);t!==void 0&&_!=null&&c(t,["parameters","personGeneration"],_);const T=s(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const C=s(i,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const w=s(i,["language"]);t!==void 0&&w!=null&&c(t,["parameters","language"],w);const k=s(i,["outputMimeType"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","mimeType"],k);const Y=s(i,["outputCompressionQuality"]);t!==void 0&&Y!=null&&c(t,["parameters","outputOptions","compressionQuality"],Y);const q=s(i,["addWatermark"]);t!==void 0&&q!=null&&c(t,["parameters","addWatermark"],q);const Z=s(i,["labels"]);t!==void 0&&Z!=null&&c(t,["labels"],Z);const ne=s(i,["editMode"]);t!==void 0&&ne!=null&&c(t,["parameters","editMode"],ne);const ee=s(i,["baseSteps"]);return t!==void 0&&ee!=null&&c(t,["parameters","editConfig","baseSteps"],ee),o}function mS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=s(t,["referenceImages"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(y=>gT(y))),c(o,["instances[0]","referenceImages"],v)}const m=s(t,["config"]);return m!=null&&pS(m,o),o}function hS(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Ua(f))),c(t,["generatedImages"],u)}return t}function gS(i,t){const o={},r=s(i,["taskType"]);t!==void 0&&r!=null&&c(t,["requests[]","taskType"],r);const u=s(i,["title"]);t!==void 0&&u!=null&&c(t,["requests[]","title"],u);const f=s(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),s(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function vS(i,t){const o={},r=s(i,["taskType"]);t!==void 0&&r!=null&&c(t,["instances[]","task_type"],r);const u=s(i,["title"]);t!==void 0&&u!=null&&c(t,["instances[]","title"],u);const f=s(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const m=s(i,["mimeType"]);t!==void 0&&m!=null&&c(t,["instances[]","mimeType"],m);const v=s(i,["autoTruncate"]);return t!==void 0&&v!=null&&c(t,["parameters","autoTruncate"],v),o}function yS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let v=Tc(i,u);Array.isArray(v)&&(v=v.map(y=>y)),c(o,["requests[]","content"],v)}const f=s(t,["config"]);f!=null&&gS(f,o);const m=s(t,["model"]);return m!==void 0&&c(o,["requests[]","model"],Be(i,m)),o}function _S(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let m=Tc(i,u);Array.isArray(m)&&(m=m.map(v=>v)),c(o,["instances[]","content"],m)}const f=s(t,["config"]);return f!=null&&vS(f,o),o}function ES(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["embeddings"],f)}const u=s(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function SS(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["predictions[]","embeddings"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>eS(m))),c(t,["embeddings"],f)}const u=s(i,["metadata"]);return u!=null&&c(t,["metadata"],u),t}function TS(i){const t={},o=s(i,["endpoint"]);o!=null&&c(t,["name"],o);const r=s(i,["deployedModelId"]);return r!=null&&c(t,["deployedModelId"],r),t}function AS(i){const t={};if(s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function CS(i){const t={},o=s(i,["id"]);o!=null&&c(t,["id"],o);const r=s(i,["args"]);r!=null&&c(t,["args"],r);const u=s(i,["name"]);if(u!=null&&c(t,["name"],u),s(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function RS(i){const t={},o=s(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const r=s(i,["mode"]);if(r!=null&&c(t,["mode"],r),s(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function MS(i){const t={},o=s(i,["description"]);o!=null&&c(t,["description"],o);const r=s(i,["name"]);r!=null&&c(t,["name"],r);const u=s(i,["parameters"]);u!=null&&c(t,["parameters"],u);const f=s(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const m=s(i,["response"]);m!=null&&c(t,["response"],m);const v=s(i,["responseJsonSchema"]);if(v!=null&&c(t,["responseJsonSchema"],v),s(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function NS(i,t,o){const r={},u=s(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Da(xt(u)));const f=s(t,["temperature"]);f!=null&&c(r,["temperature"],f);const m=s(t,["topP"]);m!=null&&c(r,["topP"],m);const v=s(t,["topK"]);v!=null&&c(r,["topK"],v);const y=s(t,["candidateCount"]);y!=null&&c(r,["candidateCount"],y);const g=s(t,["maxOutputTokens"]);g!=null&&c(r,["maxOutputTokens"],g);const _=s(t,["stopSequences"]);_!=null&&c(r,["stopSequences"],_);const T=s(t,["responseLogprobs"]);T!=null&&c(r,["responseLogprobs"],T);const C=s(t,["logprobs"]);C!=null&&c(r,["logprobs"],C);const w=s(t,["presencePenalty"]);w!=null&&c(r,["presencePenalty"],w);const k=s(t,["frequencyPenalty"]);k!=null&&c(r,["frequencyPenalty"],k);const Y=s(t,["seed"]);Y!=null&&c(r,["seed"],Y);const q=s(t,["responseMimeType"]);q!=null&&c(r,["responseMimeType"],q);const Z=s(t,["responseSchema"]);Z!=null&&c(r,["responseSchema"],Ac(Z));const ne=s(t,["responseJsonSchema"]);if(ne!=null&&c(r,["responseJsonSchema"],ne),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ee=s(t,["safetySettings"]);if(o!==void 0&&ee!=null){let de=ee;Array.isArray(de)&&(de=de.map(Ie=>vT(Ie))),c(o,["safetySettings"],de)}const se=s(t,["tools"]);if(o!==void 0&&se!=null){let de=Xo(se);Array.isArray(de)&&(de=de.map(Ie=>CT(Ko(Ie)))),c(o,["tools"],de)}const pe=s(t,["toolConfig"]);if(o!==void 0&&pe!=null&&c(o,["toolConfig"],AT(pe)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const $=s(t,["cachedContent"]);o!==void 0&&$!=null&&c(o,["cachedContent"],ei(i,$));const J=s(t,["responseModalities"]);J!=null&&c(r,["responseModalities"],J);const ce=s(t,["mediaResolution"]);ce!=null&&c(r,["mediaResolution"],ce);const W=s(t,["speechConfig"]);if(W!=null&&c(r,["speechConfig"],Cc(W)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ie=s(t,["thinkingConfig"]);ie!=null&&c(r,["thinkingConfig"],ie);const ge=s(t,["imageConfig"]);ge!=null&&c(r,["imageConfig"],eT(ge));const oe=s(t,["enableEnhancedCivicAnswers"]);if(oe!=null&&c(r,["enableEnhancedCivicAnswers"],oe),s(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function wS(i,t,o){const r={},u=s(t,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],xt(u));const f=s(t,["temperature"]);f!=null&&c(r,["temperature"],f);const m=s(t,["topP"]);m!=null&&c(r,["topP"],m);const v=s(t,["topK"]);v!=null&&c(r,["topK"],v);const y=s(t,["candidateCount"]);y!=null&&c(r,["candidateCount"],y);const g=s(t,["maxOutputTokens"]);g!=null&&c(r,["maxOutputTokens"],g);const _=s(t,["stopSequences"]);_!=null&&c(r,["stopSequences"],_);const T=s(t,["responseLogprobs"]);T!=null&&c(r,["responseLogprobs"],T);const C=s(t,["logprobs"]);C!=null&&c(r,["logprobs"],C);const w=s(t,["presencePenalty"]);w!=null&&c(r,["presencePenalty"],w);const k=s(t,["frequencyPenalty"]);k!=null&&c(r,["frequencyPenalty"],k);const Y=s(t,["seed"]);Y!=null&&c(r,["seed"],Y);const q=s(t,["responseMimeType"]);q!=null&&c(r,["responseMimeType"],q);const Z=s(t,["responseSchema"]);Z!=null&&c(r,["responseSchema"],Ac(Z));const ne=s(t,["responseJsonSchema"]);ne!=null&&c(r,["responseJsonSchema"],ne);const ee=s(t,["routingConfig"]);ee!=null&&c(r,["routingConfig"],ee);const se=s(t,["modelSelectionConfig"]);se!=null&&c(r,["modelConfig"],se);const pe=s(t,["safetySettings"]);if(o!==void 0&&pe!=null){let j=pe;Array.isArray(j)&&(j=j.map(me=>me)),c(o,["safetySettings"],j)}const $=s(t,["tools"]);if(o!==void 0&&$!=null){let j=Xo($);Array.isArray(j)&&(j=j.map(me=>pg(Ko(me)))),c(o,["tools"],j)}const J=s(t,["toolConfig"]);o!==void 0&&J!=null&&c(o,["toolConfig"],J);const ce=s(t,["labels"]);o!==void 0&&ce!=null&&c(o,["labels"],ce);const W=s(t,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],ei(i,W));const ie=s(t,["responseModalities"]);ie!=null&&c(r,["responseModalities"],ie);const ge=s(t,["mediaResolution"]);ge!=null&&c(r,["mediaResolution"],ge);const oe=s(t,["speechConfig"]);oe!=null&&c(r,["speechConfig"],Cc(oe));const de=s(t,["audioTimestamp"]);de!=null&&c(r,["audioTimestamp"],de);const Ie=s(t,["thinkingConfig"]);Ie!=null&&c(r,["thinkingConfig"],Ie);const $e=s(t,["imageConfig"]);if($e!=null&&c(r,["imageConfig"],tT($e)),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const z=s(t,["modelArmorConfig"]);return o!==void 0&&z!=null&&c(o,["modelArmorConfig"],z),r}function Uh(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(v=>Da(v))),c(o,["contents"],m)}const f=s(t,["config"]);return f!=null&&c(o,["generationConfig"],NS(i,f,o)),o}function bh(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["contents"]);if(u!=null){let m=pn(u);Array.isArray(m)&&(m=m.map(v=>v)),c(o,["contents"],m)}const f=s(t,["config"]);return f!=null&&c(o,["generationConfig"],wS(i,f,o)),o}function xh(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["candidates"]);if(r!=null){let y=r;Array.isArray(y)&&(y=y.map(g=>ZE(g))),c(t,["candidates"],y)}const u=s(i,["modelVersion"]);u!=null&&c(t,["modelVersion"],u);const f=s(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const m=s(i,["responseId"]);m!=null&&c(t,["responseId"],m);const v=s(i,["usageMetadata"]);return v!=null&&c(t,["usageMetadata"],v),t}function Lh(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["candidates"]);if(r!=null){let g=r;Array.isArray(g)&&(g=g.map(_=>_)),c(t,["candidates"],g)}const u=s(i,["createTime"]);u!=null&&c(t,["createTime"],u);const f=s(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const m=s(i,["promptFeedback"]);m!=null&&c(t,["promptFeedback"],m);const v=s(i,["responseId"]);v!=null&&c(t,["responseId"],v);const y=s(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function IS(i,t){const o={};if(s(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=s(i,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const u=s(i,["aspectRatio"]);t!==void 0&&u!=null&&c(t,["parameters","aspectRatio"],u);const f=s(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),s(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(i,["safetyFilterLevel"]);t!==void 0&&m!=null&&c(t,["parameters","safetySetting"],m);const v=s(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const y=s(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=s(i,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const _=s(i,["language"]);t!==void 0&&_!=null&&c(t,["parameters","language"],_);const T=s(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const C=s(i,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&c(t,["parameters","outputOptions","compressionQuality"],C),s(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=s(i,["imageSize"]);if(t!==void 0&&w!=null&&c(t,["parameters","sampleImageSize"],w),s(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function DS(i,t){const o={},r=s(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const u=s(i,["negativePrompt"]);t!==void 0&&u!=null&&c(t,["parameters","negativePrompt"],u);const f=s(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const m=s(i,["aspectRatio"]);t!==void 0&&m!=null&&c(t,["parameters","aspectRatio"],m);const v=s(i,["guidanceScale"]);t!==void 0&&v!=null&&c(t,["parameters","guidanceScale"],v);const y=s(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=s(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const _=s(i,["personGeneration"]);t!==void 0&&_!=null&&c(t,["parameters","personGeneration"],_);const T=s(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const C=s(i,["includeRaiReason"]);t!==void 0&&C!=null&&c(t,["parameters","includeRaiReason"],C);const w=s(i,["language"]);t!==void 0&&w!=null&&c(t,["parameters","language"],w);const k=s(i,["outputMimeType"]);t!==void 0&&k!=null&&c(t,["parameters","outputOptions","mimeType"],k);const Y=s(i,["outputCompressionQuality"]);t!==void 0&&Y!=null&&c(t,["parameters","outputOptions","compressionQuality"],Y);const q=s(i,["addWatermark"]);t!==void 0&&q!=null&&c(t,["parameters","addWatermark"],q);const Z=s(i,["labels"]);t!==void 0&&Z!=null&&c(t,["labels"],Z);const ne=s(i,["imageSize"]);t!==void 0&&ne!=null&&c(t,["parameters","sampleImageSize"],ne);const ee=s(i,["enhancePrompt"]);return t!==void 0&&ee!=null&&c(t,["parameters","enhancePrompt"],ee),o}function US(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=s(t,["config"]);return f!=null&&IS(f,o),o}function bS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=s(t,["config"]);return f!=null&&DS(f,o),o}function xS(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>YS(m))),c(t,["generatedImages"],f)}const u=s(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],fg(u)),t}function LS(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["predictions"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Ua(m))),c(t,["generatedImages"],f)}const u=s(i,["positivePromptSafetyAttributes"]);return u!=null&&c(t,["positivePromptSafetyAttributes"],dg(u)),t}function GS(i,t){const o={},r=s(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r),s(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=s(i,["durationSeconds"]);if(t!==void 0&&u!=null&&c(t,["parameters","durationSeconds"],u),s(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=s(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const m=s(i,["resolution"]);t!==void 0&&m!=null&&c(t,["parameters","resolution"],m);const v=s(i,["personGeneration"]);if(t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v),s(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=s(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=s(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),s(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=s(i,["lastFrame"]);t!==void 0&&_!=null&&c(t,["instances[0]","lastFrame"],ba(_));const T=s(i,["referenceImages"]);if(t!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(w=>PT(w))),c(t,["instances[0]","referenceImages"],C)}if(s(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function FS(i,t){const o={},r=s(i,["numberOfVideos"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const u=s(i,["outputGcsUri"]);t!==void 0&&u!=null&&c(t,["parameters","storageUri"],u);const f=s(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const m=s(i,["durationSeconds"]);t!==void 0&&m!=null&&c(t,["parameters","durationSeconds"],m);const v=s(i,["seed"]);t!==void 0&&v!=null&&c(t,["parameters","seed"],v);const y=s(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=s(i,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const _=s(i,["personGeneration"]);t!==void 0&&_!=null&&c(t,["parameters","personGeneration"],_);const T=s(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const C=s(i,["negativePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","negativePrompt"],C);const w=s(i,["enhancePrompt"]);t!==void 0&&w!=null&&c(t,["parameters","enhancePrompt"],w);const k=s(i,["generateAudio"]);t!==void 0&&k!=null&&c(t,["parameters","generateAudio"],k);const Y=s(i,["lastFrame"]);t!==void 0&&Y!=null&&c(t,["instances[0]","lastFrame"],Sn(Y));const q=s(i,["referenceImages"]);if(t!==void 0&&q!=null){let ee=q;Array.isArray(ee)&&(ee=ee.map(se=>HT(se))),c(t,["instances[0]","referenceImages"],ee)}const Z=s(i,["mask"]);t!==void 0&&Z!=null&&c(t,["instances[0]","mask"],FT(Z));const ne=s(i,["compressionQuality"]);return t!==void 0&&ne!=null&&c(t,["parameters","compressionQuality"],ne),o}function PS(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response","generateVideoResponse"]);return m!=null&&c(t,["response"],VS(m)),t}function HS(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response"]);return m!=null&&c(t,["response"],BS(m)),t}function kS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=s(t,["image"]);f!=null&&c(o,["instances[0]","image"],ba(f));const m=s(t,["video"]);m!=null&&c(o,["instances[0]","video"],mg(m));const v=s(t,["source"]);v!=null&&zS(v,o);const y=s(t,["config"]);return y!=null&&GS(y,o),o}function qS(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const f=s(t,["image"]);f!=null&&c(o,["instances[0]","image"],Sn(f));const m=s(t,["video"]);m!=null&&c(o,["instances[0]","video"],hg(m));const v=s(t,["source"]);v!=null&&OS(v,o);const y=s(t,["config"]);return y!=null&&FS(y,o),o}function VS(i){const t={},o=s(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>KS(m))),c(t,["generatedVideos"],f)}const r=s(i,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);const u=s(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function BS(i){const t={},o=s(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>XS(m))),c(t,["generatedVideos"],f)}const r=s(i,["raiMediaFilteredCount"]);r!=null&&c(t,["raiMediaFilteredCount"],r);const u=s(i,["raiMediaFilteredReasons"]);return u!=null&&c(t,["raiMediaFilteredReasons"],u),t}function zS(i,t){const o={},r=s(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const u=s(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],ba(u));const f=s(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],mg(f)),o}function OS(i,t){const o={},r=s(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const u=s(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Sn(u));const f=s(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],hg(f)),o}function YS(i){const t={},o=s(i,["_self"]);o!=null&&c(t,["image"],nT(o));const r=s(i,["raiFilteredReason"]);r!=null&&c(t,["raiFilteredReason"],r);const u=s(i,["_self"]);return u!=null&&c(t,["safetyAttributes"],fg(u)),t}function Ua(i){const t={},o=s(i,["_self"]);o!=null&&c(t,["image"],cg(o));const r=s(i,["raiFilteredReason"]);r!=null&&c(t,["raiFilteredReason"],r);const u=s(i,["_self"]);u!=null&&c(t,["safetyAttributes"],dg(u));const f=s(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function JS(i){const t={},o=s(i,["_self"]);o!=null&&c(t,["mask"],cg(o));const r=s(i,["labels"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),c(t,["labels"],u)}return t}function KS(i){const t={},o=s(i,["video"]);return o!=null&&c(t,["video"],LT(o)),t}function XS(i){const t={},o=s(i,["_self"]);return o!=null&&c(t,["video"],GT(o)),t}function QS(i){const t={},o=s(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const r=s(i,["responseJsonSchema"]);r!=null&&c(t,["responseJsonSchema"],r);const u=s(i,["audioTimestamp"]);u!=null&&c(t,["audioTimestamp"],u);const f=s(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const m=s(i,["enableAffectiveDialog"]);m!=null&&c(t,["enableAffectiveDialog"],m);const v=s(i,["frequencyPenalty"]);v!=null&&c(t,["frequencyPenalty"],v);const y=s(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=s(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const _=s(i,["mediaResolution"]);_!=null&&c(t,["mediaResolution"],_);const T=s(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const C=s(i,["responseLogprobs"]);C!=null&&c(t,["responseLogprobs"],C);const w=s(i,["responseMimeType"]);w!=null&&c(t,["responseMimeType"],w);const k=s(i,["responseModalities"]);k!=null&&c(t,["responseModalities"],k);const Y=s(i,["responseSchema"]);Y!=null&&c(t,["responseSchema"],Y);const q=s(i,["routingConfig"]);q!=null&&c(t,["routingConfig"],q);const Z=s(i,["seed"]);Z!=null&&c(t,["seed"],Z);const ne=s(i,["speechConfig"]);ne!=null&&c(t,["speechConfig"],ne);const ee=s(i,["stopSequences"]);ee!=null&&c(t,["stopSequences"],ee);const se=s(i,["temperature"]);se!=null&&c(t,["temperature"],se);const pe=s(i,["thinkingConfig"]);pe!=null&&c(t,["thinkingConfig"],pe);const $=s(i,["topK"]);$!=null&&c(t,["topK"],$);const J=s(i,["topP"]);if(J!=null&&c(t,["topP"],J),s(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function ZS(i,t){const o={},r=s(t,["model"]);return r!=null&&c(o,["_url","name"],Be(i,r)),o}function $S(i,t){const o={},r=s(t,["model"]);return r!=null&&c(o,["_url","name"],Be(i,r)),o}function WS(i){const t={};if(s(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=s(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function jS(i){const t={};if(s(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=s(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function eT(i){const t={},o=s(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const r=s(i,["imageSize"]);if(r!=null&&c(t,["imageSize"],r),s(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function tT(i){const t={},o=s(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const r=s(i,["imageSize"]);r!=null&&c(t,["imageSize"],r);const u=s(i,["personGeneration"]);u!=null&&c(t,["personGeneration"],u);const f=s(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const m=s(i,["outputCompressionQuality"]);return m!=null&&c(t,["imageOutputOptions","compressionQuality"],m),t}function nT(i){const t={},o=s(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Ui(o));const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function cg(i){const t={},o=s(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const r=s(i,["bytesBase64Encoded"]);r!=null&&c(t,["imageBytes"],Ui(r));const u=s(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function ba(i){const t={};if(s(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Ui(o));const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Sn(i){const t={},o=s(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const r=s(i,["imageBytes"]);r!=null&&c(t,["bytesBase64Encoded"],Ui(r));const u=s(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function iT(i,t,o){const r={},u=s(t,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const f=s(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const m=s(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const v=s(t,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],ig(i,v)),r}function oT(i,t,o){const r={},u=s(t,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const f=s(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const m=s(t,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const v=s(t,["queryBase"]);return o!==void 0&&v!=null&&c(o,["_url","models_url"],ig(i,v)),r}function lT(i,t){const o={},r=s(t,["config"]);return r!=null&&iT(i,r,o),o}function rT(i,t){const o={},r=s(t,["config"]);return r!=null&&oT(i,r,o),o}function aT(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["_self"]);if(u!=null){let f=og(u);Array.isArray(f)&&(f=f.map(m=>uc(m))),c(t,["models"],f)}return t}function sT(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["_self"]);if(u!=null){let f=og(u);Array.isArray(f)&&(f=f.map(m=>cc(m))),c(t,["models"],f)}return t}function uT(i){const t={},o=s(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const r=s(i,["segmentationClasses"]);r!=null&&c(t,["maskClasses"],r);const u=s(i,["maskDilation"]);return u!=null&&c(t,["dilation"],u),t}function uc(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["displayName"]);r!=null&&c(t,["displayName"],r);const u=s(i,["description"]);u!=null&&c(t,["description"],u);const f=s(i,["version"]);f!=null&&c(t,["version"],f);const m=s(i,["_self"]);m!=null&&c(t,["tunedModelInfo"],RT(m));const v=s(i,["inputTokenLimit"]);v!=null&&c(t,["inputTokenLimit"],v);const y=s(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=s(i,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const _=s(i,["temperature"]);_!=null&&c(t,["temperature"],_);const T=s(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const C=s(i,["topP"]);C!=null&&c(t,["topP"],C);const w=s(i,["topK"]);w!=null&&c(t,["topK"],w);const k=s(i,["thinking"]);return k!=null&&c(t,["thinking"],k),t}function cc(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["displayName"]);r!=null&&c(t,["displayName"],r);const u=s(i,["description"]);u!=null&&c(t,["description"],u);const f=s(i,["versionId"]);f!=null&&c(t,["version"],f);const m=s(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>TS(C))),c(t,["endpoints"],T)}const v=s(i,["labels"]);v!=null&&c(t,["labels"],v);const y=s(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],MT(y));const g=s(i,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const _=s(i,["checkpoints"]);if(_!=null){let T=_;Array.isArray(T)&&(T=T.map(C=>C)),c(t,["checkpoints"],T)}return t}function cT(i){const t={},o=s(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const r=s(i,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);const u=s(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=s(i,["fileData"]);f!=null&&c(t,["fileData"],AS(f));const m=s(i,["functionCall"]);m!=null&&c(t,["functionCall"],CS(m));const v=s(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=s(i,["inlineData"]);y!=null&&c(t,["inlineData"],QE(y));const g=s(i,["text"]);g!=null&&c(t,["text"],g);const _=s(i,["thought"]);_!=null&&c(t,["thought"],_);const T=s(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const C=s(i,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function fT(i){const t={},o=s(i,["productImage"]);return o!=null&&c(t,["image"],Sn(o)),t}function dT(i,t){const o={},r=s(i,["numberOfImages"]);t!==void 0&&r!=null&&c(t,["parameters","sampleCount"],r);const u=s(i,["baseSteps"]);t!==void 0&&u!=null&&c(t,["parameters","baseSteps"],u);const f=s(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const m=s(i,["seed"]);t!==void 0&&m!=null&&c(t,["parameters","seed"],m);const v=s(i,["safetyFilterLevel"]);t!==void 0&&v!=null&&c(t,["parameters","safetySetting"],v);const y=s(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=s(i,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const _=s(i,["outputMimeType"]);t!==void 0&&_!=null&&c(t,["parameters","outputOptions","mimeType"],_);const T=s(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const C=s(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const w=s(i,["labels"]);return t!==void 0&&w!=null&&c(t,["labels"],w),o}function pT(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["source"]);u!=null&&hT(u,o);const f=s(t,["config"]);return f!=null&&dT(f,o),o}function mT(i){const t={},o=s(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>Ua(u))),c(t,["generatedImages"],r)}return t}function hT(i,t){const o={},r=s(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const u=s(i,["personImage"]);t!==void 0&&u!=null&&c(t,["instances[0]","personImage","image"],Sn(u));const f=s(i,["productImages"]);if(t!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>fT(v))),c(t,["instances[0]","productImages"],m)}return o}function gT(i){const t={},o=s(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Sn(o));const r=s(i,["referenceId"]);r!=null&&c(t,["referenceId"],r);const u=s(i,["referenceType"]);u!=null&&c(t,["referenceType"],u);const f=s(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],uT(f));const m=s(i,["controlImageConfig"]);m!=null&&c(t,["controlImageConfig"],nS(m));const v=s(i,["styleImageConfig"]);v!=null&&c(t,["styleImageConfig"],v);const y=s(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function fg(i){const t={},o=s(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const r=s(i,["safetyAttributes","scores"]);r!=null&&c(t,["scores"],r);const u=s(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function dg(i){const t={},o=s(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const r=s(i,["safetyAttributes","scores"]);r!=null&&c(t,["scores"],r);const u=s(i,["contentType"]);return u!=null&&c(t,["contentType"],u),t}function vT(i){const t={},o=s(i,["category"]);if(o!=null&&c(t,["category"],o),s(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=s(i,["threshold"]);return r!=null&&c(t,["threshold"],r),t}function yT(i){const t={},o=s(i,["image"]);return o!=null&&c(t,["image"],Sn(o)),t}function _T(i,t){const o={},r=s(i,["mode"]);t!==void 0&&r!=null&&c(t,["parameters","mode"],r);const u=s(i,["maxPredictions"]);t!==void 0&&u!=null&&c(t,["parameters","maxPredictions"],u);const f=s(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const m=s(i,["maskDilation"]);t!==void 0&&m!=null&&c(t,["parameters","maskDilation"],m);const v=s(i,["binaryColorThreshold"]);t!==void 0&&v!=null&&c(t,["parameters","binaryColorThreshold"],v);const y=s(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function ET(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["source"]);u!=null&&TT(u,o);const f=s(t,["config"]);return f!=null&&_T(f,o),o}function ST(i){const t={},o=s(i,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(u=>JS(u))),c(t,["generatedMasks"],r)}return t}function TT(i,t){const o={},r=s(i,["prompt"]);t!==void 0&&r!=null&&c(t,["instances[0]","prompt"],r);const u=s(i,["image"]);t!==void 0&&u!=null&&c(t,["instances[0]","image"],Sn(u));const f=s(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],yT(f)),o}function AT(i){const t={},o=s(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const r=s(i,["functionCallingConfig"]);return r!=null&&c(t,["functionCallingConfig"],RS(r)),t}function CT(i){const t={};if(s(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const r=s(i,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);const u=s(i,["codeExecution"]);if(u!=null&&c(t,["codeExecution"],u),s(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=s(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),c(t,["functionDeclarations"],_)}const m=s(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],WS(m));const v=s(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],jS(v));const y=s(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=s(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function pg(i){const t={},o=s(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const r=s(i,["computerUse"]);if(r!=null&&c(t,["computerUse"],r),s(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=s(i,["codeExecution"]);u!=null&&c(t,["codeExecution"],u);const f=s(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const m=s(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>MS(C))),c(t,["functionDeclarations"],T)}const v=s(i,["googleMaps"]);v!=null&&c(t,["googleMaps"],v);const y=s(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=s(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const _=s(i,["urlContext"]);return _!=null&&c(t,["urlContext"],_),t}function RT(i){const t={},o=s(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const r=s(i,["createTime"]);r!=null&&c(t,["createTime"],r);const u=s(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function MT(i){const t={},o=s(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const r=s(i,["createTime"]);r!=null&&c(t,["createTime"],r);const u=s(i,["updateTime"]);return u!=null&&c(t,["updateTime"],u),t}function NT(i,t){const o={},r=s(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const u=s(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const f=s(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function wT(i,t){const o={},r=s(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const u=s(i,["description"]);t!==void 0&&u!=null&&c(t,["description"],u);const f=s(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function IT(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","name"],Be(i,r));const u=s(t,["config"]);return u!=null&&NT(u,o),o}function DT(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["config"]);return u!=null&&wT(u,o),o}function UT(i,t){const o={},r=s(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const u=s(i,["safetyFilterLevel"]);t!==void 0&&u!=null&&c(t,["parameters","safetySetting"],u);const f=s(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const m=s(i,["includeRaiReason"]);t!==void 0&&m!=null&&c(t,["parameters","includeRaiReason"],m);const v=s(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const y=s(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=s(i,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const _=s(i,["imagePreservationFactor"]);t!==void 0&&_!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],_);const T=s(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const C=s(i,["numberOfImages"]);t!==void 0&&C!=null&&c(t,["parameters","sampleCount"],C);const w=s(i,["mode"]);return t!==void 0&&w!=null&&c(t,["parameters","mode"],w),o}function bT(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["_url","model"],Be(i,r));const u=s(t,["image"]);u!=null&&c(o,["instances[0]","image"],Sn(u));const f=s(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=s(t,["config"]);return m!=null&&UT(m,o),o}function xT(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["predictions"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>Ua(f))),c(t,["generatedImages"],u)}return t}function LT(i){const t={},o=s(i,["uri"]);o!=null&&c(t,["uri"],o);const r=s(i,["encodedVideo"]);r!=null&&c(t,["videoBytes"],Ui(r));const u=s(i,["encoding"]);return u!=null&&c(t,["mimeType"],u),t}function GT(i){const t={},o=s(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const r=s(i,["bytesBase64Encoded"]);r!=null&&c(t,["videoBytes"],Ui(r));const u=s(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function FT(i){const t={},o=s(i,["image"]);o!=null&&c(t,["_self"],Sn(o));const r=s(i,["maskMode"]);return r!=null&&c(t,["maskMode"],r),t}function PT(i){const t={},o=s(i,["image"]);o!=null&&c(t,["image"],ba(o));const r=s(i,["referenceType"]);return r!=null&&c(t,["referenceType"],r),t}function HT(i){const t={},o=s(i,["image"]);o!=null&&c(t,["image"],Sn(o));const r=s(i,["referenceType"]);return r!=null&&c(t,["referenceType"],r),t}function mg(i){const t={},o=s(i,["uri"]);o!=null&&c(t,["uri"],o);const r=s(i,["videoBytes"]);r!=null&&c(t,["encodedVideo"],Ui(r));const u=s(i,["mimeType"]);return u!=null&&c(t,["encoding"],u),t}function hg(i){const t={},o=s(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const r=s(i,["videoBytes"]);r!=null&&c(t,["bytesBase64Encoded"],Ui(r));const u=s(i,["mimeType"]);return u!=null&&c(t,["mimeType"],u),t}function kT(i,t){const o={},r=s(i,["displayName"]);return t!==void 0&&r!=null&&c(t,["displayName"],r),o}function qT(i){const t={},o=s(i,["config"]);return o!=null&&kT(o,t),t}function VT(i,t){const o={},r=s(i,["force"]);return t!==void 0&&r!=null&&c(t,["_query","force"],r),o}function BT(i){const t={},o=s(i,["name"]);o!=null&&c(t,["_url","name"],o);const r=s(i,["config"]);return r!=null&&VT(r,t),t}function zT(i){const t={},o=s(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function OT(i,t){const o={},r=s(i,["customMetadata"]);if(t!==void 0&&r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["customMetadata"],f)}const u=s(i,["chunkingConfig"]);return t!==void 0&&u!=null&&c(t,["chunkingConfig"],u),o}function YT(i){const t={},o=s(i,["name"]);o!=null&&c(t,["name"],o);const r=s(i,["metadata"]);r!=null&&c(t,["metadata"],r);const u=s(i,["done"]);u!=null&&c(t,["done"],u);const f=s(i,["error"]);f!=null&&c(t,["error"],f);const m=s(i,["response"]);return m!=null&&c(t,["response"],KT(m)),t}function JT(i){const t={},o=s(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const r=s(i,["fileName"]);r!=null&&c(t,["fileName"],r);const u=s(i,["config"]);return u!=null&&OT(u,t),t}function KT(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["parent"]);r!=null&&c(t,["parent"],r);const u=s(i,["documentName"]);return u!=null&&c(t,["documentName"],u),t}function XT(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function QT(i){const t={},o=s(i,["config"]);return o!=null&&XT(o,t),t}function ZT(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["fileSearchStores"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["fileSearchStores"],f)}return t}function gg(i,t){const o={},r=s(i,["mimeType"]);t!==void 0&&r!=null&&c(t,["mimeType"],r);const u=s(i,["displayName"]);t!==void 0&&u!=null&&c(t,["displayName"],u);const f=s(i,["customMetadata"]);if(t!==void 0&&f!=null){let v=f;Array.isArray(v)&&(v=v.map(y=>y)),c(t,["customMetadata"],v)}const m=s(i,["chunkingConfig"]);return t!==void 0&&m!=null&&c(t,["chunkingConfig"],m),o}function $T(i){const t={},o=s(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const r=s(i,["config"]);return r!=null&&gg(r,t),t}function WT(i){const t={},o=s(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}const jT="Content-Type",eA="X-Server-Timeout",tA="User-Agent",fc="x-goog-api-client",nA="1.38.0",iA=`google-genai-sdk/${nA}`,oA="v1beta1",lA="v1beta";class rA{constructor(t){var o,r,u;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const v=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!v?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:oA}else{if(!this.clientOptions.apiKey)throw new Ql({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(u=this.clientOptions.apiVersion)!==null&&u!==void 0?u:lA,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&r.push(t.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,r){const u=[this.getRequestUrlInternal(o)];return r&&u.push(this.getBaseResourcePath()),t!==""&&u.push(t),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===lc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,o),u=this.constructUrl(t.path,o,r);if(t.queryParams)for(const[m,v]of Object.entries(t.queryParams))u.searchParams.append(m,String(v));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,u.toString(),t.abortSignal),this.unaryApiCall(u,f,t.httpMethod)}patchHttpOptions(t,o){const r=JSON.parse(JSON.stringify(t));for(const[u,f]of Object.entries(o))typeof f=="object"?r[u]=Object.assign(Object.assign({},r[u]),f):f!==void 0&&(r[u]=f);return r}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const r=this.shouldPrependVertexProjectPath(t,o),u=this.constructUrl(t.path,o,r);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,u.toString(),t.abortSignal),this.streamApiCall(u,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,r,u){if(o&&o.timeout||u){const f=new AbortController,m=f.signal;if(o.timeout&&o?.timeout>0){const v=setTimeout(()=>f.abort(),o.timeout);v&&typeof v.unref=="function"&&v.unref()}u&&u.addEventListener("abort",()=>{f.abort()}),t.signal=m}return o&&o.extraBody!==null&&aA(t,o.extraBody),t.headers=await this.getHeadersInternal(o,r),t}async unaryApiCall(t,o,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:r})).then(async u=>(await Gh(u),new rc(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(t,o,r){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:r})).then(async u=>(await Gh(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(t){return _n(this,arguments,function*(){var r;const u=(r=t?.body)===null||r===void 0?void 0:r.getReader(),f=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";const v="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:_}=yield Te(u.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(_,{stream:!0});try{const k=JSON.parse(T);if("error"in k){const Y=JSON.parse(JSON.stringify(k.error)),q=Y.status,Z=Y.code,ne=`got status: ${q}. ${JSON.stringify(k)}`;if(Z>=400&&Z<600)throw new Ql({message:ne,status:Z})}}catch(k){if(k.name==="ApiError")throw k}m+=T;let C=-1,w=0;for(;;){C=-1,w=0;for(const q of y){const Z=m.indexOf(q);Z!==-1&&(C===-1||Z<C)&&(C=Z,w=q.length)}if(C===-1)break;const k=m.substring(0,C);m=m.substring(C+w);const Y=k.trim();if(Y.startsWith(v)){const q=Y.substring(v.length).trim();try{const Z=new Response(q,{headers:t?.headers,status:t?.status,statusText:t?.statusText});yield yield Te(new rc(Z))}catch(Z){throw new Error(`exception parsing stream chunk ${q}. ${Z}`)}}}}}finally{u.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const t={},o=iA+" "+this.clientOptions.userAgentExtra;return t[tA]=o,t[fc]=o,t[jT]="application/json",t}async getHeadersInternal(t,o){const r=new Headers;if(t&&t.headers){for(const[u,f]of Object.entries(t.headers))r.append(u,f);t.timeout&&t.timeout>0&&r.append(eA,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,o),r}getFileName(t){var o;let r="";return typeof t=="string"&&(r=t.replace(/[/\\]+$/,""),r=(o=r.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),r}async uploadFile(t,o){var r;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const f=this.clientOptions.uploader,m=await f.stat(t);u.sizeBytes=String(m.size);const v=(r=o?.mimeType)!==null&&r!==void 0?r:m.type;if(v===void 0||v==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=v;const y={file:u},g=this.getFileName(t),_=ae("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(_,u.sizeBytes,u.mimeType,g,y,o?.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,r){var u;const f=this.clientOptions.uploader,m=await f.stat(o),v=String(m.size),y=(u=r?.mimeType)!==null&&u!==void 0?u:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,_=this.getFileName(o),T={};r!=null&&gg(r,T);const C=await this.fetchUploadUrl(g,v,y,_,T,r?.httpOptions);return f.uploadToFileSearchStore(o,C,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,r,u,f,m){var v;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${r}`},u?{"X-Goog-Upload-File-Name":u}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!g?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const _=(v=g?.headers)===null||v===void 0?void 0:v["x-goog-upload-url"];if(_===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return _}}async function Gh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let r;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?r=await i.json():r={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(r);throw o>=400&&o<600?new Ql({message:u,status:o}):new Error(u)}}function aA(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(f,m){const v=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const g=m[y],_=v[y];g&&typeof g=="object"&&!Array.isArray(g)&&_&&typeof _=="object"&&!Array.isArray(_)?v[y]=r(_,g):(_&&g&&typeof _!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof _}, New type: ${typeof g}. Overwriting.`),v[y]=g)}return v}const u=r(o,t);i.body=JSON.stringify(u)}const sA="mcp_used/unknown";let uA=!1;function vg(i){for(const t of i)if(cA(t)||typeof t=="object"&&"inputSchema"in t)return!0;return uA}function yg(i){var t;const o=(t=i[fc])!==null&&t!==void 0?t:"";i[fc]=(o+` ${sA}`).trimStart()}function cA(i){return i!==null&&typeof i=="object"&&i instanceof Mc}function fA(i){return _n(this,arguments,function*(o,r=100){let u,f=0;for(;f<r;){const m=yield Te(o.listTools({cursor:u}));for(const v of m.tools)yield yield Te(v),f++;if(!m.nextCursor)break;u=m.nextCursor}})}class Mc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Mc(t,o)}async initialize(){var t,o,r,u;if(this.mcpTools.length>0)return;const f={},m=[];for(const _ of this.mcpClients)try{for(var v=!0,y=(o=void 0,En(fA(_))),g;g=await y.next(),t=g.done,!t;v=!0){u=g.value,v=!1;const T=u;m.push(T);const C=T.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=_}}catch(T){o={error:T}}finally{try{!v&&!t&&(r=y.return)&&await r.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),B0(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const r of t)if(r.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[r.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await u.callTool({name:r.name,arguments:r.args},void 0,f);o.push({functionResponse:{name:r.name,response:m.isError?{error:m}:m}})}return o}}async function dA(i,t,o){const r=new L0;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(r,u),t(r)}class pA{constructor(t,o,r){this.apiClient=t,this.auth=o,this.webSocketFactory=r}async connect(t){var o,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=gA(this.apiClient.getDefaultHeaders()),v=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${v}`;let g=()=>{};const _=new Promise(ee=>{g=ee}),T=t.callbacks,C=function(){g({})},w=this.apiClient,k={onopen:C,onmessage:ee=>{dA(w,T.onmessage,ee)},onerror:(o=T?.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(r=T?.onclose)!==null&&r!==void 0?r:function(ee){}},Y=this.webSocketFactory.create(y,hA(m),k);Y.connect(),await _;const ne={setup:{model:Be(this.apiClient,t.model)}};return Y.send(JSON.stringify(ne)),new mA(Y,this.apiClient)}}class mA{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=kE(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=HE(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(zo.PLAY)}pause(){this.sendPlaybackControl(zo.PAUSE)}stop(){this.sendPlaybackControl(zo.STOP)}resetContext(){this.sendPlaybackControl(zo.RESET_CONTEXT)}close(){this.conn.close()}}function hA(i){const t={};return i.forEach((o,r)=>{t[r]=o}),t}function gA(i){const t=new Headers;for(const[o,r]of Object.entries(i))t.append(o,r);return t}const vA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function yA(i,t,o){const r=new x0;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const f=JSON.parse(u);if(i.isVertexAI()){const m=BE(f);Object.assign(r,m)}else Object.assign(r,f);t(r)}class _A{constructor(t,o,r){this.apiClient=t,this.auth=o,this.webSocketFactory=r,this.music=new pA(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,r,u,f,m,v;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let _;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&vg(t.config.tools)&&yg(T);const C=AA(T);if(this.apiClient.isVertexAI()){const W=this.apiClient.getProject(),ie=this.apiClient.getLocation(),ge=this.apiClient.getApiKey(),oe=!!W&&!!ie||!!ge;this.apiClient.getCustomBaseUrl()&&!oe?_=y:(_=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,_))}else{const W=this.apiClient.getApiKey();let ie="BidiGenerateContent",ge="key";W?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ie="BidiGenerateContentConstrained",ge="access_token"),_=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ie}?${ge}=${W}`}let w=()=>{};const k=new Promise(W=>{w=W}),Y=t.callbacks,q=function(){var W;(W=Y?.onopen)===null||W===void 0||W.call(Y),w({})},Z=this.apiClient,ne={onopen:q,onmessage:W=>{yA(Z,Y.onmessage,W)},onerror:(o=Y?.onerror)!==null&&o!==void 0?o:function(W){},onclose:(r=Y?.onclose)!==null&&r!==void 0?r:function(W){}},ee=this.webSocketFactory.create(_,TA(C),ne);ee.connect(),await k;let se=Be(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&se.startsWith("publishers/")){const W=this.apiClient.getProject(),ie=this.apiClient.getLocation();W&&ie&&(se=`projects/${W}/locations/${ie}/`+se)}let pe={};this.apiClient.isVertexAI()&&((u=t.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ca.AUDIO]}:t.config.responseModalities=[Ca.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const $=(v=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[],J=[];for(const W of $)if(this.isCallableTool(W)){const ie=W;J.push(await ie.tool())}else J.push(W);J.length>0&&(t.config.tools=J);const ce={model:se,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?pe=PE(this.apiClient,ce):pe=FE(this.apiClient,ce),delete pe.config,ee.send(JSON.stringify(pe)),new SA(ee,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const EA={turnComplete:!0};class SA{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let r=[];try{r=pn(o.turns),t.isVertexAI()||(r=r.map(u=>Da(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:r,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let r=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?r=o.functionResponses:r=[o.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const f of r){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(vA)}return{toolResponse:{functionResponses:r}}}sendClientContent(t){t=Object.assign(Object.assign({},EA),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:VE(t)}:o={realtimeInput:qE(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function TA(i){const t={};return i.forEach((o,r)=>{t[r]=o}),t}function AA(i){const t=new Headers;for(const[o,r]of Object.entries(i))t.append(o,r);return t}const Fh=10;function Ph(i){var t,o,r;if(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let u=!1;for(const m of(o=i?.tools)!==null&&o!==void 0?o:[])if(Jo(m)){u=!0;break}if(!u)return!0;const f=(r=i?.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function Jo(i){return"callTool"in i&&typeof i.callTool=="function"}function CA(i){var t,o,r;return(r=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(u=>Jo(u)))!==null&&r!==void 0?r:!1}function Hh(i){var t;const o=[];return!((t=i?.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((r,u)=>{if(Jo(r))return;const f=r;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(u)}),o}function kh(i){var t;return!(!((t=i?.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}class RA extends jn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var r,u,f,m,v;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!CA(o)||Ph(o.config))return await this.generateContentInternal(y);const g=Hh(o);if(g.length>0){const Y=g.map(q=>`tools[${q}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${Y}.`)}let _,T;const C=pn(y.contents),w=(f=(u=(r=y.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&f!==void 0?f:Fh;let k=0;for(;k<w&&(_=await this.generateContentInternal(y),!(!_.functionCalls||_.functionCalls.length===0));){const Y=_.candidates[0].content,q=[];for(const Z of(v=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&v!==void 0?v:[])if(Jo(Z)){const ee=await Z.callTool(_.functionCalls);q.push(...ee)}k++,T={role:"user",parts:q},y.contents=pn(y.contents),y.contents.push(Y),y.contents.push(T),kh(y.config)&&(C.push(Y),C.push(T))}return kh(y.config)&&(_.automaticFunctionCallingHistory=C),_},this.generateContentStream=async o=>{var r,u,f,m,v;if(this.maybeMoveToResponseJsonSchem(o),Ph(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Hh(o);if(y.length>0){const T=y.map(C=>`tools[${C}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(f=(u=(r=o?.config)===null||r===void 0?void 0:r.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,_=(v=(m=o?.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||v===void 0?void 0:v.disable;if(g&&!_)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(r=>{var u;let f;const m=[];if(r?.generatedImages)for(const y of r.generatedImages)y&&y?.safetyAttributes&&((u=y?.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?f=y?.safetyAttributes:m.push(y);let v;return f?v={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:r.sdkHttpResponse}:v={generatedImages:m,sdkHttpResponse:r.sdkHttpResponse},v}),this.list=async o=>{var r;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((r=m.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new eo(Wn.PAGED_ITEM_MODELS,v=>this.listInternal(v),await this.listInternal(m),m)},this.editImage=async o=>{const r={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(r.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async o=>{let r={numberOfImages:1,mode:"upscale"};o.config&&(r=Object.assign(Object.assign({},r),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:r};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var r,u,f,m,v,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=o.video)===null||r===void 0)&&r.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(f=o.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((y=(v=o.source)===null||v===void 0?void 0:v.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,r,u;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const m=await Promise.all(f.map(async y=>Jo(y)?await y.tool():y)),v={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(v.config.tools=m,t.config&&t.config.tools&&vg(t.config.tools)){const y=(u=(r=t.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&u!==void 0?u:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),yg(g),v.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return v}async initAfcToolsMap(t){var o,r,u;const f=new Map;for(const m of(r=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if(Jo(m)){const v=m,y=await v.tool();for(const g of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,v)}}return f}async processAfcStream(t){var o,r,u;const f=(u=(r=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&u!==void 0?u:Fh;let m=!1,v=0;const y=await this.initAfcToolsMap(t);return(function(g,_,T){return _n(this,arguments,function*(){for(var C,w,k,Y,q,Z;v<f;){m&&(v++,m=!1);const pe=yield Te(g.processParamsMaybeAddMcpUsage(T)),$=yield Te(g.generateContentStreamInternal(pe)),J=[],ce=[];try{for(var ne=!0,ee=(w=void 0,En($)),se;se=yield Te(ee.next()),C=se.done,!C;ne=!0){Y=se.value,ne=!1;const W=Y;if(yield yield Te(W),W.candidates&&(!((q=W.candidates[0])===null||q===void 0)&&q.content)){ce.push(W.candidates[0].content);for(const ie of(Z=W.candidates[0].content.parts)!==null&&Z!==void 0?Z:[])if(v<f&&ie.functionCall){if(!ie.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(ie.functionCall.name)){const ge=yield Te(_.get(ie.functionCall.name).callTool([ie.functionCall]));J.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${ie.functionCall.name}`)}}}}catch(W){w={error:W}}finally{try{!ne&&!C&&(k=ee.return)&&(yield Te(k.call(ee)))}finally{if(w)throw w.error}}if(J.length>0){m=!0;const W=new Jl;W.candidates=[{content:{role:"user",parts:J}}],yield yield Te(W);const ie=[];ie.push(...ce),ie.push({role:"user",parts:J});const ge=pn(T.contents).concat(ie);T.contents=ge}else break}})})(this,y,t)}async generateContentInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=bh(this.apiClient,t);return v=ae("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=Lh(_),C=new Jl;return Object.assign(C,T),C})}else{const g=Uh(this.apiClient,t);return v=ae("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=xh(_),C=new Jl;return Object.assign(C,T),C})}}async generateContentStreamInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=bh(this.apiClient,t);return v=ae("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}),m.then(function(T){return _n(this,arguments,function*(){var C,w,k,Y;try{for(var q=!0,Z=En(T),ne;ne=yield Te(Z.next()),C=ne.done,!C;q=!0){Y=ne.value,q=!1;const ee=Y,se=Lh(yield Te(ee.json()));se.sdkHttpResponse={headers:ee.headers};const pe=new Jl;Object.assign(pe,se),yield yield Te(pe)}}catch(ee){w={error:ee}}finally{try{!q&&!C&&(k=Z.return)&&(yield Te(k.call(Z)))}finally{if(w)throw w.error}}})})}else{const g=Uh(this.apiClient,t);return v=ae("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.requestStream({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(T){return _n(this,arguments,function*(){var C,w,k,Y;try{for(var q=!0,Z=En(T),ne;ne=yield Te(Z.next()),C=ne.done,!C;q=!0){Y=ne.value,q=!1;const ee=Y,se=xh(yield Te(ee.json()));se.sdkHttpResponse={headers:ee.headers};const pe=new Jl;Object.assign(pe,se),yield yield Te(pe)}}catch(ee){w={error:ee}}finally{try{!q&&!C&&(k=Z.return)&&(yield Te(k.call(Z)))}finally{if(w)throw w.error}}})})}}async embedContent(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=_S(this.apiClient,t);return v=ae("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=SS(_),C=new mh;return Object.assign(C,T),C})}else{const g=yS(this.apiClient,t);return v=ae("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=ES(_),C=new mh;return Object.assign(C,T),C})}}async generateImagesInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=bS(this.apiClient,t);return v=ae("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=LS(_),C=new hh;return Object.assign(C,T),C})}else{const g=US(this.apiClient,t);return v=ae("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=xS(_),C=new hh;return Object.assign(C,T),C})}}async editImageInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=mS(this.apiClient,t);return f=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const g=hS(y),_=new T0;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=bT(this.apiClient,t);return f=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const g=xT(y),_=new A0;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=pT(this.apiClient,t);return f=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=mT(y),_=new C0;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=ET(this.apiClient,t);return f=ae("{model}:predict",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=ST(y),_=new R0;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=$S(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>cc(_))}else{const g=ZS(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>uc(_))}}async listInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=rT(this.apiClient,t);return v=ae("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=sT(_),C=new gh;return Object.assign(C,T),C})}else{const g=lT(this.apiClient,t);return v=ae("{models_url}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=aT(_),C=new gh;return Object.assign(C,T),C})}}async update(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=DT(this.apiClient,t);return v=ae("{model}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>cc(_))}else{const g=IT(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>uc(_))}}async delete(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=cS(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=dS(_),C=new vh;return Object.assign(C,T),C})}else{const g=uS(this.apiClient,t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=fS(_),C=new vh;return Object.assign(C,T),C})}}async countTokens(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=rS(this.apiClient,t);return v=ae("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=sS(_),C=new yh;return Object.assign(C,T),C})}else{const g=lS(this.apiClient,t);return v=ae("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=aS(_),C=new yh;return Object.assign(C,T),C})}}async computeTokens(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=WE(this.apiClient,t);return f=ae("{model}:computeTokens",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>{const g=jE(y),_=new M0;return Object.assign(_,g),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=qS(this.apiClient,t);return v=ae("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m.then(_=>{const T=HS(_),C=new Ra;return Object.assign(C,T),C})}else{const g=kS(this.apiClient,t);return v=ae("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m.then(_=>{const T=PS(_),C=new Ra;return Object.assign(C,T),C})}}}class MA extends jn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,r=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(t){const o=t.operation,r=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let f;r&&"httpOptions"in r&&(f=r.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:r});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=g0(t);return v=ae("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json()),m}else{const g=h0(t);return v=ae("{operationName}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json()),m}}async fetchPredictVideosOperationInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=s0(t);return f=ae("{resourceName}:fetchPredictOperation",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}function NA(i){const t={},o=s(i,["data"]);if(o!=null&&c(t,["data"],o),s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function wA(i){const t={},o=s(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(f=>PA(f))),c(t,["parts"],u)}const r=s(i,["role"]);return r!=null&&c(t,["role"],r),t}function IA(i,t,o){const r={},u=s(t,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const f=s(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const m=s(t,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const v=s(t,["liveConnectConstraints"]);o!==void 0&&v!=null&&c(o,["bidiGenerateContentSetup"],FA(i,v));const y=s(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),r}function DA(i,t){const o={},r=s(t,["config"]);return r!=null&&c(o,["config"],IA(i,r,o)),o}function UA(i){const t={};if(s(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const r=s(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function bA(i){const t={},o=s(i,["id"]);o!=null&&c(t,["id"],o);const r=s(i,["args"]);r!=null&&c(t,["args"],r);const u=s(i,["name"]);if(u!=null&&c(t,["name"],u),s(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xA(i){const t={};if(s(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=s(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function LA(i){const t={};if(s(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=s(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function GA(i,t){const o={},r=s(i,["generationConfig"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig"],r);const u=s(i,["responseModalities"]);t!==void 0&&u!=null&&c(t,["setup","generationConfig","responseModalities"],u);const f=s(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const m=s(i,["topP"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","topP"],m);const v=s(i,["topK"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","topK"],v);const y=s(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=s(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const _=s(i,["seed"]);t!==void 0&&_!=null&&c(t,["setup","generationConfig","seed"],_);const T=s(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Rc(T));const C=s(i,["thinkingConfig"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","thinkingConfig"],C);const w=s(i,["enableAffectiveDialog"]);t!==void 0&&w!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],w);const k=s(i,["systemInstruction"]);t!==void 0&&k!=null&&c(t,["setup","systemInstruction"],wA(xt(k)));const Y=s(i,["tools"]);if(t!==void 0&&Y!=null){let $=Xo(Y);Array.isArray($)&&($=$.map(J=>kA(Ko(J)))),c(t,["setup","tools"],$)}const q=s(i,["sessionResumption"]);t!==void 0&&q!=null&&c(t,["setup","sessionResumption"],HA(q));const Z=s(i,["inputAudioTranscription"]);t!==void 0&&Z!=null&&c(t,["setup","inputAudioTranscription"],Z);const ne=s(i,["outputAudioTranscription"]);t!==void 0&&ne!=null&&c(t,["setup","outputAudioTranscription"],ne);const ee=s(i,["realtimeInputConfig"]);t!==void 0&&ee!=null&&c(t,["setup","realtimeInputConfig"],ee);const se=s(i,["contextWindowCompression"]);t!==void 0&&se!=null&&c(t,["setup","contextWindowCompression"],se);const pe=s(i,["proactivity"]);if(t!==void 0&&pe!=null&&c(t,["setup","proactivity"],pe),s(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function FA(i,t){const o={},r=s(t,["model"]);r!=null&&c(o,["setup","model"],Be(i,r));const u=s(t,["config"]);return u!=null&&c(o,["config"],GA(u,o)),o}function PA(i){const t={},o=s(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const r=s(i,["codeExecutionResult"]);r!=null&&c(t,["codeExecutionResult"],r);const u=s(i,["executableCode"]);u!=null&&c(t,["executableCode"],u);const f=s(i,["fileData"]);f!=null&&c(t,["fileData"],UA(f));const m=s(i,["functionCall"]);m!=null&&c(t,["functionCall"],bA(m));const v=s(i,["functionResponse"]);v!=null&&c(t,["functionResponse"],v);const y=s(i,["inlineData"]);y!=null&&c(t,["inlineData"],NA(y));const g=s(i,["text"]);g!=null&&c(t,["text"],g);const _=s(i,["thought"]);_!=null&&c(t,["thought"],_);const T=s(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const C=s(i,["videoMetadata"]);return C!=null&&c(t,["videoMetadata"],C),t}function HA(i){const t={},o=s(i,["handle"]);if(o!=null&&c(t,["handle"],o),s(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function kA(i){const t={};if(s(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=s(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const r=s(i,["fileSearch"]);r!=null&&c(t,["fileSearch"],r);const u=s(i,["codeExecution"]);if(u!=null&&c(t,["codeExecution"],u),s(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=s(i,["functionDeclarations"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(T=>T)),c(t,["functionDeclarations"],_)}const m=s(i,["googleMaps"]);m!=null&&c(t,["googleMaps"],xA(m));const v=s(i,["googleSearch"]);v!=null&&c(t,["googleSearch"],LA(v));const y=s(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=s(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function qA(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const r=i[o];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const u=Object.keys(r).map(f=>`${o}.${f}`);t.push(...u)}else t.push(o)}return t.join(",")}function VA(i,t){let o=null;const r=i.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const f=r.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else r!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const f=qA(o);if(Array.isArray(t?.lockAdditionalFields)&&t?.lockAdditionalFields.length===0)f?i.fieldMask=f:delete i.fieldMask;else if(t?.lockAdditionalFields&&t.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let v=[];u.length>0&&(v=u.map(g=>m.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),v.length>0&&y.push(...v),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class BA extends jn{constructor(t){super(),this.apiClient=t}async create(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const v=DA(this.apiClient,t);f=ae("auth_tokens",v._url),m=v._query,delete v.config,delete v._url,delete v._query;const y=VA(v,t.config);return u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),u.then(g=>g)}}}function zA(i,t){const o={},r=s(i,["force"]);return t!==void 0&&r!=null&&c(t,["_query","force"],r),o}function OA(i){const t={},o=s(i,["name"]);o!=null&&c(t,["_url","name"],o);const r=s(i,["config"]);return r!=null&&zA(r,t),t}function YA(i){const t={},o=s(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function JA(i,t){const o={},r=s(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const u=s(i,["pageToken"]);return t!==void 0&&u!=null&&c(t,["_query","pageToken"],u),o}function KA(i){const t={},o=s(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const r=s(i,["config"]);return r!=null&&JA(r,t),t}function XA(i){const t={},o=s(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const r=s(i,["nextPageToken"]);r!=null&&c(t,["nextPageToken"],r);const u=s(i,["documents"]);if(u!=null){let f=u;Array.isArray(f)&&(f=f.map(m=>m)),c(t,["documents"],f)}return t}class QA extends jn{constructor(t){super(),this.apiClient=t,this.list=async o=>new eo(Wn.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:o.parent,config:r.config}),await this.listInternal(o),o)}async get(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=YA(t);return f=ae("{name}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,r;let u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=OA(t);u=ae("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=KA(t);return f=ae("{parent}/documents",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=XA(y),_=new N0;return Object.assign(_,g),_})}}}class ZA extends jn{constructor(t,o=new QA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(r={})=>new eo(Wn.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(r),r)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=qT(t);return f=ae("fileSearchStores",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async get(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=zT(t);return f=ae("{name}",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>y)}}async delete(t){var o,r;let u="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=BT(t);u=ae("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:u,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=QT(t);return f=ae("fileSearchStores",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=ZT(y),_=new w0;return Object.assign(_,g),_})}}async uploadToFileSearchStoreInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=$T(t);return f=ae("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=WT(y),_=new I0;return Object.assign(_,g),_})}}async importFile(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=JT(t);return f=ae("{file_search_store_name}:importFile",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json()),u.then(y=>{const g=YT(y),_=new Ec;return Object.assign(_,g),_})}}}let _g=function(){const{crypto:i}=globalThis;if(i?.randomUUID)return _g=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^o()&15>>+r/4).toString(16))};const $A=()=>_g();function dc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const pc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};class mn extends Error{}class Pt extends mn{constructor(t,o,r,u){super(`${Pt.makeMessage(t,o,r)}`),this.status=t,this.headers=u,this.error=o}static makeMessage(t,o,r){const u=o?.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):r;return t&&u?`${t} ${u}`:t?`${t} status code (no body)`:u||"(no status code or body)"}static generate(t,o,r,u){if(!t||!u)return new xa({message:r,cause:pc(o)});const f=o;return t===400?new Sg(t,f,r,u):t===401?new Tg(t,f,r,u):t===403?new Ag(t,f,r,u):t===404?new Cg(t,f,r,u):t===409?new Rg(t,f,r,u):t===422?new Mg(t,f,r,u):t===429?new Ng(t,f,r,u):t>=500?new wg(t,f,r,u):new Pt(t,f,r,u)}}class mc extends Pt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class xa extends Pt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class Eg extends xa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Sg extends Pt{}class Tg extends Pt{}class Ag extends Pt{}class Cg extends Pt{}class Rg extends Pt{}class Mg extends Pt{}class Ng extends Pt{}class wg extends Pt{}const WA=/^[a-z][a-z0-9+.-]*:/i,jA=i=>WA.test(i);let hc=i=>(hc=Array.isArray,hc(i));const eC=hc;let tC=eC;const qh=tC;function nC(i){if(!i)return!0;for(const t in i)return!1;return!0}function iC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const oC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new mn(`${i} must be an integer`);if(t<0)throw new mn(`${i} must be a positive integer`);return t},lC=i=>{try{return JSON.parse(i)}catch{return}};const rC=i=>new Promise(t=>setTimeout(t,i));const Bo="0.0.1";function aC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const sC=()=>{var i,t,o,r,u;const f=aC();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bo,"X-Stainless-OS":Bh(Deno.build.os),"X-Stainless-Arch":Vh(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bo,"X-Stainless-OS":Bh((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Vh((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(u=globalThis.process.version)!==null&&u!==void 0?u:"unknown"};const m=uC();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Bo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function uC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const r=o.exec(navigator.userAgent);if(r){const u=r[1]||0,f=r[2]||0,m=r[3]||0;return{browser:t,version:`${u}.${f}.${m}`}}}return null}const Vh=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Bh=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let va;const cC=()=>va??(va=sC());function fC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Ig(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function dC(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Ig({start(){},async pull(o){const{done:r,value:u}=await t.next();r?o.close():o.enqueue(u)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Dg(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o?.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function pC(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const r=i.getReader(),u=r.cancel();r.releaseLock(),await u}const mC=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});const Ug=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t?.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function tc(i,t,o){return Ug(),new File(i,t??"unknown_file",o)}function hC(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const gC=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";const bg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",vC=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&bg(i),yC=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function _C(i,t,o){if(Ug(),i=await i,vC(i))return i instanceof File?i:tc([await i.arrayBuffer()],i.name);if(yC(i)){const u=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),tc(await gc(u),t,o)}const r=await gc(i);if(t||(t=hC(i)),!o?.type){const u=r.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof u=="string"&&(o=Object.assign(Object.assign({},o),{type:u}))}return tc(r,t,o)}async function gc(i){var t,o,r,u,f;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(bg(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(gC(i))try{for(var v=!0,y=En(i),g;g=await y.next(),t=g.done,!t;v=!0){u=g.value,v=!1;const _=u;m.push(...await gc(_))}}catch(_){o={error:_}}finally{try{!v&&!t&&(r=y.return)&&await r.call(y)}finally{if(o)throw o.error}}else{const _=(f=i?.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${_?`; constructor: ${_}`:""}${EC(i)}`)}return m}function EC(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}class xg{constructor(t){this._client=t}}xg._key=[];function Lg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const zh=Object.freeze(Object.create(null)),SC=(i=Lg)=>(function(o,...r){if(o.length===1)return o[0];let u=!1;const f=[],m=o.reduce((_,T,C)=>{var w,k,Y;/[?#]/.test(T)&&(u=!0);const q=r[C];let Z=(u?encodeURIComponent:i)(""+q);return C!==r.length&&(q==null||typeof q=="object"&&q.toString===((Y=Object.getPrototypeOf((k=Object.getPrototypeOf((w=q.hasOwnProperty)!==null&&w!==void 0?w:zh))!==null&&k!==void 0?k:zh))===null||Y===void 0?void 0:Y.toString))&&(Z=q+"",f.push({start:_.length+T.length,length:Z.length,error:`Value of type ${Object.prototype.toString.call(q).slice(8,-1)} is not a valid path parameter`})),_+T+(C===r.length?"":Z)},""),v=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(v))!==null;)f.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(f.sort((_,T)=>_.start-T.start),f.length>0){let _=0;const T=f.reduce((C,w)=>{const k=" ".repeat(w.start-_),Y="^".repeat(w.length);return _=w.start+w.length,C+k+Y},"");throw new mn(`Path parameters result in path with invalid segments:
${f.map(C=>C.error).join(`
`)}
${m}
${T}`)}return m}),ya=SC(Lg);class Gg extends xg{create(t,o){var r;const{api_version:u=this._client.apiVersion}=t,f=Na(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new mn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new mn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(ya`/${u}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(r=t.stream)!==null&&r!==void 0?r:!1}))}delete(t,o={},r){const{api_version:u=this._client.apiVersion}=o??{};return this._client.delete(ya`/${u}/interactions/${t}`,r)}cancel(t,o={},r){const{api_version:u=this._client.apiVersion}=o??{};return this._client.post(ya`/${u}/interactions/${t}/cancel`,r)}get(t,o={},r){var u;const f=o??{},{api_version:m=this._client.apiVersion}=f,v=Na(f,["api_version"]);return this._client.get(ya`/${m}/interactions/${t}`,Object.assign(Object.assign({query:v},r),{stream:(u=o?.stream)!==null&&u!==void 0?u:!1}))}}Gg._key=Object.freeze(["interactions"]);class Fg extends Gg{}function TC(i){let t=0;for(const u of i)t+=u.length;const o=new Uint8Array(t);let r=0;for(const u of i)o.set(u,r),r+=u.length;return o}let _a;function Nc(i){let t;return(_a??(t=new globalThis.TextEncoder,_a=t.encode.bind(t)))(i)}let Ea;function Oh(i){let t;return(Ea??(t=new globalThis.TextDecoder,Ea=t.decode.bind(t)))(i)}class La{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Nc(t):t;this.buffer=TC([this.buffer,o]);const r=[];let u;for(;(u=AC(this.buffer,this.carriageReturnIndex))!=null;){if(u.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=u.index;continue}if(this.carriageReturnIndex!=null&&(u.index!==this.carriageReturnIndex+1||u.carriage)){r.push(Oh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?u.preceding-1:u.preceding,m=Oh(this.buffer.subarray(0,f));r.push(m),this.buffer=this.buffer.subarray(u.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}La.NEWLINE_CHARS=new Set([`
`,"\r"]);La.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function AC(i,t){for(let u=t??0;u<i.length;u++){if(i[u]===10)return{preceding:u,index:u+1,carriage:!1};if(i[u]===13)return{preceding:u,index:u+1,carriage:!0}}return null}function CC(i){for(let r=0;r<i.length-1;r++){if(i[r]===10&&i[r+1]===10||i[r]===13&&i[r+1]===13)return r+2;if(i[r]===13&&i[r+1]===10&&r+3<i.length&&i[r+2]===13&&i[r+3]===10)return r+4}return-1}const wa={off:0,error:200,warn:300,info:400,debug:500},Yh=(i,t,o)=>{if(i){if(iC(wa,i))return i;Ft(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(wa))}`)}};function Xl(){}function Sa(i,t,o){return!t||wa[i]>wa[o]?Xl:t[i].bind(t)}const RC={error:Xl,warn:Xl,info:Xl,debug:Xl};let Jh=new WeakMap;function Ft(i){var t;const o=i.logger,r=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return RC;const u=Jh.get(o);if(u&&u[0]===r)return u[1];const f={error:Sa("error",o,r),warn:Sa("warn",o,r),info:Sa("info",o,r),debug:Sa("debug",o,r)};return Jh.set(o,[r,f]),f}const ji=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);class Oo{constructor(t,o,r){this.iterator=t,this.controller=o,this.client=r}static fromSSEResponse(t,o,r){let u=!1;const f=r?Ft(r):console;function m(){return _n(this,arguments,function*(){var y,g,_,T;if(u)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");u=!0;let C=!1;try{try{for(var w=!0,k=En(MC(t,o)),Y;Y=yield Te(k.next()),y=Y.done,!y;w=!0){T=Y.value,w=!1;const q=T;if(!C)if(q.data.startsWith("[DONE]")){C=!0;continue}else try{yield yield Te(JSON.parse(q.data))}catch(Z){throw f.error("Could not parse message into JSON:",q.data),f.error("From chunk:",q.raw),Z}}}catch(q){g={error:q}}finally{try{!w&&!y&&(_=k.return)&&(yield Te(_.call(k)))}finally{if(g)throw g.error}}C=!0}catch(q){if(dc(q))return yield Te(void 0);throw q}finally{C||o.abort()}})}return new Oo(m,o,r)}static fromReadableStream(t,o,r){let u=!1;function f(){return _n(this,arguments,function*(){var y,g,_,T;const C=new La,w=Dg(t);try{for(var k=!0,Y=En(w),q;q=yield Te(Y.next()),y=q.done,!y;k=!0){T=q.value,k=!1;const Z=T;for(const ne of C.decode(Z))yield yield Te(ne)}}catch(Z){g={error:Z}}finally{try{!k&&!y&&(_=Y.return)&&(yield Te(_.call(Y)))}finally{if(g)throw g.error}}for(const Z of C.flush())yield yield Te(Z)})}function m(){return _n(this,arguments,function*(){var y,g,_,T;if(u)throw new mn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");u=!0;let C=!1;try{try{for(var w=!0,k=En(f()),Y;Y=yield Te(k.next()),y=Y.done,!y;w=!0){T=Y.value,w=!1;const q=T;C||q&&(yield yield Te(JSON.parse(q)))}}catch(q){g={error:q}}finally{try{!w&&!y&&(_=k.return)&&(yield Te(_.call(k)))}finally{if(g)throw g.error}}C=!0}catch(q){if(dc(q))return yield Te(void 0);throw q}finally{C||o.abort()}})}return new Oo(m,o,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],r=this.iterator(),u=f=>({next:()=>{if(f.length===0){const m=r.next();t.push(m),o.push(m)}return f.shift()}});return[new Oo(()=>u(t),this.controller,this.client),new Oo(()=>u(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Ig({async start(){o=t[Symbol.asyncIterator]()},async pull(r){try{const{value:u,done:f}=await o.next();if(f)return r.close();const m=Nc(JSON.stringify(u)+`
`);r.enqueue(m)}catch(u){r.error(u)}},async cancel(){var r;await((r=o.return)===null||r===void 0?void 0:r.call(o))}})}}function MC(i,t){return _n(this,arguments,function*(){var r,u,f,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new mn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new mn("Attempted to iterate over a response with no body");const v=new wC,y=new La,g=Dg(i.body);try{for(var _=!0,T=En(NC(g)),C;C=yield Te(T.next()),r=C.done,!r;_=!0){m=C.value,_=!1;const w=m;for(const k of y.decode(w)){const Y=v.decode(k);Y&&(yield yield Te(Y))}}}catch(w){u={error:w}}finally{try{!_&&!r&&(f=T.return)&&(yield Te(f.call(T)))}finally{if(u)throw u.error}}for(const w of y.flush()){const k=v.decode(w);k&&(yield yield Te(k))}})}function NC(i){return _n(this,arguments,function*(){var o,r,u,f;let m=new Uint8Array;try{for(var v=!0,y=En(i),g;g=yield Te(y.next()),o=g.done,!o;v=!0){f=g.value,v=!1;const _=f;if(_==null)continue;const T=_ instanceof ArrayBuffer?new Uint8Array(_):typeof _=="string"?Nc(_):_;let C=new Uint8Array(m.length+T.length);C.set(m),C.set(T,m.length),m=C;let w;for(;(w=CC(m))!==-1;)yield yield Te(m.slice(0,w)),m=m.slice(w)}}catch(_){r={error:_}}finally{try{!v&&!o&&(u=y.return)&&(yield Te(u.call(y)))}finally{if(r)throw r.error}}m.length>0&&(yield yield Te(m))})}class wC{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,r,u]=IC(t,":");return u.startsWith(" ")&&(u=u.substring(1)),o==="event"?this.event=u:o==="data"&&this.data.push(u),null}}function IC(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}async function DC(i,t){const{response:o,requestLogID:r,retryOfRequestLogID:u,startTime:f}=t,m=await(async()=>{var v;if(t.options.stream)return Ft(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):Oo.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(v=y?.split(";")[0])===null||v===void 0?void 0:v.trim();return g?.includes("application/json")||g?.endsWith("+json")?await o.json():await o.text()})();return Ft(i).debug(`[${r}] response parsed`,ji({retryOfRequestLogID:u,url:o.url,status:o.status,body:m,durationMs:Date.now()-f})),m}class wc extends Promise{constructor(t,o,r=DC){super(u=>{u(null)}),this.responsePromise=o,this.parseResponse=r,this.client=t}_thenUnwrap(t){return new wc(this.client,this.responsePromise,async(o,r)=>t(await this.parseResponse(o,r),r))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}const Pg=Symbol("brand.privateNullableHeaders");function*UC(i){if(!i)return;if(Pg in i){const{values:r,nulls:u}=i;yield*r.entries();for(const f of u)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():qh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let r of o){const u=r[0];if(typeof u!="string")throw new TypeError("expected header name to be a string");const f=qh(r[1])?r[1]:[r[1]];let m=!1;for(const v of f)v!==void 0&&(t&&!m&&(m=!0,yield[u,null]),yield[u,v])}}const Kl=i=>{const t=new Headers,o=new Set;for(const r of i){const u=new Set;for(const[f,m]of UC(r)){const v=f.toLowerCase();u.has(v)||(t.delete(f),u.add(v)),m===null?(t.delete(f),o.add(v)):(t.append(f,m),o.delete(v))}}return{[Pg]:!0,values:t,nulls:o}};const nc=i=>{var t,o,r,u,f,m;if(typeof globalThis.process<"u")return(r=(o=(t=n0)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(m=(f=(u=globalThis.Deno.env)===null||u===void 0?void 0:u.get)===null||f===void 0?void 0:f.call(u,i))===null||m===void 0?void 0:m.trim()};var Hg;class Ga{constructor(t){var o,r,u,f,m,v,y,{baseURL:g=nc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:_=(o=nc("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=t,C=Na(t,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:_,apiVersion:T},C),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(r=w.timeout)!==null&&r!==void 0?r:Ga.DEFAULT_TIMEOUT,this.logger=(u=w.logger)!==null&&u!==void 0?u:console;const k="warn";this.logLevel=k,this.logLevel=(m=(f=Yh(w.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Yh(nc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:k,this.fetchOptions=w.fetchOptions,this.maxRetries=(v=w.maxRetries)!==null&&v!==void 0?v:2,this.fetch=(y=w.fetch)!==null&&y!==void 0?y:fC(),this.encoder=mC,this._options=w,this.apiKey=_,this.apiVersion=T,this.clientAdapter=w.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=Kl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return Kl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Kl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,r])=>typeof r<"u").map(([o,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(o)}=`;throw new mn(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Bo}`}defaultIdempotencyKey(){return`stainless-node-retry-${$A()}`}makeStatusError(t,o,r,u){return Pt.generate(t,o,r,u)}buildURL(t,o,r){const u=!this.baseURLOverridden()&&r||this.baseURL,f=jA(t)?new URL(t):new URL(u+(u.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return nC(m)||(o=Object.assign(Object.assign({},m),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:r}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,r){return this.request(Promise.resolve(r).then(u=>Object.assign({method:t,path:o},u)))}request(t,o=null){return new wc(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,r){var u,f,m;const v=await t,y=(u=v.maxRetries)!==null&&u!==void 0?u:this.maxRetries;o==null&&(o=y),await this.prepareOptions(v);const{req:g,url:_,timeout:T}=await this.buildRequest(v,{retryCount:y-o});await this.prepareRequest(g,{url:_,options:v});const C="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=r===void 0?"":`, retryOf: ${r}`,k=Date.now();if(Ft(this).debug(`[${C}] sending request`,ji({retryOfRequestLogID:r,method:v.method,url:_,options:v,headers:g.headers})),!((f=v.signal)===null||f===void 0)&&f.aborted)throw new mc;const Y=new AbortController,q=await this.fetchWithTimeout(_,g,T,Y).catch(pc),Z=Date.now();if(q instanceof globalThis.Error){const ee=`retrying, ${o} attempts remaining`;if(!((m=v.signal)===null||m===void 0)&&m.aborted)throw new mc;const se=dc(q)||/timed? ?out/i.test(String(q)+("cause"in q?String(q.cause):""));if(o)return Ft(this).info(`[${C}] connection ${se?"timed out":"failed"} - ${ee}`),Ft(this).debug(`[${C}] connection ${se?"timed out":"failed"} (${ee})`,ji({retryOfRequestLogID:r,url:_,durationMs:Z-k,message:q.message})),this.retryRequest(v,o,r??C);throw Ft(this).info(`[${C}] connection ${se?"timed out":"failed"} - error; no more retries left`),Ft(this).debug(`[${C}] connection ${se?"timed out":"failed"} (error; no more retries left)`,ji({retryOfRequestLogID:r,url:_,durationMs:Z-k,message:q.message})),se?new Eg:new xa({cause:q})}const ne=`[${C}${w}] ${g.method} ${_} ${q.ok?"succeeded":"failed"} with status ${q.status} in ${Z-k}ms`;if(!q.ok){const ee=await this.shouldRetry(q);if(o&&ee){const W=`retrying, ${o} attempts remaining`;return await pC(q.body),Ft(this).info(`${ne} - ${W}`),Ft(this).debug(`[${C}] response error (${W})`,ji({retryOfRequestLogID:r,url:q.url,status:q.status,headers:q.headers,durationMs:Z-k})),this.retryRequest(v,o,r??C,q.headers)}const se=ee?"error; no more retries left":"error; not retryable";Ft(this).info(`${ne} - ${se}`);const pe=await q.text().catch(W=>pc(W).message),$=lC(pe),J=$?void 0:pe;throw Ft(this).debug(`[${C}] response error (${se})`,ji({retryOfRequestLogID:r,url:q.url,status:q.status,headers:q.headers,message:J,durationMs:Date.now()-k})),this.makeStatusError(q.status,$,J,q.headers)}return Ft(this).info(ne),Ft(this).debug(`[${C}] response start`,ji({retryOfRequestLogID:r,url:q.url,status:q.status,headers:q.headers,durationMs:Z-k})),{response:q,options:v,controller:Y,requestLogID:C,retryOfRequestLogID:r,startTime:k}}async fetchWithTimeout(t,o,r,u){const f=o||{},{signal:m,method:v}=f,y=Na(f,["signal","method"]);m&&m.addEventListener("abort",()=>u.abort());const g=setTimeout(()=>u.abort(),r),_=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:u.signal},_?{duplex:"half"}:{}),{method:"GET"}),y);v&&(T.method=v.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,r,u){var f;let m;const v=u?.get("retry-after-ms");if(v){const g=parseFloat(v);Number.isNaN(g)||(m=g)}const y=u?.get("retry-after");if(y&&!m){const g=parseFloat(y);Number.isNaN(g)?m=Date.parse(y)-Date.now():m=g*1e3}if(!(m&&0<=m&&m<60*1e3)){const g=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(o,g)}return await rC(m),this.makeRequest(t,o-1,r)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,m=Math.min(.5*Math.pow(2,f),8),v=1-Math.random()*.25;return m*v*1e3}async buildRequest(t,{retryCount:o=0}={}){var r,u,f;const m=Object.assign({},t),{method:v,path:y,query:g,defaultBaseURL:_}=m,T=this.buildURL(y,g,_);"timeout"in m&&oC("timeout",m.timeout),m.timeout=(r=m.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:C,body:w}=this.buildBody({options:m}),k=await this.buildHeaders({options:t,method:v,bodyHeaders:C,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:v,headers:k},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(u=this.fetchOptions)!==null&&u!==void 0?u:{}),(f=m.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:r,retryCount:u}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let v=Kl([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(u)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),cC()),this._options.defaultHeaders,r,t.headers,m]);return this.validateHeaders(v),v.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const r=Kl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&r.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:dC(t)}:this.encoder({body:t,headers:r})}}Ga.DEFAULT_TIMEOUT=6e4;class St extends Ga{constructor(){super(...arguments),this.interactions=new Fg(this)}}Hg=St;St.GeminiNextGenAPIClient=Hg;St.GeminiNextGenAPIClientError=mn;St.APIError=Pt;St.APIConnectionError=xa;St.APIConnectionTimeoutError=Eg;St.APIUserAbortError=mc;St.NotFoundError=Cg;St.ConflictError=Rg;St.RateLimitError=Ng;St.BadRequestError=Sg;St.AuthenticationError=Tg;St.InternalServerError=wg;St.PermissionDeniedError=Ag;St.UnprocessableEntityError=Mg;St.toFile=_C;St.Interactions=Fg;function bC(i,t){const o={},r=s(i,["name"]);return r!=null&&c(o,["_url","name"],r),o}function xC(i,t){const o={},r=s(i,["name"]);return r!=null&&c(o,["_url","name"],r),o}function LC(i,t){const o={},r=s(i,["sdkHttpResponse"]);return r!=null&&c(o,["sdkHttpResponse"],r),o}function GC(i,t){const o={},r=s(i,["sdkHttpResponse"]);return r!=null&&c(o,["sdkHttpResponse"],r),o}function FC(i,t,o){const r={};if(s(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=s(i,["tunedModelDisplayName"]);if(t!==void 0&&u!=null&&c(t,["displayName"],u),s(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=s(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const m=s(i,["learningRateMultiplier"]);if(m!=null&&c(r,["tuningTask","hyperparameters","learningRateMultiplier"],m),s(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const v=s(i,["batchSize"]);t!==void 0&&v!=null&&c(t,["tuningTask","hyperparameters","batchSize"],v);const y=s(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),s(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function PC(i,t,o){const r={};let u=s(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const w=s(i,["validationDataset"]);t!==void 0&&w!=null&&c(t,["supervisedTuningSpec"],Kh(w))}else if(u==="PREFERENCE_TUNING"){const w=s(i,["validationDataset"]);t!==void 0&&w!=null&&c(t,["preferenceOptimizationSpec"],Kh(w))}const f=s(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const m=s(i,["description"]);t!==void 0&&m!=null&&c(t,["description"],m);let v=s(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const w=s(i,["epochCount"]);t!==void 0&&w!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(v==="PREFERENCE_TUNING"){const w=s(i,["epochCount"]);t!==void 0&&w!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let y=s(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const w=s(i,["learningRateMultiplier"]);t!==void 0&&w!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(y==="PREFERENCE_TUNING"){const w=s(i,["learningRateMultiplier"]);t!==void 0&&w!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let g=s(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=s(i,["exportLastCheckpointOnly"]);t!==void 0&&w!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(g==="PREFERENCE_TUNING"){const w=s(i,["exportLastCheckpointOnly"]);t!==void 0&&w!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let _=s(o,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const w=s(i,["adapterSize"]);t!==void 0&&w!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(_==="PREFERENCE_TUNING"){const w=s(i,["adapterSize"]);t!==void 0&&w!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(s(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=s(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const C=s(i,["beta"]);return t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],C),r}function HC(i,t){const o={},r=s(i,["baseModel"]);r!=null&&c(o,["baseModel"],r);const u=s(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const f=s(i,["trainingDataset"]);f!=null&&QC(f);const m=s(i,["config"]);return m!=null&&FC(m,o),o}function kC(i,t){const o={},r=s(i,["baseModel"]);r!=null&&c(o,["baseModel"],r);const u=s(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const f=s(i,["trainingDataset"]);f!=null&&ZC(f,o,t);const m=s(i,["config"]);return m!=null&&PC(m,o,t),o}function qC(i,t){const o={},r=s(i,["name"]);return r!=null&&c(o,["_url","name"],r),o}function VC(i,t){const o={},r=s(i,["name"]);return r!=null&&c(o,["_url","name"],r),o}function BC(i,t,o){const r={},u=s(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const f=s(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const m=s(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),r}function zC(i,t,o){const r={},u=s(i,["pageSize"]);t!==void 0&&u!=null&&c(t,["_query","pageSize"],u);const f=s(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const m=s(i,["filter"]);return t!==void 0&&m!=null&&c(t,["_query","filter"],m),r}function OC(i,t){const o={},r=s(i,["config"]);return r!=null&&BC(r,o),o}function YC(i,t){const o={},r=s(i,["config"]);return r!=null&&zC(r,o),o}function JC(i,t){const o={},r=s(i,["sdkHttpResponse"]);r!=null&&c(o,["sdkHttpResponse"],r);const u=s(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const f=s(i,["tunedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>kg(v))),c(o,["tuningJobs"],m)}return o}function KC(i,t){const o={},r=s(i,["sdkHttpResponse"]);r!=null&&c(o,["sdkHttpResponse"],r);const u=s(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const f=s(i,["tuningJobs"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(v=>vc(v))),c(o,["tuningJobs"],m)}return o}function XC(i,t){const o={},r=s(i,["name"]);r!=null&&c(o,["model"],r);const u=s(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function QC(i,t){const o={};if(s(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=s(i,["examples"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(f=>f)),c(o,["examples","examples"],u)}return o}function ZC(i,t,o){const r={};let u=s(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=s(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(u==="PREFERENCE_TUNING"){const m=s(i,["gcsUri"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let f=s(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=s(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(f==="PREFERENCE_TUNING"){const m=s(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(s(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function kg(i,t){const o={},r=s(i,["sdkHttpResponse"]);r!=null&&c(o,["sdkHttpResponse"],r);const u=s(i,["name"]);u!=null&&c(o,["name"],u);const f=s(i,["state"]);f!=null&&c(o,["state"],tg(f));const m=s(i,["createTime"]);m!=null&&c(o,["createTime"],m);const v=s(i,["tuningTask","startTime"]);v!=null&&c(o,["startTime"],v);const y=s(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=s(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const _=s(i,["description"]);_!=null&&c(o,["description"],_);const T=s(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const C=s(i,["_self"]);return C!=null&&c(o,["tunedModel"],XC(C)),o}function vc(i,t){const o={},r=s(i,["sdkHttpResponse"]);r!=null&&c(o,["sdkHttpResponse"],r);const u=s(i,["name"]);u!=null&&c(o,["name"],u);const f=s(i,["state"]);f!=null&&c(o,["state"],tg(f));const m=s(i,["createTime"]);m!=null&&c(o,["createTime"],m);const v=s(i,["startTime"]);v!=null&&c(o,["startTime"],v);const y=s(i,["endTime"]);y!=null&&c(o,["endTime"],y);const g=s(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const _=s(i,["error"]);_!=null&&c(o,["error"],_);const T=s(i,["description"]);T!=null&&c(o,["description"],T);const C=s(i,["baseModel"]);C!=null&&c(o,["baseModel"],C);const w=s(i,["tunedModel"]);w!=null&&c(o,["tunedModel"],w);const k=s(i,["preTunedModel"]);k!=null&&c(o,["preTunedModel"],k);const Y=s(i,["supervisedTuningSpec"]);Y!=null&&c(o,["supervisedTuningSpec"],Y);const q=s(i,["preferenceOptimizationSpec"]);q!=null&&c(o,["preferenceOptimizationSpec"],q);const Z=s(i,["tuningDataStats"]);Z!=null&&c(o,["tuningDataStats"],Z);const ne=s(i,["encryptionSpec"]);ne!=null&&c(o,["encryptionSpec"],ne);const ee=s(i,["partnerModelTuningSpec"]);ee!=null&&c(o,["partnerModelTuningSpec"],ee);const se=s(i,["customBaseModel"]);se!=null&&c(o,["customBaseModel"],se);const pe=s(i,["experiment"]);pe!=null&&c(o,["experiment"],pe);const $=s(i,["labels"]);$!=null&&c(o,["labels"],$);const J=s(i,["outputUri"]);J!=null&&c(o,["outputUri"],J);const ce=s(i,["pipelineJob"]);ce!=null&&c(o,["pipelineJob"],ce);const W=s(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const ie=s(i,["tunedModelDisplayName"]);ie!=null&&c(o,["tunedModelDisplayName"],ie);const ge=s(i,["veoTuningSpec"]);return ge!=null&&c(o,["veoTuningSpec"],ge),o}function $C(i,t){const o={},r=s(i,["sdkHttpResponse"]);r!=null&&c(o,["sdkHttpResponse"],r);const u=s(i,["name"]);u!=null&&c(o,["name"],u);const f=s(i,["metadata"]);f!=null&&c(o,["metadata"],f);const m=s(i,["done"]);m!=null&&c(o,["done"],m);const v=s(i,["error"]);return v!=null&&c(o,["error"],v),o}function Kh(i,t){const o={},r=s(i,["gcsUri"]);r!=null&&c(o,["validationDatasetUri"],r);const u=s(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}class WC extends jn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new eo(Wn.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var r;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((r=o.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:u});return f.baseModel=void 0,await this.tuneInternal(f)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),f=await this.tuneMldevInternal(u);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:oc.JOB_STATE_QUEUED}}}}async getInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=VC(t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>vc(_))}else{const g=qC(t);return v=ae("{name}",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>kg(_))}}async listInternal(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=YC(t);return v=ae("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=KC(_),C=new _h;return Object.assign(C,T),C})}else{const g=OC(t);return v=ae("tunedModels",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=JC(_),C=new _h;return Object.assign(C,T),C})}}async cancel(t){var o,r,u,f;let m,v="",y={};if(this.apiClient.isVertexAI()){const g=xC(t);return v=ae("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=GC(_),C=new Eh;return Object.assign(C,T),C})}else{const g=bC(t);return v=ae("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,m=this.apiClient.request({path:v,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=t.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(_=>_.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:_.headers},C})),m.then(_=>{const T=LC(_),C=new Eh;return Object.assign(C,T),C})}}async tuneInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI()){const v=kC(t,t);return f=ae("tuningJobs",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>vc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,r;let u,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const v=HC(t);return f=ae("tunedModels",v._url),m=v._query,delete v._url,delete v._query,u=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(v),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(r=t.config)===null||r===void 0?void 0:r.abortSignal}).then(y=>y.json().then(g=>{const _=g;return _.sdkHttpResponse={headers:y.headers},_})),u.then(y=>$C(y))}}}class jC{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const eR=1024*1024*8,tR=3,nR=1e3,iR=2,Ia="x-goog-upload-status";async function oR(i,t,o){var r;const u=await qg(i,t,o),f=await u?.json();if(((r=u?.headers)===null||r===void 0?void 0:r[Ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function lR(i,t,o){var r;const u=await qg(i,t,o),f=await u?.json();if(((r=u?.headers)===null||r===void 0?void 0:r[Ia])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=Qh(f),v=new Sc;return Object.assign(v,m),v}async function qg(i,t,o){var r,u;let f=0,m=0,v=new rc(new Response),y="upload";for(f=i.size;m<f;){const g=Math.min(eR,f-m),_=i.slice(m,m+g);m+g>=f&&(y+=", finalize");let T=0,C=nR;for(;T<tR&&(v=await o.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(g)}}}),!(!((r=v?.headers)===null||r===void 0)&&r[Ia]));)T++,await aR(C),C=C*iR;if(m+=g,((u=v?.headers)===null||u===void 0?void 0:u[Ia])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return v}async function rR(i){return{size:i.size,type:i.type}}function aR(i){return new Promise(t=>setTimeout(t,i))}class sR{async upload(t,o,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await oR(t,o,r)}async uploadToFileSearchStore(t,o,r){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await lR(t,o,r)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await rR(t)}}class uR{create(t,o,r){return new cR(t,o,r)}}class cR{constructor(t,o,r){this.url=t,this.headers=o,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const Xh="x-goog-api-key";class fR{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(Xh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(Xh,this.apiKey)}}}const dR="gl-node/";class pR{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t?.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new St({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t?.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const r=r0(t.httpOptions,t.vertexai,void 0,void 0);r&&(t.httpOptions?t.httpOptions.baseUrl=r:t.httpOptions={baseUrl:r}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const u=new fR(this.apiKey);this.apiClient=new rA({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:dR+"web",uploader:new sR,downloader:new jC}),this.models=new RA(this.apiClient),this.live=new _A(this.apiClient,u,new uR),this.batches=new G_(this.apiClient),this.chats=new gE(this.models,this.apiClient),this.caches=new pE(this.apiClient),this.files=new ME(this.apiClient),this.operations=new MA(this.apiClient),this.authTokens=new BA(this.apiClient),this.tunings=new WC(this.apiClient),this.fileSearchStores=new ZA(this.apiClient)}}function mR(){const i=Gt.useRef(null),t=Gt.useRef(null),o=Gt.useRef(null),r=Gt.useRef(null),u=Gt.useRef(null),f=Gt.useRef(null),m=Gt.useRef(null),v=Gt.useRef(null),y=Gt.useRef(!1),g=Gt.useRef({width:0,height:0,cellWidth:0,heightStride:0}),[_,T]=Gt.useState(!1),[C,w]=Gt.useState(!1),k=()=>{const $=o.current.getBoundingClientRect(),J=g.current;J.width=$.width,J.height=$.height,J.cellWidth=$.width/m.current,J.heightStride=$.height/m.current};Gt.useEffect(()=>{let $=null;jy().then(ie=>{i.current=ie}).catch(ie=>{console.error("Error with loading WASM:",ie)});const J=o.current,ce=r.current;if(!J||!ce)return;u.current=J.getContext("2d"),f.current=ce.getContext("2d");const W=()=>{$===null&&(m.current!=null&&(k(),y.current=!0),$=requestAnimationFrame(()=>{$=null;const ie=window.devicePixelRatio||1,ge=J.getBoundingClientRect();J.width=Math.round(ge.width*ie),J.height=Math.round(ge.height*ie);const oe=g.current,de=ge.width,Ie=ge.height;oe.width=de,oe.height=Ie,oe.cellWidth=de/Number(m.current),oe.heightStride=Ie/Number(m.current),u.current.setTransform(ie,0,0,ie,0,0);const z=ce.getBoundingClientRect();ce.width=Math.round(z.width*ie),ce.height=Math.round(z.height*ie);const j=f.current;j.setTransform(ie,0,0,ie,0,0),j.clearRect(0,0,ce.width,ce.height),j.fillStyle="white",j.font="15px Fira Code",y.current=!0}))};return W(),window.addEventListener("resize",W),()=>{window.removeEventListener("resize",W),$!==null&&cancelAnimationFrame($)}},[]),Gt.useEffect(()=>{if(!_)return;const $=i.current;t.current=$.HEAP32;const J=u.current,ce=f.current;let W;const ie=t.current;if(q($,J),v.current==10){pe();return}const ge=()=>{y.current&&(y.current=!1,q($,u.current),ne(f.current));const de=$._step()/4;if(ie[de]===-1){T(!1),w(!0);return}ne(ce),Z(J,ie[de],ie[de+1]),W=requestAnimationFrame(ge)};return W=requestAnimationFrame(ge),()=>{cancelAnimationFrame(W)}},[_]),Gt.useEffect(()=>{se(f.current),ee(f.current)},[C]);const Y=$=>{$.preventDefault();const J=i.current;if(!J)return;const ce=new FormData($.currentTarget),W=Number(ce.get("quantity")),ie=Number(ce.get("algorithm"));m.current=W,v.current=ie,J._init(W,ie),T(!0),w(!1),k(),q(i.current,u.current)},q=($,J)=>{const ce=$._get_arr(),W=t.current;if(!W)return;const ie=ce/4,{width:ge,height:oe,cellWidth:de,heightStride:Ie}=g.current;J.clearRect(0,0,ge,oe),J.fillStyle="white",J.beginPath();for(let $e=0;$e<m.current;$e++){const z=ie+$e,j=Number(W[z])*Ie;J.rect(de*$e,oe-j,de,j)}J.fill()},Z=($,J,ce)=>{const{height:W,cellWidth:ie,heightStride:ge}=g.current;$.clearRect(ie*Number(J),0,ie,W),$.fillStyle="white",$.beginPath();const oe=ce*ge;$.rect(ie*Number(J),W-oe,ie,oe),$.fill()},ne=$=>{const J=i.current,ce=t.current,W=J._get_op_cnt()/4,ie=ce[W],ge=$.canvas;$.clearRect(0,0,ge.width,ge.height),$.fillStyle="white",$.font="15px Fira Code",$.fillText(`Writes: ${ie}`,50,20)},ee=$=>{const J=i.current;if(!J)return;const ce=J.HEAP64,W=J._get_runtime()/8,ie=ce[W];$.fillText(`Runtime (ms): ${ie}`,50,50)},se=$=>{const J=i.current;if(!J||m.current==null)return;const ce=t.current,W=J._get_op_cnt()/4,ie=ce[W],ge=m.current,oe=ie/ge;$.canvas,$.fillStyle="white",$.font="15px Fira Code",$.fillText("Writes / element:",20,35),$.fillText(oe.toFixed(2),200,35)},pe=async()=>{console.log("vibing");const $=u.current,J=f.current;$.fillStyle="white",$.font="15px Fira Code";const{width:ce,height:W,cellWidth:ie,heightStride:ge}=g.current,oe=r.current.getBoundingClientRect(),de=oe.width,Ie=oe.height;J.fillText("Prompting AI...",de/2,Ie/2);const $e=Array(m.current),j=i.current._get_arr(),me=t.current;if(!me)return;const he=j/4;for(let re=0;re<m.current;re++){const Se=he+re;$e[re]=Number(me[Se])}const De=new pR({apiKey:t0.geminiApiKey}),b=`Here's an array of integers in Javascript. Return the array but sorted. Only return the array, do not add anything extra: [${$e}]`,X=await De.models.generateContent({model:"gemini-3-flash-preview",contents:b}).catch(re=>{console.error("Error: ",re),J.clearRect(0,0,de,Ie),J.fillText(`Error with prompting AI
check dev console for details`,de/2,Ie/2)});console.log(X.text);const le=JSON.parse(X.text);$.clearRect(0,0,ce,W),$.fillStyle="white",$.beginPath();for(let re=0;re<le.length;re++){const Se=le[re]*ge;$.rect(ie*re,W-Se,ie,Se)}$.fill(),J.clearRect(0,0,de,Ie),J.fillText("Vibe sorting completed",de/2,Ie/2)};return We.jsxs("main",{children:[We.jsxs("header",{children:[We.jsxs("form",{onSubmit:Y,children:[We.jsxs("div",{className:"option",children:[We.jsx("label",{htmlFor:"quantity",children:"Element count: "}),We.jsx("input",{type:"number",id:"quantity",name:"quantity",required:!0})]}),We.jsxs("div",{className:"option",children:[We.jsx("label",{htmlFor:"algorithm",children:"Algorithm: "}),We.jsxs("select",{name:"algorithm",id:"algorithm",required:!0,children:[We.jsx("option",{value:"",disable:!0,select:!0,hidden:!0,children:"Select an algorithm"}),We.jsx("option",{value:"0",children:"Merge"}),We.jsx("option",{value:"1",children:"Insertion"}),We.jsx("option",{value:"2",children:"Quick"}),We.jsx("option",{value:"3",children:"Selection"}),We.jsx("option",{value:"4",children:"Bubble"}),We.jsx("option",{value:"5",children:"Heap"}),We.jsx("option",{value:"6",children:"Cycle"}),We.jsx("option",{value:"7",children:"Three way merge"}),We.jsx("option",{value:"8",children:"Bogo"}),We.jsx("option",{value:"9",children:"Stalin"}),We.jsx("option",{value:"-1",children:"Miracle"}),We.jsx("option",{value:"10",children:"Vibe"})]})]}),We.jsx("button",{children:"Run"})]}),We.jsx("canvas",{className:"stats",ref:r})]}),We.jsx("canvas",{className:"mainCanvas",ref:o})]})}Wy.createRoot(document.getElementById("root")).render(We.jsx(mR,{}));
